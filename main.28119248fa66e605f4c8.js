(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.4","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},PSD3:function(t,e,n){t.exports=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function u(t,e,n){return(u=a()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&s(i,n.prototype),i}).apply(null,arguments)}function c(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}var h="SweetAlert2:",f=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},d=function(t){return Object.keys(t).map(function(e){return t[e]})},p=function(t){return Array.prototype.slice.call(t)},g=function(e){console.warn("".concat(h," ").concat("object"===t(e)?e.join(" "):e))},m=function(t){console.error("".concat(h," ").concat(t))},y=[],v=function(t){return"function"==typeof t?t():t},b=function(t){return t&&"function"==typeof t.toPromise},w=function(t){return b(t)?t.toPromise():Promise.resolve(t)},_=function(t){return t&&Promise.resolve(t)===t},O=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),E=function(e){return e instanceof Element||function(e){return"object"===t(e)&&e.jquery}(e)},C=function(t){var e={};for(var n in t)e[t[n]]="swal2-"+t[n];return e},x=C(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","toast-column","show","hide","close","title","header","content","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),S=C(["success","warning","info","question","error"]),T=function(){return document.body.querySelector(".".concat(x.container))},I=function(t){var e=T();return e?e.querySelector(t):null},A=function(t){return I(".".concat(t))},k=function(){return A(x.popup)},j=function(){var t=k();return p(t.querySelectorAll(".".concat(x.icon)))},N=function(){var t=j().filter(function(t){return ft(t)});return t.length?t[0]:null},P=function(){return A(x.title)},D=function(){return A(x.content)},R=function(){return A(x.image)},L=function(){return A(x["progress-steps"])},V=function(){return A(x["validation-message"])},M=function(){return I(".".concat(x.actions," .").concat(x.confirm))},U=function(){return I(".".concat(x.actions," .").concat(x.deny))},F=function(){return I(".".concat(x.loader))},q=function(){return I(".".concat(x.actions," .").concat(x.cancel))},H=function(){return A(x.actions)},z=function(){return A(x.header)},B=function(){return A(x.footer)},K=function(){return A(x["timer-progress-bar"])},G=function(){return A(x.close)},$=function(){var t=p(k().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(function(t,e){return(t=parseInt(t.getAttribute("tabindex")))>(e=parseInt(e.getAttribute("tabindex")))?1:t<e?-1:0}),e=p(k().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(function(t){return"-1"!==t.getAttribute("tabindex")});return function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(t.concat(e)).filter(function(t){return ft(t)})},W=function(){return!J()&&!document.body.classList.contains(x["no-backdrop"])},J=function(){return document.body.classList.contains(x["toast-shown"])},Y={previousBodyPadding:null},Z=function(t,e){if(t.textContent="",e){var n=(new DOMParser).parseFromString(e,"text/html");p(n.querySelector("head").childNodes).forEach(function(e){t.appendChild(e)}),p(n.querySelector("body").childNodes).forEach(function(e){t.appendChild(e)})}},Q=function(t,e){if(!e)return!1;for(var n=e.split(/\s+/),r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},X=function(e,n,r){if(function(t,e){p(t.classList).forEach(function(n){-1===d(x).indexOf(n)&&-1===d(S).indexOf(n)&&-1===d(e.showClass).indexOf(n)&&t.classList.remove(n)})}(e,n),n.customClass&&n.customClass[r]){if("string"!=typeof n.customClass[r]&&!n.customClass[r].forEach)return g("Invalid type of customClass.".concat(r,'! Expected string or iterable object, got "').concat(t(n.customClass[r]),'"'));it(e,n.customClass[r])}};function tt(t,e){if(!e)return null;switch(e){case"select":case"textarea":case"file":return st(t,x[e]);case"checkbox":return t.querySelector(".".concat(x.checkbox," input"));case"radio":return t.querySelector(".".concat(x.radio," input:checked"))||t.querySelector(".".concat(x.radio," input:first-child"));case"range":return t.querySelector(".".concat(x.range," input"));default:return st(t,x.input)}}var et,nt=function(t){if(t.focus(),"file"!==t.type){var e=t.value;t.value="",t.value=e}},rt=function(t,e,n){t&&e&&("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(function(e){t.forEach?t.forEach(function(t){n?t.classList.add(e):t.classList.remove(e)}):n?t.classList.add(e):t.classList.remove(e)}))},it=function(t,e){rt(t,e,!0)},ot=function(t,e){rt(t,e,!1)},st=function(t,e){for(var n=0;n<t.childNodes.length;n++)if(Q(t.childNodes[n],e))return t.childNodes[n]},at=function(t,e,n){n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?t.style[e]="number"==typeof n?"".concat(n,"px"):n:t.style.removeProperty(e)},ut=function(t){t.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},ct=function(t){t.style.display="none"},lt=function(t,e,n,r){var i=t.querySelector(e);i&&(i.style[n]=r)},ht=function(t,e,n){e?ut(t,n):ct(t)},ft=function(t){return!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))},dt=function(t){return!!(t.scrollHeight>t.clientHeight)},pt=function(t){var e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},gt=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=K();ft(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(function(){n.style.transition="width ".concat(t/1e3,"s linear"),n.style.width="0%"},10))},mt=function(){return"undefined"==typeof window||"undefined"==typeof document},yt='\n <div aria-labelledby="'.concat(x.title,'" aria-describedby="').concat(x.content,'" class="').concat(x.popup,'" tabindex="-1">\n   <div class="').concat(x.header,'">\n     <ul class="').concat(x["progress-steps"],'"></ul>\n     <div class="').concat(x.icon," ").concat(S.error,'"></div>\n     <div class="').concat(x.icon," ").concat(S.question,'"></div>\n     <div class="').concat(x.icon," ").concat(S.warning,'"></div>\n     <div class="').concat(x.icon," ").concat(S.info,'"></div>\n     <div class="').concat(x.icon," ").concat(S.success,'"></div>\n     <img class="').concat(x.image,'" />\n     <h2 class="').concat(x.title,'" id="').concat(x.title,'"></h2>\n     <button type="button" class="').concat(x.close,'"></button>\n   </div>\n   <div class="').concat(x.content,'">\n     <div id="').concat(x.content,'" class="').concat(x["html-container"],'"></div>\n     <input class="').concat(x.input,'" />\n     <input type="file" class="').concat(x.file,'" />\n     <div class="').concat(x.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(x.select,'"></select>\n     <div class="').concat(x.radio,'"></div>\n     <label for="').concat(x.checkbox,'" class="').concat(x.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(x.label,'"></span>\n     </label>\n     <textarea class="').concat(x.textarea,'"></textarea>\n     <div class="').concat(x["validation-message"],'" id="').concat(x["validation-message"],'"></div>\n   </div>\n   <div class="').concat(x.actions,'">\n     <div class="').concat(x.loader,'"></div>\n     <button type="button" class="').concat(x.confirm,'"></button>\n     <button type="button" class="').concat(x.deny,'"></button>\n     <button type="button" class="').concat(x.cancel,'"></button>\n   </div>\n   <div class="').concat(x.footer,'"></div>\n   <div class="').concat(x["timer-progress-bar-container"],'">\n     <div class="').concat(x["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),vt=function(t){on.isVisible()&&et!==t.target.value&&on.resetValidationMessage(),et=t.target.value},bt=function(e,n){e instanceof HTMLElement?n.appendChild(e):"object"===t(e)?wt(e,n):e&&Z(n,e)},wt=function(t,e){t.jquery?_t(e,t):Z(e,t.toString())},_t=function(t,e){if(t.textContent="",0 in e)for(var n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},Ot=function(){if(mt())return!1;var t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&void 0!==t.style[n])return e[n];return!1}();function Et(t,e,n){ht(t,n["show".concat(f(e),"Button")],"inline-block"),Z(t,n["".concat(e,"ButtonText")]),t.setAttribute("aria-label",n["".concat(e,"ButtonAriaLabel")]),t.className=x[e],X(t,n,"".concat(e,"Button")),it(t,n["".concat(e,"ButtonClass")])}var Ct={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},xt=["input","file","range","select","radio","checkbox","textarea"],St=function(t,e){t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)},Tt=function(t,e,n){if(n.inputLabel){t.id=x.input;var r=document.createElement("label"),i=x["input-label"];r.setAttribute("for",t.id),r.className=i,it(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},It=function(t){var e=x[t]?x[t]:x.input;return st(D(),e)},At={};At.text=At.email=At.password=At.number=At.tel=At.url=function(e,n){return"string"==typeof n.inputValue||"number"==typeof n.inputValue?e.value=n.inputValue:_(n.inputValue)||g('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(t(n.inputValue),'"')),Tt(e,e,n),St(e,n),e.type=n.input,e},At.file=function(t,e){return Tt(t,t,e),St(t,e),t},At.range=function(t,e){var n=t.querySelector("input"),r=t.querySelector("output");return n.value=e.inputValue,n.type=e.input,r.value=e.inputValue,Tt(n,t,e),t},At.select=function(t,e){if(t.textContent="",e.inputPlaceholder){var n=document.createElement("option");Z(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Tt(t,t,e),t},At.radio=function(t){return t.textContent="",t},At.checkbox=function(t,e){var n=tt(D(),"checkbox");n.value=1,n.id=x.checkbox,n.checked=Boolean(e.inputValue);var r=t.querySelector("span");return Z(r,e.inputPlaceholder),t},At.textarea=function(t,e){t.value=e.inputValue,St(t,e),Tt(t,t,e);var n=function(t){return parseInt(window.getComputedStyle(t).paddingLeft)+parseInt(window.getComputedStyle(t).paddingRight)};if("MutationObserver"in window){var r=parseInt(window.getComputedStyle(k()).width);new MutationObserver(function(){var e=t.offsetWidth+n(k())+n(D());k().style.width=e>r?"".concat(e,"px"):null}).observe(t,{attributes:!0,attributeFilter:["style"]})}return t};var kt=function(t,e){var n=D().querySelector("#".concat(x.content));e.html?(bt(e.html,n),ut(n,"block")):e.text?(n.textContent=e.text,ut(n,"block")):ct(n),function(t,e){var n=D(),r=Ct.innerParams.get(t),i=!r||e.input!==r.input;xt.forEach(function(t){var r=x[t],o=st(n,r);(function(t,e){var n=tt(D(),t);if(n)for(var r in function(t){for(var e=0;e<t.attributes.length;e++){var n=t.attributes[e].name;-1===["type","value","style"].indexOf(n)&&t.removeAttribute(n)}}(n),e)"range"===t&&"placeholder"===r||n.setAttribute(r,e[r])})(t,e.inputAttributes),o.className=r,i&&ct(o)}),e.input&&(i&&function(t){if(!At[t.input])return m('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(t.input,'"'));var e=It(t.input),n=At[t.input](e,t);ut(n),setTimeout(function(){nt(n)})}(e),function(t){var e=It(t.input);t.customClass&&it(e,t.customClass.input)}(e))}(t,e),X(D(),e,"content")},jt=function(t,e){Pt(t,e),Nt(),X(t,e,"icon")},Nt=function(){for(var t=k(),e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),r=0;r<n.length;r++)n[r].style.backgroundColor=e},Pt=function(t,e){if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(var n=0,r=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];n<r.length;n++)lt(t,r[n],"backgroundColor",e.iconColor);lt(t,".swal2-success-ring","borderColor",e.iconColor)}},Dt=function(t){return'<div class="'.concat(x["icon-content"],'">').concat(t,"</div>")},Rt=[],Lt=function(){return T()&&T().getAttribute("data-queue-step")},Vt=function(t,e){var n=z();X(n,e,"header"),function(t,e){var n=L();if(!e.progressSteps||0===e.progressSteps.length)return ct(n);ut(n),n.textContent="";var r=parseInt(void 0===e.currentProgressStep?Lt():e.currentProgressStep);r>=e.progressSteps.length&&g("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach(function(t,i){var o=function(t){var e=document.createElement("li");return it(e,x["progress-step"]),Z(e,t),e}(t);if(n.appendChild(o),i===r&&it(o,x["active-progress-step"]),i!==e.progressSteps.length-1){var s=function(t){var e=document.createElement("li");return it(e,x["progress-step-line"]),t.progressStepsDistance&&(e.style.width=t.progressStepsDistance),e}(e);n.appendChild(s)}})}(0,e),function(t,e){var n=Ct.innerParams.get(t);if(n&&e.icon===n.icon&&N())jt(N(),e);else if(function(){for(var t=j(),e=0;e<t.length;e++)ct(t[e])}(),e.icon)if(-1!==Object.keys(S).indexOf(e.icon)){var r=I(".".concat(x.icon,".").concat(S[e.icon]));ut(r),function(t,e){t.textContent="",Z(t,e.iconHtml?Dt(e.iconHtml):"success"===e.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===e.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':Dt({question:"?",warning:"!",info:"i"}[e.icon]))}(r,e),jt(r,e),it(r,e.showClass.icon)}else m('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.icon,'"'))}(t,e),function(t,e){var n=R();if(!e.imageUrl)return ct(n);ut(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt),at(n,"width",e.imageWidth),at(n,"height",e.imageHeight),n.className=x.image,X(n,e,"image")}(0,e),function(t,e){var n=P();ht(n,e.title||e.titleText),e.title&&bt(e.title,n),e.titleText&&(n.innerText=e.titleText),X(n,e,"title")}(0,e),function(t,e){var n=G();Z(n,e.closeButtonHtml),X(n,e,"closeButton"),ht(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel)}(0,e)},Mt=function(t,e){(function(t,e){var n=k();at(n,"width",e.width),at(n,"padding",e.padding),e.background&&(n.style.background=e.background),function(t,e){t.className="".concat(x.popup," ").concat(ft(t)?e.showClass.popup:""),e.toast?(it([document.documentElement,document.body],x["toast-shown"]),it(t,x.toast)):it(t,x.modal),X(t,e,"popup"),"string"==typeof e.customClass&&it(t,e.customClass),e.icon&&it(t,x["icon-".concat(e.icon)])}(n,e)})(0,e),function(t,e){var n=T();if(n){(function(t,e){"string"==typeof e?t.style.background=e:e||it([document.documentElement,document.body],x["no-backdrop"])})(n,e.backdrop),!e.backdrop&&e.allowOutsideClick&&g('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),function(t,e){e in x?it(t,x[e]):(g('The "position" parameter is not valid, defaulting to "center"'),it(t,x.center))}(n,e.position),function(t,e){if(e&&"string"==typeof e){var n="grow-".concat(e);n in x&&it(t,x[n])}}(n,e.grow),X(n,e,"container");var r=document.body.getAttribute("data-swal2-queue-step");r&&(n.setAttribute("data-queue-step",r),document.body.removeAttribute("data-swal2-queue-step"))}}(0,e),Vt(t,e),kt(t,e),function(t,e){var n=H(),r=F(),i=M(),o=U(),s=q();e.showConfirmButton||e.showDenyButton||e.showCancelButton||ct(n),X(n,e,"actions"),Et(i,"confirm",e),Et(o,"deny",e),Et(s,"cancel",e),function(t,e,n,r){if(!r.buttonsStyling)return ot([t,e,n],x.styled);it([t,e,n],x.styled),r.confirmButtonColor&&(t.style.backgroundColor=r.confirmButtonColor),r.denyButtonColor&&(e.style.backgroundColor=r.denyButtonColor),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor)}(i,o,s,e),e.reverseButtons&&(n.insertBefore(s,r),n.insertBefore(o,r),n.insertBefore(i,r)),Z(r,e.loaderHtml),X(r,e,"loader")}(0,e),function(t,e){var n=B();ht(n,e.footer),e.footer&&bt(e.footer,n),X(n,e,"footer")}(0,e),"function"==typeof e.didRender?e.didRender(k()):"function"==typeof e.onRender&&e.onRender(k())},Ut=function(){return M()&&M().click()},Ft=function(t){var e=k();e||on.fire(),e=k();var n=H(),r=F();!t&&ft(M())&&(t=M()),ut(n),t&&(ct(t),r.setAttribute("data-button-to-replace",t.className)),r.parentNode.insertBefore(r,t),it([e,n],x.loading),ut(r),e.setAttribute("data-loading",!0),e.setAttribute("aria-busy",!0),e.focus()},qt={},Ht=function(){if(qt.timeout)return function(){var t=K(),e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";var n=parseInt(window.getComputedStyle(t).width),r=parseInt(e/n*100);t.style.removeProperty("transition"),t.style.width="".concat(r,"%")}(),qt.timeout.stop()},zt=function(){if(qt.timeout){var t=qt.timeout.start();return gt(t),t}},Bt=!1,Kt={},Gt=function(t){for(var e=t.target;e&&e!==document;e=e.parentNode)for(var n in Kt){var r=e.getAttribute(n);if(r)return void Kt[n].fire({template:r})}},$t={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,onBeforeOpen:void 0,onOpen:void 0,willOpen:void 0,didOpen:void 0,onRender:void 0,didRender:void 0,onClose:void 0,onAfterClose:void 0,willClose:void 0,didClose:void 0,onDestroy:void 0,didDestroy:void 0,scrollbarPadding:!0},Wt=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","imageAlt","imageHeight","imageUrl","imageWidth","onAfterClose","onClose","onDestroy","progressSteps","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Jt={animation:'showClass" and "hideClass',onBeforeOpen:"willOpen",onOpen:"didOpen",onRender:"didRender",onClose:"willClose",onAfterClose:"didClose",onDestroy:"didDestroy"},Yt=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","heightAuto","keydownListenerCapture"],Zt=function(t){return Object.prototype.hasOwnProperty.call($t,t)},Qt=function(t){return Jt[t]},Xt=function(t){Zt(t)||g('Unknown parameter "'.concat(t,'"'))},te=function(t){-1!==Yt.indexOf(t)&&g('The parameter "'.concat(t,'" is incompatible with toasts'))},ee=function(t){var e,n,r;Qt(t)&&(e=t,n=Qt(t),r='"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(n,'" instead.'),-1===y.indexOf(r)&&(y.push(r),g(r)))},ne=function(t){for(var e in t)Xt(e),t.toast&&te(e),ee(e)},re=Object.freeze({isValidParameter:Zt,isUpdatableParameter:function(t){return-1!==Wt.indexOf(t)},isDeprecatedParameter:Qt,argsToParams:function(e){var n={};return"object"!==t(e[0])||E(e[0])?["title","html","icon"].forEach(function(r,i){var o=e[i];"string"==typeof o||E(o)?n[r]=o:void 0!==o&&m("Unexpected type of ".concat(r,'! Expected "string" or "Element", got ').concat(t(o)))}):i(n,e[0]),n},isVisible:function(){return ft(k())},clickConfirm:Ut,clickDeny:function(){return U()&&U().click()},clickCancel:function(){return q()&&q().click()},getContainer:T,getPopup:k,getTitle:P,getContent:D,getHtmlContainer:function(){return A(x["html-container"])},getImage:R,getIcon:N,getIcons:j,getInputLabel:function(){return A(x["input-label"])},getCloseButton:G,getActions:H,getConfirmButton:M,getDenyButton:U,getCancelButton:q,getLoader:F,getHeader:z,getFooter:B,getTimerProgressBar:K,getFocusableElements:$,getValidationMessage:V,isLoading:function(){return k().hasAttribute("data-loading")},fire:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return u(t,n)},mixin:function(t){return function(n){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(d,n);var u,h,f=(u=d,h=a(),function(){var t,e=o(u);if(h){var n=o(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return c(this,t)});function d(){return e(this,d),f.apply(this,arguments)}return r(d,[{key:"_main",value:function(e,n){return l(o(d.prototype),"_main",this).call(this,e,i({},n,t))}}]),d}(this)},queue:function(t){var e=this;Rt=t;var n=function(t,e){Rt=[],t(e)},r=[];return new Promise(function(t){!function i(o,s){o<Rt.length?(document.body.setAttribute("data-swal2-queue-step",o),e.fire(Rt[o]).then(function(e){void 0!==e.value?(r.push(e.value),i(o+1,s)):n(t,{dismiss:e.dismiss})})):n(t,{value:r})}(0)})},getQueueStep:Lt,insertQueueStep:function(t,e){return e&&e<Rt.length?Rt.splice(e,0,t):Rt.push(t)},deleteQueueStep:function(t){void 0!==Rt[t]&&Rt.splice(t,1)},showLoading:Ft,enableLoading:Ft,getTimerLeft:function(){return qt.timeout&&qt.timeout.getTimerLeft()},stopTimer:Ht,resumeTimer:zt,toggleTimer:function(){var t=qt.timeout;return t&&(t.running?Ht():zt())},increaseTimer:function(t){if(qt.timeout){var e=qt.timeout.increase(t);return gt(e,!0),e}},isTimerRunning:function(){return qt.timeout&&qt.timeout.isRunning()},bindClickHandler:function(){Kt[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Bt||(document.body.addEventListener("click",Gt),Bt=!0)}});function ie(){if(Ct.innerParams.get(this)){var t=Ct.domCache.get(this);ct(t.loader);var e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?ut(e[0],"inline-block"):!ft(M())&&!ft(U())&&!ft(q())&&ct(t.actions),ot([t.popup,t.actions],x.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}}var oe=function(t){var e=t.target,n=T();return!(se(t)||ae(t)||e!==n&&(dt(n)||"INPUT"===e.tagName||dt(D())&&D().contains(e)))},se=function(t){return t.touches&&t.touches.length&&"stylus"===t.touches[0].touchType},ae=function(t){return t.touches&&t.touches.length>1},ue=function(){return!!window.MSInputMethodContext&&!!document.documentMode},ce=function(){var t=T(),e=k();t.style.removeProperty("align-items"),e.offsetTop<0&&(t.style.alignItems="flex-start")},le={swalPromiseResolve:new WeakMap};function he(t,e,n,r){n?ye(t,r):(new Promise(function(t){var e=window.scrollX,n=window.scrollY;qt.restoreFocusTimeout=setTimeout(function(){qt.previousActiveElement&&qt.previousActiveElement.focus?(qt.previousActiveElement.focus(),qt.previousActiveElement=null):document.body&&document.body.focus(),t()},100),void 0!==e&&void 0!==n&&window.scrollTo(e,n)}).then(function(){return ye(t,r)}),qt.keydownTarget.removeEventListener("keydown",qt.keydownHandler,{capture:qt.keydownListenerCapture}),qt.keydownHandlerAdded=!1),e.parentNode&&!document.body.getAttribute("data-swal2-queue-step")&&e.parentNode.removeChild(e),W()&&(null!==Y.previousBodyPadding&&(document.body.style.paddingRight="".concat(Y.previousBodyPadding,"px"),Y.previousBodyPadding=null),function(){if(Q(document.body,x.iosfix)){var t=parseInt(document.body.style.top,10);ot(document.body,x.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}}(),"undefined"!=typeof window&&ue()&&window.removeEventListener("resize",ce),p(document.body.children).forEach(function(t){t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})),ot([document.documentElement,document.body],[x.shown,x["height-auto"],x["no-backdrop"],x["toast-shown"],x["toast-column"]])}function fe(t){var e=k();if(e){t=de(t);var n=Ct.innerParams.get(this);if(n&&!Q(e,n.hideClass.popup)){var r=le.swalPromiseResolve.get(this);ot(e,n.showClass.popup),it(e,n.hideClass.popup);var i=T();ot(i,n.showClass.backdrop),it(i,n.hideClass.backdrop),pe(this,e,n),r(t)}}}var de=function(t){return void 0===t?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:i({isConfirmed:!1,isDenied:!1,isDismissed:!1},t)},pe=function(t,e,n){var r=T(),i=Ot&&pt(e),o=n.onAfterClose,s=n.didClose;ge(e,n.willClose,n.onClose),i?me(t,e,r,s||o):he(t,r,J(),s||o)},ge=function(t,e,n){null!==e&&"function"==typeof e?e(t):null!==n&&"function"==typeof n&&n(t)},me=function(t,e,n,r){qt.swalCloseEventFinishedCallback=he.bind(null,t,n,J(),r),e.addEventListener(Ot,function(t){t.target===e&&(qt.swalCloseEventFinishedCallback(),delete qt.swalCloseEventFinishedCallback)})},ye=function(t,e){setTimeout(function(){"function"==typeof e&&e(),t._destroy()})};function ve(t,e,n){var r=Ct.domCache.get(t);e.forEach(function(t){r[t].disabled=n})}function be(t,e){if(!t)return!1;if("radio"===t.type)for(var n=t.parentNode.parentNode.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=e;else t.disabled=e}var we=function(){function t(n,r){e(this,t),this.callback=n,this.remaining=r,this.running=!1,this.start()}return r(t,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}},{key:"increase",value:function(t){var e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),t}(),_e={email:function(t,e){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address")},url:function(t,e){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")}};function Oe(t){(function(t){t.inputValidator||Object.keys(_e).forEach(function(e){t.input===e&&(t.inputValidator=_e[e])})})(t),t.showLoaderOnConfirm&&!t.preConfirm&&g("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),t.animation=v(t.animation),function(t){(!t.target||"string"==typeof t.target&&!document.querySelector(t.target)||"string"!=typeof t.target&&!t.target.appendChild)&&(g('Target parameter is not valid, defaulting to "body"'),t.target="body")}(t),"string"==typeof t.title&&(t.title=t.title.split("\n").join("<br />")),function(t){var e,n,r,i,o,s,a,u,c,l,h=!!(e=T())&&(e.parentNode.removeChild(e),ot([document.documentElement,document.body],[x["no-backdrop"],x["toast-shown"],x["has-column"]]),!0);if(mt())m("SweetAlert2 requires document to initialize");else{var f=document.createElement("div");f.className=x.container,h&&it(f,x["no-transition"]),Z(f,yt);var d="string"==typeof(l=t.target)?document.querySelector(l):l;d.appendChild(f),function(t){var e=k();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")}(t),function(t){"rtl"===window.getComputedStyle(t).direction&&it(T(),x.rtl)}(d),n=D(),r=st(n,x.input),i=st(n,x.file),o=n.querySelector(".".concat(x.range," input")),s=n.querySelector(".".concat(x.range," output")),a=st(n,x.select),u=n.querySelector(".".concat(x.checkbox," input")),c=st(n,x.textarea),r.oninput=vt,i.onchange=vt,a.onchange=vt,u.onchange=vt,c.oninput=vt,o.oninput=function(t){vt(t),s.value=o.value},o.onchange=function(t){vt(t),o.nextSibling.value=o.value}}}(t)}var Ee,Ce=["swal-title","swal-html","swal-footer"],xe=function(t,e){p(t.attributes).forEach(function(n){-1===e.indexOf(n.name)&&g(['Unrecognized attribute "'.concat(n.name,'" on <').concat(t.tagName.toLowerCase(),">."),"".concat(e.length?"Allowed attributes are: ".concat(e.join(", ")):"To set the value, use HTML within the element.")])})},Se=function(t,e){"function"==typeof e.didOpen?setTimeout(function(){return e.didOpen(t)}):"function"==typeof e.onOpen&&setTimeout(function(){return e.onOpen(t)})},Te=function t(e){var n=k();if(e.target===n){var r=T();n.removeEventListener(Ot,t),r.style.overflowY="auto"}},Ie=function(t,e){Ot&&pt(e)?(t.style.overflowY="hidden",e.addEventListener(Ot,Te)):t.style.overflowY="auto"},Ae=function(t,e,n){(function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Q(document.body,x.iosfix)){var t=document.body.scrollTop;document.body.style.top="".concat(-1*t,"px"),it(document.body,x.iosfix),function(){var t,e=T();e.ontouchstart=function(e){t=oe(e)},e.ontouchmove=function(e){t&&(e.preventDefault(),e.stopPropagation())}}(),navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)||k().scrollHeight>window.innerHeight-44&&(T().style.paddingBottom="".concat(44,"px"))}})(),"undefined"!=typeof window&&ue()&&(ce(),window.addEventListener("resize",ce)),e&&"hidden"!==n&&(null===Y.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Y.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Y.previousBodyPadding+function(){var t=document.createElement("div");t.className=x["scrollbar-measure"],document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e}(),"px"))),setTimeout(function(){t.scrollTop=0})},ke=function(t,e,n){it(t,n.showClass.backdrop),e.style.setProperty("opacity","0","important"),ut(e),setTimeout(function(){it(e,n.showClass.popup),e.style.removeProperty("opacity")},10),it([document.documentElement,document.body],x.shown),n.heightAuto&&n.backdrop&&!n.toast&&it([document.documentElement,document.body],x["height-auto"])},je={select:function(t,e,n){var r=st(t,x.select),i=function(t,e,r){var i=document.createElement("option");i.value=r,Z(i,e),i.selected=Pe(r,n.inputValue),t.appendChild(i)};e.forEach(function(t){var e=t[0],n=t[1];if(Array.isArray(n)){var o=document.createElement("optgroup");o.label=e,o.disabled=!1,r.appendChild(o),n.forEach(function(t){return i(o,t[1],t[0])})}else i(r,n,e)}),r.focus()},radio:function(t,e,n){var r=st(t,x.radio);e.forEach(function(t){var e=t[0],i=t[1],o=document.createElement("input"),s=document.createElement("label");o.type="radio",o.name=x.radio,o.value=e,Pe(e,n.inputValue)&&(o.checked=!0);var a=document.createElement("span");Z(a,i),a.className=x.label,s.appendChild(o),s.appendChild(a),r.appendChild(s)});var i=r.querySelectorAll("input");i.length&&i[0].focus()}},Ne=function e(n){var r=[];return"undefined"!=typeof Map&&n instanceof Map?n.forEach(function(n,i){var o=n;"object"===t(o)&&(o=e(o)),r.push([i,o])}):Object.keys(n).forEach(function(i){var o=n[i];"object"===t(o)&&(o=e(o)),r.push([i,o])}),r},Pe=function(t,e){return e&&e.toString()===t.toString()},De=function(t,e,n){var r=function(t,e){var n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return function(t){return t.checked?1:0}(n);case"radio":return function(t){return t.checked?t.value:null}(n);case"file":return function(t){return t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null}(n);default:return e.inputAutoTrim?n.value.trim():n.value}}(t,e);e.inputValidator?Re(t,e,r):t.getInput().checkValidity()?"deny"===n?Le(t,e,r):Me(t,e,r):(t.enableButtons(),t.showValidationMessage(e.validationMessage))},Re=function(t,e,n){t.disableInput(),Promise.resolve().then(function(){return w(e.inputValidator(n,e.validationMessage))}).then(function(r){t.enableButtons(),t.enableInput(),r?t.showValidationMessage(r):Me(t,e,n)})},Le=function(t,e,n){e.showLoaderOnDeny&&Ft(U()),e.preDeny?Promise.resolve().then(function(){return w(e.preDeny(n,e.validationMessage))}).then(function(e){!1===e?t.hideLoading():t.closePopup({isDenied:!0,value:void 0===e?n:e})}):t.closePopup({isDenied:!0,value:n})},Ve=function(t,e){t.closePopup({isConfirmed:!0,value:e})},Me=function(t,e,n){e.showLoaderOnConfirm&&Ft(),e.preConfirm?(t.resetValidationMessage(),Promise.resolve().then(function(){return w(e.preConfirm(n,e.validationMessage))}).then(function(e){ft(V())||!1===e?t.hideLoading():Ve(t,void 0===e?n:e)})):Ve(t,n)},Ue=function(t,e,n){var r=$();if(r.length)return(e+=n)===r.length?e=0:-1===e&&(e=r.length-1),r[e].focus();k().focus()},Fe=["ArrowRight","ArrowDown","Right","Down"],qe=["ArrowLeft","ArrowUp","Left","Up"],He=["Escape","Esc"],ze=function(t,e,n){if(!e.isComposing&&e.target&&t.getInput()&&e.target.outerHTML===t.getInput().outerHTML){if(-1!==["textarea","file"].indexOf(n.input))return;Ut(),e.preventDefault()}},Be=function(t,e){for(var n=t.target,r=$(),i=-1,o=0;o<r.length;o++)if(n===r[o]){i=o;break}Ue(0,i,t.shiftKey?-1:1),t.stopPropagation(),t.preventDefault()},Ke=function(t){if(-1!==[M(),U(),q()].indexOf(document.activeElement)){var e=-1!==Fe.indexOf(t)?"nextElementSibling":"previousElementSibling",n=document.activeElement[e];n&&n.focus()}},Ge=function(t,e,n){v(e.allowEscapeKey)&&(t.preventDefault(),n(O.esc))},$e=!1,We=function(e,n){var r=function(e){var n="string"==typeof e.template?document.querySelector(e.template):e.template;if(!n)return{};var r=n.content||n;return function(t){var e=Ce.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);p(t.querySelectorAll("*")).forEach(function(n){if(n.parentNode===t){var r=n.tagName.toLowerCase();-1===e.indexOf(r)&&g("Unrecognized element <".concat(r,">"))}})}(r),i(function(e){var n={};return p(e.querySelectorAll("swal-param")).forEach(function(e){xe(e,["name","value"]);var r=e.getAttribute("name"),i=e.getAttribute("value");"boolean"==typeof $t[r]&&"false"===i&&(i=!1),"object"===t($t[r])&&(i=JSON.parse(i)),n[r]=i}),n}(r),function(t){var e={};return p(t.querySelectorAll("swal-button")).forEach(function(t){xe(t,["type","color","aria-label"]);var n=t.getAttribute("type");e["".concat(n,"ButtonText")]=t.innerHTML,e["show".concat(f(n),"Button")]=!0,t.hasAttribute("color")&&(e["".concat(n,"ButtonColor")]=t.getAttribute("color")),t.hasAttribute("aria-label")&&(e["".concat(n,"ButtonAriaLabel")]=t.getAttribute("aria-label"))}),e}(r),function(t){var e={},n=t.querySelector("swal-image");return n&&(xe(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt"))),e}(r),function(t){var e={},n=t.querySelector("swal-icon");return n&&(xe(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e}(r),function(t){var e={},n=t.querySelector("swal-input");n&&(xe(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));var r=t.querySelectorAll("swal-input-option");return r.length&&(e.inputOptions={},p(r).forEach(function(t){xe(t,["value"]);var n=t.getAttribute("value");e.inputOptions[n]=t.innerHTML})),e}(r),function(t,e){var n={};for(var r in e){var i=e[r],o=t.querySelector(i);o&&(xe(o,[]),n[i.replace(/^swal-/,"")]=o.innerHTML)}return n}(r,Ce))}(e),o=i({},$t.showClass,n.showClass,r.showClass,e.showClass),s=i({},$t.hideClass,n.hideClass,r.hideClass,e.hideClass),a=i({},$t,n,r,e);return a.showClass=o,a.hideClass=s,!1===e.animation&&(a.showClass={popup:"swal2-noanimation",backdrop:"swal2-noanimation"},a.hideClass={}),a},Je=function(e,n,r){return new Promise(function(i){var o=function(t){e.closePopup({isDismissed:!0,dismiss:t})};le.swalPromiseResolve.set(e,i),n.confirmButton.onclick=function(){return function(t,e){t.disableButtons(),e.input?De(t,e,"confirm"):Me(t,e,!0)}(e,r)},n.denyButton.onclick=function(){return function(t,e){t.disableButtons(),e.returnInputValueOnDeny?De(t,e,"deny"):Le(t,e,!1)}(e,r)},n.cancelButton.onclick=function(){return function(t,e){t.disableButtons(),e(O.cancel)}(e,o)},n.closeButton.onclick=function(){return o(O.close)},function(t,e,n){Ct.innerParams.get(t).toast?function(t,e,n){e.popup.onclick=function(){var e=Ct.innerParams.get(t);e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton||e.timer||e.input||n(O.close)}}(t,e,n):(function(t){t.popup.onmousedown=function(){t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&($e=!0)}}}(e),function(t){t.container.onmousedown=function(){t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,(e.target===t.popup||t.popup.contains(e.target))&&($e=!0)}}}(e),function(t,e,n){e.container.onclick=function(r){var i=Ct.innerParams.get(t);$e?$e=!1:r.target===e.container&&v(i.allowOutsideClick)&&n(O.backdrop)}}(t,e,n))}(e,n,o),function(t,e,n,r){e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1),n.toast||(e.keydownHandler=function(e){return function(t,e,n){var r=Ct.innerParams.get(t);r.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?ze(t,e,r):"Tab"===e.key?Be(e,r):-1!==[].concat(Fe,qe).indexOf(e.key)?Ke(e.key):-1!==He.indexOf(e.key)&&Ge(e,r,n)}(t,e,r)},e.keydownTarget=n.keydownListenerCapture?window:k(),e.keydownListenerCapture=n.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)}(e,qt,r,o),r.toast&&(r.input||r.footer||r.showCloseButton)?it(document.body,x["toast-column"]):ot(document.body,x["toast-column"]),function(e,n){"select"===n.input||"radio"===n.input?function(e,n){var r=D(),i=function(t){return je[n.input](r,Ne(t),n)};b(n.inputOptions)||_(n.inputOptions)?(Ft(),w(n.inputOptions).then(function(t){e.hideLoading(),i(t)})):"object"===t(n.inputOptions)?i(n.inputOptions):m("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(t(n.inputOptions)))}(e,n):-1!==["text","email","number","tel","textarea"].indexOf(n.input)&&(b(n.inputValue)||_(n.inputValue))&&function(t,e){var n=t.getInput();ct(n),w(e.inputValue).then(function(r){n.value="number"===e.input?parseFloat(r)||0:"".concat(r),ut(n),n.focus(),t.hideLoading()}).catch(function(e){m("Error in inputValue promise: ".concat(e)),n.value="",ut(n),n.focus(),t.hideLoading()})}(e,n)}(e,r),function(t){var e=T(),n=k();"function"==typeof t.willOpen?t.willOpen(n):"function"==typeof t.onBeforeOpen&&t.onBeforeOpen(n);var r=window.getComputedStyle(document.body).overflowY;ke(e,n,t),setTimeout(function(){Ie(e,n)},10),W()&&(Ae(e,t.scrollbarPadding,r),p(document.body.children).forEach(function(t){t===T()||function(t,e){if("function"==typeof t.contains)return t.contains(e)}(t,T())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))})),J()||qt.previousActiveElement||(qt.previousActiveElement=document.activeElement),Se(n,t),ot(e,x["no-transition"])}(r),Ze(qt,r,o),Qe(n,r),setTimeout(function(){n.container.scrollTop=0})})},Ye=function(t){var e={popup:k(),container:T(),content:D(),actions:H(),confirmButton:M(),denyButton:U(),cancelButton:q(),loader:F(),closeButton:G(),validationMessage:V(),progressSteps:L()};return Ct.domCache.set(t,e),e},Ze=function(t,e,n){var r=K();ct(r),e.timer&&(t.timeout=new we(function(){n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(ut(r),setTimeout(function(){t.timeout&&t.timeout.running&&gt(e.timer)})))},Qe=function(t,e){if(!e.toast)return v(e.allowEnterKey)?void(Xe(t,e)||Ue(0,-1,1)):tn()},Xe=function(t,e){return e.focusDeny&&ft(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&ft(t.cancelButton)?(t.cancelButton.focus(),!0):!(!e.focusConfirm||!ft(t.confirmButton)||(t.confirmButton.focus(),0))},tn=function(){document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()},en=function(t){for(var e in t)t[e]=new WeakMap},nn=Object.freeze({hideLoading:ie,disableLoading:ie,getInput:function(t){var e=Ct.innerParams.get(t||this),n=Ct.domCache.get(t||this);return n?tt(n.content,e.input):null},close:fe,closePopup:fe,closeModal:fe,closeToast:fe,enableButtons:function(){ve(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){ve(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return be(this.getInput(),!1)},disableInput:function(){return be(this.getInput(),!0)},showValidationMessage:function(t){var e=Ct.domCache.get(this),n=Ct.innerParams.get(this);Z(e.validationMessage,t),e.validationMessage.className=x["validation-message"],n.customClass&&n.customClass.validationMessage&&it(e.validationMessage,n.customClass.validationMessage),ut(e.validationMessage);var r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedBy",x["validation-message"]),nt(r),it(r,x.inputerror))},resetValidationMessage:function(){var t=Ct.domCache.get(this);t.validationMessage&&ct(t.validationMessage);var e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedBy"),ot(e,x.inputerror))},getProgressSteps:function(){return Ct.domCache.get(this).progressSteps},_main:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ne(i({},e,t)),qt.currentInstance&&qt.currentInstance._destroy(),qt.currentInstance=this;var n=We(t,e);Oe(n),Object.freeze(n),qt.timeout&&(qt.timeout.stop(),delete qt.timeout),clearTimeout(qt.restoreFocusTimeout);var r=Ye(this);return Mt(this,n),Ct.innerParams.set(this,n),Je(this,r,n)},update:function(t){var e=k(),n=Ct.innerParams.get(this);if(!e||Q(e,n.hideClass.popup))return g("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");var r={};Object.keys(t).forEach(function(e){on.isUpdatableParameter(e)?r[e]=t[e]:g('Invalid parameter to update: "'.concat(e,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))});var o=i({},n,r);Mt(this,o),Ct.innerParams.set(this,o),Object.defineProperties(this,{params:{value:i({},this.params,t),writable:!1,enumerable:!0}})},_destroy:function(){var t=Ct.domCache.get(this),e=Ct.innerParams.get(this);e&&(t.popup&&qt.swalCloseEventFinishedCallback&&(qt.swalCloseEventFinishedCallback(),delete qt.swalCloseEventFinishedCallback),qt.deferDisposalTimer&&(clearTimeout(qt.deferDisposalTimer),delete qt.deferDisposalTimer),function(t){"function"==typeof t.didDestroy?t.didDestroy():"function"==typeof t.onDestroy&&t.onDestroy()}(e),delete this.params,delete qt.keydownHandler,delete qt.keydownTarget,en(Ct),en(le))}}),rn=function(){function t(){if(e(this,t),"undefined"!=typeof window){"undefined"==typeof Promise&&m("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),Ee=this;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=Object.freeze(this.constructor.argsToParams(r));Object.defineProperties(this,{params:{value:o,writable:!1,enumerable:!0,configurable:!0}});var s=this._main(this.params);Ct.promise.set(this,s)}}return r(t,[{key:"then",value:function(t){return Ct.promise.get(this).then(t)}},{key:"finally",value:function(t){return Ct.promise.get(this).finally(t)}}]),t}();i(rn.prototype,nn),i(rn,re),Object.keys(nn).forEach(function(t){rn[t]=function(){var e;if(Ee)return(e=Ee)[t].apply(e,arguments)}}),rn.DismissReason=O,rn.version="10.14.0";var on=rn;return on.default=on,on}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(t){n.innerText=e}}(document,'.swal2-popup.swal2-toast{flex-direction:row;align-items:center;width:auto;padding:.625em;overflow-y:hidden;background:#fff;box-shadow:0 0 .625em #d9d9d9}.swal2-popup.swal2-toast .swal2-header{flex-direction:row;padding:0}.swal2-popup.swal2-toast .swal2-title{flex-grow:1;justify-content:flex-start;margin:0 .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{position:static;width:.8em;height:.8em;line-height:.8}.swal2-popup.swal2-toast .swal2-content{justify-content:flex-start;padding:0;font-size:1em}.swal2-popup.swal2-toast .swal2-icon{width:2em;min-width:2em;height:2em;margin:0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{font-size:.25em}}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{flex-basis:auto!important;width:auto;height:auto;margin:0 .3125em;padding:0}.swal2-popup.swal2-toast .swal2-styled{margin:.125em .3125em;padding:.3125em .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(100,150,200,.5)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:flex;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;flex-direction:row;align-items:center;justify-content:center;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-top{align-items:flex-start}.swal2-container.swal2-top-left,.swal2-container.swal2-top-start{align-items:flex-start;justify-content:flex-start}.swal2-container.swal2-top-end,.swal2-container.swal2-top-right{align-items:flex-start;justify-content:flex-end}.swal2-container.swal2-center{align-items:center}.swal2-container.swal2-center-left,.swal2-container.swal2-center-start{align-items:center;justify-content:flex-start}.swal2-container.swal2-center-end,.swal2-container.swal2-center-right{align-items:center;justify-content:flex-end}.swal2-container.swal2-bottom{align-items:flex-end}.swal2-container.swal2-bottom-left,.swal2-container.swal2-bottom-start{align-items:flex-end;justify-content:flex-start}.swal2-container.swal2-bottom-end,.swal2-container.swal2-bottom-right{align-items:flex-end;justify-content:flex-end}.swal2-container.swal2-bottom-end>:first-child,.swal2-container.swal2-bottom-left>:first-child,.swal2-container.swal2-bottom-right>:first-child,.swal2-container.swal2-bottom-start>:first-child,.swal2-container.swal2-bottom>:first-child{margin-top:auto}.swal2-container.swal2-grow-fullscreen>.swal2-modal{display:flex!important;flex:1;align-self:stretch;justify-content:center}.swal2-container.swal2-grow-row>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-grow-column{flex:1;flex-direction:column}.swal2-container.swal2-grow-column.swal2-bottom,.swal2-container.swal2-grow-column.swal2-center,.swal2-container.swal2-grow-column.swal2-top{align-items:center}.swal2-container.swal2-grow-column.swal2-bottom-left,.swal2-container.swal2-grow-column.swal2-bottom-start,.swal2-container.swal2-grow-column.swal2-center-left,.swal2-container.swal2-grow-column.swal2-center-start,.swal2-container.swal2-grow-column.swal2-top-left,.swal2-container.swal2-grow-column.swal2-top-start{align-items:flex-start}.swal2-container.swal2-grow-column.swal2-bottom-end,.swal2-container.swal2-grow-column.swal2-bottom-right,.swal2-container.swal2-grow-column.swal2-center-end,.swal2-container.swal2-grow-column.swal2-center-right,.swal2-container.swal2-grow-column.swal2-top-end,.swal2-container.swal2-grow-column.swal2-top-right{align-items:flex-end}.swal2-container.swal2-grow-column>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-no-transition{transition:none!important}.swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right):not(.swal2-grow-fullscreen)>.swal2-modal{margin:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-container .swal2-modal{margin:0!important}}.swal2-popup{display:none;position:relative;box-sizing:border-box;flex-direction:column;justify-content:center;width:32em;max-width:100%;padding:1.25em;border:none;border-radius:5px;background:#fff;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-header{display:flex;flex-direction:column;align-items:center;padding:0 1.8em}.swal2-title{position:relative;max-width:100%;margin:0 0 .4em;padding:0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:100%;margin:1.25em auto 0;padding:0 1.6em}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;box-shadow:none;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#2778c4;color:#fff;font-size:1.0625em}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#d14529;color:#fff;font-size:1.0625em}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#757575;color:#fff;font-size:1.0625em}.swal2-styled:focus{outline:0;box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1.25em 0 0;padding:1em 0 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:1.25em auto}.swal2-close{position:absolute;z-index:2;top:0;right:0;align-items:center;justify-content:center;width:1.2em;height:1.2em;padding:0;overflow:hidden;transition:color .1s ease-out;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-size:2.5em;line-height:1.2;cursor:pointer}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-content{z-index:1;justify-content:center;margin:0;padding:0 1.6em;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em auto}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:100%;transition:border-color .3s,box-shadow .3s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06);color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em auto;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-input[type=number]{max-width:10em}.swal2-file{background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto}.swal2-validation-message{display:none;align-items:center;justify-content:center;margin:0 -2.7em;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:1.25em auto 1.875em;border:.25em solid transparent;border-radius:50%;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1;zoom:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;zoom:1;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;zoom:1;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;zoom:1;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;zoom:1;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;zoom:1;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:0 0 1.25em;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{right:auto;left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@supports (-ms-accelerator:true){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{top:auto;right:auto;bottom:auto;left:auto;max-width:calc(100% - .625em * 2);background-color:transparent!important}body.swal2-no-backdrop .swal2-container>.swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-no-backdrop .swal2-container.swal2-top{top:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-top-left,body.swal2-no-backdrop .swal2-container.swal2-top-start{top:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-top-end,body.swal2-no-backdrop .swal2-container.swal2-top-right{top:0;right:0}body.swal2-no-backdrop .swal2-container.swal2-center{top:50%;left:50%;transform:translate(-50%,-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-left,body.swal2-no-backdrop .swal2-container.swal2-center-start{top:50%;left:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-end,body.swal2-no-backdrop .swal2-container.swal2-center-right{top:50%;right:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom{bottom:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom-left,body.swal2-no-backdrop .swal2-container.swal2-bottom-start{bottom:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-bottom-end,body.swal2-no-backdrop .swal2-container.swal2-bottom-right{right:0;bottom:0}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}body.swal2-toast-column .swal2-toast{flex-direction:column;align-items:stretch}body.swal2-toast-column .swal2-toast .swal2-actions{flex:1;align-self:stretch;height:2.2em;margin-top:.3125em}body.swal2-toast-column .swal2-toast .swal2-loading{justify-content:center}body.swal2-toast-column .swal2-toast .swal2-input{height:2em;margin:.3125em auto;font-size:1em}body.swal2-toast-column .swal2-toast .swal2-validation-message{font-size:1em}')},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("EY2u"),i=n("LRne"),o=n("HDdC");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(r.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return an}),n.d(e,"b",function(){return tu}),n.d(e,"c",function(){return Ja}),n.d(e,"d",function(){return $a}),n.d(e,"e",function(){return Wa}),n.d(e,"f",function(){return $u}),n.d(e,"g",function(){return Vu}),n.d(e,"h",function(){return Xs}),n.d(e,"i",function(){return hu}),n.d(e,"j",function(){return Ss}),n.d(e,"k",function(){return ru}),n.d(e,"l",function(){return ks}),n.d(e,"m",function(){return wr}),n.d(e,"n",function(){return ka}),n.d(e,"o",function(){return to}),n.d(e,"p",function(){return mn}),n.d(e,"q",function(){return sn}),n.d(e,"r",function(){return yo}),n.d(e,"s",function(){return $s}),n.d(e,"t",function(){return Ws}),n.d(e,"u",function(){return nu}),n.d(e,"v",function(){return la}),n.d(e,"w",function(){return Uu}),n.d(e,"x",function(){return ca}),n.d(e,"y",function(){return Nu}),n.d(e,"z",function(){return pu}),n.d(e,"A",function(){return yn}),n.d(e,"B",function(){return Xa}),n.d(e,"C",function(){return Qa}),n.d(e,"D",function(){return Ns}),n.d(e,"E",function(){return js}),n.d(e,"F",function(){return Cr}),n.d(e,"G",function(){return Ds}),n.d(e,"H",function(){return gr}),n.d(e,"I",function(){return bn}),n.d(e,"J",function(){return Hu}),n.d(e,"K",function(){return oa}),n.d(e,"L",function(){return _u}),n.d(e,"M",function(){return un}),n.d(e,"N",function(){return Ls}),n.d(e,"O",function(){return Rs}),n.d(e,"P",function(){return fa}),n.d(e,"Q",function(){return M}),n.d(e,"R",function(){return Pu}),n.d(e,"S",function(){return ku}),n.d(e,"T",function(){return w}),n.d(e,"U",function(){return Au}),n.d(e,"V",function(){return Ku}),n.d(e,"W",function(){return Cu}),n.d(e,"X",function(){return eu}),n.d(e,"Y",function(){return no}),n.d(e,"Z",function(){return fs}),n.d(e,"ab",function(){return dr}),n.d(e,"bb",function(){return Yn}),n.d(e,"cb",function(){return Un}),n.d(e,"db",function(){return qn}),n.d(e,"eb",function(){return Kn}),n.d(e,"fb",function(){return zn}),n.d(e,"gb",function(){return Hn}),n.d(e,"hb",function(){return Bn}),n.d(e,"ib",function(){return us}),n.d(e,"jb",function(){return Bu}),n.d(e,"kb",function(){return cs}),n.d(e,"lb",function(){return ls}),n.d(e,"mb",function(){return Fn}),n.d(e,"nb",function(){return z}),n.d(e,"ob",function(){return So}),n.d(e,"pb",function(){return qo}),n.d(e,"qb",function(){return Fo}),n.d(e,"rb",function(){return as}),n.d(e,"sb",function(){return jt}),n.d(e,"tb",function(){return y}),n.d(e,"ub",function(){return Mn}),n.d(e,"vb",function(){return bo}),n.d(e,"wb",function(){return xt}),n.d(e,"xb",function(){return Es}),n.d(e,"yb",function(){return si}),n.d(e,"zb",function(){return ko}),n.d(e,"Ab",function(){return Jo}),n.d(e,"Bb",function(){return za}),n.d(e,"Cb",function(){return tt}),n.d(e,"Db",function(){return at}),n.d(e,"Eb",function(){return E}),n.d(e,"Fb",function(){return C}),n.d(e,"Gb",function(){return it}),n.d(e,"Hb",function(){return ut}),n.d(e,"Ib",function(){return Po}),n.d(e,"Jb",function(){return Mo}),n.d(e,"Kb",function(){return Vo}),n.d(e,"Lb",function(){return Lo}),n.d(e,"Mb",function(){return Uo}),n.d(e,"Nb",function(){return en}),n.d(e,"Ob",function(){return rs}),n.d(e,"Pb",function(){return An}),n.d(e,"Qb",function(){return nn}),n.d(e,"Rb",function(){return Ga}),n.d(e,"Sb",function(){return Ho}),n.d(e,"Tb",function(){return Ba}),n.d(e,"Ub",function(){return Ko}),n.d(e,"Vb",function(){return Do}),n.d(e,"Wb",function(){return Ta}),n.d(e,"Xb",function(){return Ia}),n.d(e,"Yb",function(){return Ha}),n.d(e,"Zb",function(){return No}),n.d(e,"ac",function(){return Jt}),n.d(e,"bc",function(){return mr}),n.d(e,"cc",function(){return ot}),n.d(e,"dc",function(){return jo}),n.d(e,"ec",function(){return ts}),n.d(e,"fc",function(){return es}),n.d(e,"gc",function(){return ns});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function m(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function y(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(y).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function v(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const b=g({__forward_ref__:g});function w(t){return t.__forward_ref__=w,t.toString=function(){return y(this())},t}function _(t){return O(t)?t():t}function O(t){return"function"==typeof t&&t.hasOwnProperty(b)&&t.__forward_ref__===w}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function C(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function x(t){return S(t,I)||S(t,k)}function S(t,e){return t.hasOwnProperty(e)?t[e]:null}function T(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(j))?t[A]:null}const I=g({"\u0275prov":g}),A=g({"\u0275inj":g}),k=g({ngInjectableDef:g}),j=g({ngInjectorDef:g});var N=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let P;function D(t){const e=P;return P=t,e}function R(t,e,n){const r=x(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&N.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${y(t)}]`)}function L(t){return{toString:t}.toString()}var V=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),M=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const U="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H="undefined"!=typeof global&&global,z=U||H||F||q,B={},K=[],G=g({"\u0275cmp":g}),$=g({"\u0275dir":g}),W=g({"\u0275pipe":g}),J=g({"\u0275mod":g}),Y=g({"\u0275loc":g}),Z=g({"\u0275fac":g}),Q=g({__NG_ELEMENT_ID__:g});let X=0;function tt(t){return L(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===V.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||K,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||M.Emulated,id:"c",styles:t.styles||K,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=X++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[$]||null}(t)}function nt(t){return function(t){return t[W]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||K,declarations:t.declarations||K,imports:t.imports||K,exports:t.exports||K,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&L(()=>{rt[t.id]=t.type}),e}function ot(t,e){return L(()=>{const n=lt(t,!0);n.declarations=e.declarations||K,n.imports=e.imports||K,n.exports=e.exports||K})}function st(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[G]||null}function lt(t,e){const n=t[J]||null;if(!n&&!0===e)throw new Error(`Type ${y(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(Z)?t[Z]:null}class wt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function _t(t){return"string"==typeof t?t:null==t?"":String(t)}function Ot(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():_t(t)}function Et(t,e){const n=e?" in "+e:"";throw new wt("201",`No provider for ${Ot(t)} found${n}`)}class Ct{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function xt(){return St}function St(t){return t.type.prototype.ngOnChanges&&(t.setInput=It),Tt}function Tt(){const t=At(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function It(t,e,n,r){const i=At(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Ct(u&&u.currentValue,e,s===B),t[r]=e}function At(t){return t.__ngSimpleChanges__||null}xt.ngInherit=!0;let kt=void 0;function jt(t){kt=t}function Nt(t){return!!t.listen}const Pt={createRenderer:(t,e)=>void 0!==kt?kt:"undefined"!=typeof document?document:void 0};function Dt(t){for(;Array.isArray(t);)t=t[0];return t}function Rt(t,e){return Dt(e[t])}function Lt(t,e){return Dt(e[t.index])}function Vt(t,e){return t.data[e]}function Mt(t,e){const n=e[t];return dt(n)?n:n[0]}function Ut(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ft(t){return 4==(4&t[2])}function qt(t){return 128==(128&t[2])}function Ht(t,e){return null==e?null:t[e]}function zt(t){t[18]=0}function Bt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Kt={lFrame:fe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Gt(){return Kt.bindingsEnabled}function $t(){return Kt.lFrame.lView}function Wt(){return Kt.lFrame.tView}function Jt(t){Kt.lFrame.contextLView=t}function Yt(){let t=Zt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Zt(){return Kt.lFrame.currentTNode}function Qt(t,e){const n=Kt.lFrame;n.currentTNode=t,n.isParent=e}function Xt(){return Kt.lFrame.isParent}function te(){return Kt.isInCheckNoChangesMode}function ee(t){Kt.isInCheckNoChangesMode=t}function ne(){const t=Kt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function re(){return Kt.lFrame.bindingIndex++}function ie(t,e){const n=Kt.lFrame;n.bindingIndex=n.bindingRootIndex=t,oe(e)}function oe(t){Kt.lFrame.currentDirectiveIndex=t}function se(){return Kt.lFrame.currentQueryIndex}function ae(t){Kt.lFrame.currentQueryIndex=t}function ue(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ce(t,e,n){if(n&N.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&N.Host||(r=ue(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Kt.lFrame=he();return r.currentTNode=e,r.lView=t,!0}function le(t){const e=he(),n=t[1];Kt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function he(){const t=Kt.lFrame,e=null===t?null:t.child;return null===e?fe(t):e}function fe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function de(){const t=Kt.lFrame;return Kt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const pe=de;function ge(){const t=de();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function me(){return Kt.lFrame.selectedIndex}function ye(t){Kt.lFrame.selectedIndex=t}function ve(){const t=Kt.lFrame;return Vt(t.tView,t.selectedIndex)}function be(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function we(t,e,n){Ee(t,e,3,n)}function _e(t,e,n,r){(3&t[2])===n&&Ee(t,e,n,r)}function Oe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ee(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(Ce(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ce(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const xe=-1;class Se{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Te(t,e,n){const r=Nt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ae(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Ie(t){return 3===t||4===t||6===t}function Ae(t){return 64===t.charCodeAt(0)}function ke(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||je(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function je(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ne(t){return t!==xe}function Pe(t){return 32767&t}function De(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Re=!0;function Le(t){const e=Re;return Re=t,e}let Ve=0;function Me(t,e){const n=Fe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ue(r.data,t),Ue(e,null),Ue(r.blueprint,null));const i=qe(t,e),o=t.injectorIndex;if(Ne(i)){const t=Pe(i),n=De(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Ue(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Fe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function qe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return xe;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return xe}function He(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Q)&&(r=n[Q]),null==r&&(r=n[Q]=Ve++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function ze(t,e,n){if(n&N.Optional)return t;Et(e,"NodeInjector")}function Be(t,e,n,r){if(n&N.Optional&&void 0===r&&(r=null),0==(n&(N.Self|N.Host))){const i=t[9],o=D(void 0);try{return i?i.get(e,r,n&N.Optional):R(e,r,n&N.Optional)}finally{D(o)}}return ze(r,e,n)}function Ke(t,e,n,r=N.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Q)?t[Q]:void 0;return"number"==typeof e?e>=0?255&e:$e:e}(n);if("function"==typeof o){if(!ce(e,t,r))return r&N.Host?ze(i,n,r):Be(e,n,r,i);try{const t=o();if(null!=t||r&N.Optional)return t;Et(n)}finally{pe()}}else if("number"==typeof o){let i=null,s=Fe(t,e),a=xe,u=r&N.Host?e[16][6]:null;for((-1===s||r&N.SkipSelf)&&(a=-1===s?qe(t,e):e[s+8],a!==xe&&Qe(r,!1)?(i=e[1],s=Pe(a),e=De(a,e)):s=-1);-1!==s;){const t=e[1];if(Ze(o,s,t.data)){const t=We(s,e,n,i,r,u);if(t!==Ge)return t}a=e[s+8],a!==xe&&Qe(r,e[1].data[s+8]===u)&&Ze(o,s,e)?(i=t,s=Pe(a),e=De(a,e)):s=-1}}}return Be(e,n,r,i)}const Ge={};function $e(){return new Xe(Yt(),$t())}function We(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Je(a,s,n,null==r?mt(a)&&Re:r!=s&&0!=(3&a.type),i&N.Host&&o===a);return null!==u?Ye(e,s,u,a):Ge}function Je(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&vt(t)&&t.type===n)return u}return null}function Ye(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Se){const s=i;s.resolving&&function(t,e){throw new wt("200","Circular dependency in DI detected for "+t)}(Ot(o[n]));const a=Le(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?D(s.injectImpl):null;ce(t,r,N.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=St(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&D(u),Le(a),s.resolving=!1,pe()}}return i}function Ze(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function Qe(t,e){return!(t&N.Self||t&N.Host&&e)}class Xe{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ke(this._tNode,this._lView,t,void 0,e)}}function tn(t){const e=t;if(O(t))return()=>{const t=tn(_(e));return t?t():null};let n=bt(e);if(null===n){const t=T(e);n=t&&t.factory}return n||null}function en(t){return L(()=>{const e=t.prototype.constructor,n=e[Z]||tn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Z]||tn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function nn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ie(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Yt(),t)}const rn="__parameters__";function on(t,e,n){return L(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(rn)?t[rn]:Object.defineProperty(t,rn,{value:[]})[rn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class sn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const an=new sn("AnalyzeForEntryComponents"),un=Function;function cn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),cn(r,e)):e!==t&&e.push(r)}return e}function ln(t,e){t.forEach(t=>Array.isArray(t)?ln(t,e):e(t))}function hn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function fn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function dn(t,e,n){let r=gn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function pn(t,e){const n=gn(t,e);if(n>=0)return t[1|n]}function gn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const mn=on("Inject",t=>({token:t})),yn=on("Optional"),vn=on("Self"),bn=on("SkipSelf"),wn=on("Host"),_n={},On=/\n/gm,En="__source",Cn=g({provide:String,useValue:g});let xn,Sn=void 0;function Tn(t){const e=Sn;return Sn=t,e}function In(t,e=N.Default){if(void 0===Sn)throw new Error("inject() must be called from an injection context");return null===Sn?R(t,void 0,e):Sn.get(t,e&N.Optional?null:void 0,e)}function An(t,e=N.Default){return(P||In)(_(t),e)}function kn(t){const e=[];for(let n=0;n<t.length;n++){const r=_(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=N.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof yn||"Optional"===i.ngMetadataName||i===yn?n|=N.Optional:i instanceof bn||"SkipSelf"===i.ngMetadataName||i===bn?n|=N.SkipSelf:i instanceof vn||"Self"===i.ngMetadataName||i===vn?n|=N.Self:i instanceof wn||"Host"===i.ngMetadataName||i===wn?n|=N.Host:t=i instanceof mn||i===mn?i.token:i}e.push(An(t,n))}else e.push(An(r))}return e}function jn(t){var e;return(null===(e=function(){if(void 0===xn&&(xn=null,z.trustedTypes))try{xn=z.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return xn}())||void 0===e?void 0:e.createHTML(t))||t}class Nn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class Pn extends Nn{getTypeName(){return"HTML"}}class Dn extends Nn{getTypeName(){return"Style"}}class Rn extends Nn{getTypeName(){return"Script"}}class Ln extends Nn{getTypeName(){return"URL"}}class Vn extends Nn{getTypeName(){return"ResourceURL"}}function Mn(t){return t instanceof Nn?t.changingThisBreaksApplicationSecurity:t}function Un(t,e){const n=Fn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Fn(t){return t instanceof Nn&&t.getTypeName()||null}function qn(t){return new Pn(t)}function Hn(t){return new Dn(t)}function zn(t){return new Rn(t)}function Bn(t){return new Ln(t)}function Kn(t){return new Vn(t)}class Gn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(jn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class $n{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=jn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=jn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Wn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Jn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Yn(t){return(t=String(t)).match(Wn)||t.match(Jn)?t:"unsafe:"+t}function Zn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Qn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Xn=Zn("area,br,col,hr,img,wbr"),tr=Zn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),er=Zn("rp,rt"),nr=Qn(er,tr),rr=Qn(Xn,Qn(tr,Zn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qn(er,Zn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nr),ir=Zn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),or=Zn("srcset"),sr=Qn(ir,or,Zn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ar=Zn("script,style,template");class ur{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!rr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ar.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!sr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ir[o]&&(s=Yn(s)),or[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Yn(t.trim())).join(", ")),this.buf.push(" ",e,'="',hr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();rr.hasOwnProperty(e)&&!Xn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(hr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const cr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lr=/([^\#-~ |!])/g;function hr(t){return t.replace(/&/g,"&amp;").replace(cr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(lr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fr;function dr(t,e){let n=null;try{fr=fr||function(t){const e=new $n(t);return function(){try{return!!(new window.DOMParser).parseFromString(jn(""),"text/html")}catch(t){return!1}}()?new Gn(e):e}(t);let r=e?String(e):"";n=fr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=fr.getInertBodyElement(r)}while(r!==o);return(new ur).sanitizeChildren(pr(n)||n)}finally{if(n){const t=pr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function pr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var gr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function mr(t){const e=function(){const t=$t();return t&&t[12]}();return e?e.sanitize(gr.URL,t)||"":Un(t,"URL")?Mn(t):Yn(_t(t))}function yr(t){return t.ngDebugContext}function vr(t){return t.ngOriginalError}function br(t,...e){t.error(...e)}class wr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||br}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?yr(t)?yr(t):this._findContext(vr(t)):null}_findOriginalError(t){let e=vr(t);for(;e&&vr(e);)e=vr(e);return e}}function _r(t,e){t.__ngContext__=e}const Or=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function Er(t){return t instanceof Function?t():t}var Cr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function xr(t,e){return(void 0)(t,e)}function Sr(t){const e=t[3];return pt(e)?e[3]:e}function Tr(t){return Ar(t[13])}function Ir(t){return Ar(t[4])}function Ar(t){for(;null!==t&&!pt(t);)t=t[4];return t}function kr(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:dt(r)&&(s=!0,r=r[0]);const a=Dt(r);0===t&&null!==n?null==i?Vr(e,n,a):Lr(e,n,a,i||null,!0):1===t&&null!==n?Lr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Ur(t,e);r&&function(t,e,n,r){Nt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Dt(n)&&kr(e,t,r,o,i);for(let s=ft;s<n.length;s++){const i=n[s];Br(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function jr(t,e,n){return Nt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Nr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Bt(i,-1)),n.splice(r,1)}function Pr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Nr(o,r),e>0&&(t[n-1][4]=r[4]);const s=fn(t,ft+e);Br(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Dr(t,e){if(!(256&e[2])){const n=e[11];Nt(n)&&n.destroyNode&&Br(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Rr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Rr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Rr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Rr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Se)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Dt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Nt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Nr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Lr(t,e,n,r,i){Nt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Vr(t,e,n){Nt(t)?t.appendChild(e,n):e.appendChild(n)}function Mr(t,e,n,r,i){null!==r?Lr(t,e,n,r,i):Vr(t,e,n)}function Ur(t,e){return Nt(t)?t.parentNode(e):e.parentNode}function Fr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===M.None||e===M.Emulated)return null}return Lt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?Lt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Mr(o,i,n[a],s,!1);else Mr(o,i,n,s,!1)}function qr(t,e){if(null!==e){const n=e.type;if(3&n)return Lt(e,t);if(4&n)return Hr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return qr(t,n);{const n=t[e.index];return pt(n)?Hr(-1,n):Dt(n)}}if(32&n)return xr(e,t)()||Dt(t[e.index]);{const n=t[16],r=n[6],i=Sr(n),o=r.projection[e.projection];return null!=o?qr(i,o):qr(t,e.next)}}return null}function Hr(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return qr(t,r)}return e[7]}function zr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&_r(Dt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)zr(t,e,n.child,r,i,o,!1),kr(e,t,i,a,o);else if(32&u){const s=xr(n,r);let u;for(;u=s();)kr(e,t,i,u,o);kr(e,t,i,a,o)}else 16&u?Kr(t,e,r,n,i,o):kr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Br(t,e,n,r,i,o){zr(n,r,t.firstChild,e,i,o,!1)}function Kr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)kr(e,t,i,a[u],o);else zr(t,e,a,s[3],i,o,!0)}function Gr(t,e,n){Nt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function $r(t,e,n){Nt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Wr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Jr="ng-template";function Yr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Wr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Zr(t){return 4===t.type&&t.value!==Jr}function Qr(t,e,n){return e===(4!==t.type||n?t.value:Jr)}function Xr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ie(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Qr(t,u,n)||""===u&&1===e.length){if(ti(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Yr(t.attrs,c,n)){if(ti(r))return!1;s=!0}continue}const l=ei(8&r?"class":u,i,Zr(t),n);if(-1===l){if(ti(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Wr(e,c,0)||2&r&&c!==t){if(ti(r))return!1;s=!0}}}}else{if(!s&&!ti(r)&&!ti(u))return!1;if(s&&ti(u))continue;s=!1,r=u|1&r}}return ti(r)||s}function ti(t){return 0==(1&t)}function ei(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ni(t,e,n=!1){for(let r=0;r<e.length;r++)if(Xr(t,e[r],n))return!0;return!1}function ri(t,e){return t?":not("+e.trim()+")":e}function ii(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||ti(s)||(e+=ri(o,i),i=""),r=s,o=o||!ti(r);n++}return""!==i&&(e+=ri(o,i)),e}const oi={};function si(t){ai(Wt(),$t(),me()+t,te())}function ai(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&we(e,r,n)}else{const r=t.preOrderHooks;null!==r&&_e(e,r,0,n)}ye(n)}function ui(t,e){return t<<17|e<<2}function ci(t){return t>>17&32767}function li(t){return 2|t}function hi(t){return(131068&t)>>2}function fi(t,e){return-131069&t|e<<2}function di(t){return 1|t}function pi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ae(i),n.contentQueries(2,e[o],o)}}}function gi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,zt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function mi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Zt(),s=Xt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Kt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Kt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Qt(o,!0),o}function yi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function vi(t,e,n){le(e);try{const r=t.viewQuery;null!==r&&$i(1,r,n);const i=t.template;null!==i&&_i(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&pi(t,e),t.staticViewQueries&&$i(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Hi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ge()}}function bi(t,e,n,r){const i=e[2];if(256==(256&i))return;le(e);const o=te();try{zt(e),Kt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&_i(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&we(e,n,null)}else{const n=t.preOrderHooks;null!==n&&_e(e,n,0,null),Oe(e,0)}if(function(t){for(let e=Tr(t);null!==e;e=Ir(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Bt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Tr(t);null!==e;e=Ir(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];qt(n)&&bi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&pi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&we(e,n)}else{const n=t.contentHooks;null!==n&&_e(e,n,1),Oe(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ye(~r);else{const i=r,o=n[++t],s=n[++t];ie(o,i),s(2,e[i])}}}finally{ye(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Fi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&$i(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&we(e,n)}else{const n=t.viewHooks;null!==n&&_e(e,n,2),Oe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Bt(e[3],-1))}finally{ge()}}function wi(t,e,n,r){const i=e[10],o=!te(),s=Ft(e);try{o&&!s&&i.begin&&i.begin(),s&&vi(t,e,r),bi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function _i(t,e,n,r,i){const o=me();try{ye(-1),2&r&&e.length>ht&&ai(t,e,ht,te()),n(r,i)}finally{ye(o)}}function Oi(t,e,n){Gt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Me(n,e),_r(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=vt(r);o&&Li(e,n,r);const u=Ye(e,t,a,n);_r(u,e),null!==s&&Vi(0,a-i,u,r,0,s),o&&(Mt(n.index,e)[8]=u)}}(t,e,n,Lt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Kt.lFrame.currentDirectiveIndex;try{ye(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];oe(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||ji(r,i)}}finally{ye(-1),oe(s)}}(t,e,n))}function Ei(t,e,n=Lt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Ci(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=xi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function xi(t,e,n,r,i,o,s,a,u,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:oi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Si(t,e,n,r){const i=Ji(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Yi(t).push(r,i.length-1))}function Ti(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ii(t,e,n,r,i,o,s,a){const u=Lt(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(Qi(t,n,c,r,i),mt(e)&&function(t,e){const n=Mt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,Nt(o)?o.setProperty(u,r,i):Ae(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ai(t,e,n,r){let i=!1;if(Gt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ni(n,s.selectors,!1)&&(i||(i=[]),He(Me(n,e),t,s.type),vt(s)?(Ni(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Di(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=yi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=ke(n.mergedAttrs,c.hostAttrs),Ri(t,n,e,u,c),Pi(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Zr(e)?null:Mi(n,i);o.push(c),s=Ti(n,u,s),a=Ti(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new wt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=ke(n.mergedAttrs,n.attrs),i}function ki(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function ji(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ni(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Pi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function Di(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ri(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=bt(i.type)),s=new Se(o,vt(i),null);t.blueprint[r]=s,n[r]=s,ki(t,e,0,r,yi(t,n,i.hostVars,oi),i)}function Li(t,e,n){const r=Lt(e,t),i=Ci(n),o=t[10],s=zi(t,gi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Vi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Mi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ui(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Fi(t,e){const n=Mt(e,t);if(qt(n)){const t=n[1];80&n[2]?bi(t,n,t.template,n[8]):n[5]>0&&qi(n)}}function qi(t){for(let n=Tr(t);null!==n;n=Ir(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];bi(t,e,t.template,e[8])}else e[5]>0&&qi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Mt(e[n],t);qt(r)&&r[5]>0&&qi(r)}}function Hi(t,e){const n=Mt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),vi(r,n,n[8])}function zi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Bi(t){for(;t;){t[2]|=64;const e=Sr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Ki(t,e,n){const r=e[10];r.begin&&r.begin();try{bi(t,e,t.template,n)}catch(i){throw Zi(e,i),i}finally{r.end&&r.end()}}function Gi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ut(n),i=r[1];wi(i,r,i.template,n)}}(t[8])}function $i(t,e,n){ae(0),e(t,n)}const Wi=(()=>Promise.resolve(null))();function Ji(t){return t[7]||(t[7]=[])}function Yi(t){return t.cleanup||(t.cleanup=[])}function Zi(t,e){const n=t[9],r=n?n.get(wr,null):null;r&&r.handleError(e)}function Qi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Xi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=v(i,t):2==o&&(r=v(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const to=new sn("INJECTOR",-1);class eo{get(t,e=_n){if(e===_n){const e=new Error(`NullInjectorError: No provider for ${y(t)}!`);throw e.name="NullInjectorError",e}return e}}const no=new sn("Set Injector scope."),ro={},io={},oo=[];let so=void 0;function ao(){return void 0===so&&(so=new eo),so}function uo(t,e=null,n=null,r){return new co(t,n,e||ao(),r)}class co{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ln(e,n=>this.processProvider(n,t,e)),ln([t],t=>this.processInjectorType(t,[],i)),this.records.set(to,fo(void 0,this));const o=this.records.get(no);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:y(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=_n,n=N.Default){this.assertNotDestroyed();const r=Tn(this);try{if(!(n&N.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof sn)&&x(t);e=n&&this.injectableDefInScope(n)?fo(lo(t),ro):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&N.Self?ao():this.parent).get(t,e=n&N.Optional&&e===_n?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(y(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[En]&&i.unshift(e[En]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=y(e);if(Array.isArray(e))i=e.map(y).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):y(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(On,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Tn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(y(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=_(t)))return!1;let r=T(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=T(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{ln(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ln(r,t=>this.processProvider(t,n,r||oo))}}this.injectorDefTypes.add(o),this.records.set(o,fo(r.factory,ro));const a=r.providers;if(null!=a&&!s){const e=t;ln(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=go(t=_(t))?t:_(t&&t.provide);const i=function(t,e,n){return po(t)?fo(void 0,t.useValue):fo(ho(t),ro)}(t);if(go(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=fo(void 0,ro,!0),e.factory=()=>kn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ro&&(e.value=io,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function lo(t){const e=x(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;const r=T(t);if(null!==r)return r.factory;if(t instanceof sn)throw new Error(`Token ${y(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${y(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[k]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ho(t,e,n){let r=void 0;if(go(t)){const e=_(t);return bt(e)||lo(e)}if(po(t))r=()=>_(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...kn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>An(_(t.useExisting));else{const e=_(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||lo(e);r=()=>new e(...kn(t.deps))}var i;return r}function fo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function po(t){return null!==t&&"object"==typeof t&&Cn in t}function go(t){return"function"==typeof t}const mo=function(t,e,n){return function(t,e=null,n=null,r){const i=uo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let yo=(()=>{class t{static create(t,e){return Array.isArray(t)?mo(t,e,""):mo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=_n,t.NULL=new eo,t.\u0275prov=E({token:t,providedIn:"any",factory:()=>An(to)}),t.__NG_ELEMENT_ID__=-1,t})();function vo(t,e){be(Ut(t)[1],Yt())}function bo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=wo(t.inputs),e.declaredInputs=wo(t.declaredInputs),e.outputs=wo(t.outputs);const n=i.hostBindings;n&&Eo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&_o(t,o),s&&Oo(t,s),m(t.inputs,i.inputs),m(t.declaredInputs,i.declaredInputs),m(t.outputs,i.outputs),vt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===bo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ke(i.hostAttrs,n=ke(n,i.hostAttrs))}}(r)}function wo(t){return t===B?{}:t===K?[]:t}function _o(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Oo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Eo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Co=null;function xo(){if(!Co){const t=z.Symbol;if(t&&t.iterator)Co=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Co=n)}}}return Co}function So(t){return!!To(t)&&(Array.isArray(t)||!(t instanceof Map)&&xo()in t)}function To(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Io(t,e,n){return t[e]=n}function Ao(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ko(t,e,n,r){const i=$t();return Ao(i,re(),e)&&(Wt(),function(t,e,n,r,i,o){const s=Lt(t,e);!function(t,e,n,r,i,o,s){if(null==o)Nt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?_t(o):s(o,r||"",i);Nt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(ve(),i,t,e,n,r)),ko}function jo(t,e,n,r,i,o,s,a){const u=$t(),c=Wt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=mi(e,t,4,s||null,Ht(c,a));Ai(e,n,l,Ht(c,u)),be(e,l);const h=l.tViews=xi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Qt(h,!1);const f=u[11].createComment("");Fr(c,u,f,h),_r(f,u),zi(u,u[l]=Ui(f,u,f,h)),yt(h)&&Oi(c,u,h),null!=s&&Ei(u,h,a)}function No(t){return function(t,e){return t[e]}(Kt.lFrame.contextLView,ht+t)}function Po(t,e=N.Default){const n=$t();return null===n?An(t,e):Ke(Yt(),n,_(t),e)}function Do(t,e,n){const r=$t();return Ao(r,re(),e)&&Ii(Wt(),ve(),r,t,e,r[11],n,!1),Do}function Ro(t,e,n,r,i){const o=i?"class":"style";Qi(t,n,e.inputs[o],o,r)}function Lo(t,e,n,r){const i=$t(),o=Wt(),s=ht+t,a=i[11],u=i[s]=jr(a,e,Kt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=mi(e,t,2,i,Ht(a,o));return Ai(e,n,u,Ht(a,s)),null!==u.attrs&&Xi(u,u.attrs,!1),null!==u.mergedAttrs&&Xi(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Qt(c,!0);const l=c.mergedAttrs;null!==l&&Te(a,u,l);const h=c.classes;null!==h&&$r(a,u,h);const f=c.styles;null!==f&&Gr(a,u,f),64!=(64&c.flags)&&Fr(o,i,u,c),0===Kt.lFrame.elementDepthCount&&_r(u,i),Kt.lFrame.elementDepthCount++,yt(c)&&(Oi(o,i,c),function(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Ei(i,c)}function Vo(){let t=Yt();Xt()?Kt.lFrame.isParent=!1:(t=t.parent,Qt(t,!1));const e=t;Kt.lFrame.elementDepthCount--;const n=Wt();n.firstCreatePass&&(be(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ro(n,e,$t(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ro(n,e,$t(),e.stylesWithoutHost,!1)}function Mo(t,e,n,r){Lo(t,e,n,r),Vo()}function Uo(){return $t()}function Fo(t){return!!t&&"function"==typeof t.then}function qo(t){return!!t&&"function"==typeof t.subscribe}function Ho(t,e,n=!1,r){const i=$t(),o=Wt(),s=Yt();return function(t,e,n,r,i,o,s=!1,a){const u=yt(r),c=t.firstCreatePass&&Yi(t),l=Ji(e);let h=!0;if(3&r.type){const f=Lt(r,e),d=a?a(f):B,p=d.target||f,g=l.length,m=a?t=>a(Dt(t[r.index])).target:r.index;if(Nt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Bo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=Bo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}else o=Bo(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Ho}function zo(t,e,n){try{return!1!==e(n)}catch(r){return Zi(t,r),!1}}function Bo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Mt(t.index,e):e;0==(32&e[2])&&Bi(s);let a=zo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=zo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Ko(t=1){return function(t){return(Kt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Kt.lFrame.contextLView))[8]}(t)}const Go=[];function $o(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ci(o):hi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Wo(t[a],e)&&(u=!0,t[a+1]=r?di(n):li(n)),a=r?ci(n):hi(n)}u&&(t[n+1]=r?li(o):di(o))}function Wo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&gn(t,e)>=0}function Jo(t,e){return function(t,e,n,r){const i=$t(),o=Wt(),s=function(t){const e=Kt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[me()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Kt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Zo(n=Yo(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Yo(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==hi(r))return t[ci(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Yo(null,t,e,n[1],r),n=Zo(n,e.attrs,r),function(t,e,n,r){t[ci(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Zo(r,t[o].hostAttrs,true);return Zo(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=ci(s),u=hi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||gn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=ci(t[a+1]);t[r+1]=ui(e,a),0!==e&&(t[e+1]=fi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ui(a,0),0!==a&&(t[a+1]=fi(t[a+1],r)),a=r;else t[r+1]=ui(u,0),0===a?a=r:t[u+1]=fi(t[u+1],r),u=r;l&&(t[r+1]=li(t[r+1])),$o(t,c,r,!0),$o(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&gn(o,e)>=0&&(n[r+1]=di(n[r+1]))}(e,c,t,r),s=ui(a,u),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==oi&&Ao(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Xo(1==(1&c)?Qo(u,e,n,i,hi(c),s):void 0)||(Xo(o)||function(t){return 2==(2&t)}(c)&&(o=Qo(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Nt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Rt(me(),n),i,o))}(o,o.data[me()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=y(Mn(t))),t}(e),true,s)}(t,e),Jo}function Yo(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Zo(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Zo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),dn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Qo(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===oi&&(l=c?Go:void 0);let h=c?pn(l,r):u===r?l:void 0;if(o&&!Xo(h)&&(h=pn(e,r)),Xo(h)&&(a=h,s))return a;const f=t[i+1];i=s?ci(f):hi(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=pn(t,r))}return a}function Xo(t){return void 0!==t}function ts(t,e=""){const n=$t(),r=Wt(),i=t+ht,o=r.firstCreatePass?mi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Nt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Fr(r,n,s,o),Qt(o,!1)}function es(t){return ns("",t,""),es}function ns(t,e,n){const r=$t(),i=function(t,e,n,r){return Ao(t,re(),n)?e+_t(n)+r:oi}(r,t,e,n);return i!==oi&&function(t,e,n){const r=Rt(e,t);!function(t,e,n){Nt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,me(),i),ns}function rs(t,e,n){const r=$t();return Ao(r,re(),e)&&Ii(Wt(),ve(),r,t,e,r[11],n,!0),rs}const is=void 0;var os=["en",[["a","p"],["AM","PM"],is],[["AM","PM"],is,is],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],is,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],is,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",is,"{1} 'at' {0}",is],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ss={};function as(t,e,n){"string"!=typeof e&&(n=e,e=t[fs.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ss[e]=t,n&&(ss[e][fs.ExtraData]=n)}function us(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=hs(e);if(n)return n;const r=e.split("-")[0];if(n=hs(r),n)return n;if("en"===r)return os;throw new Error(`Missing locale data for the locale "${t}".`)}function cs(t){return us(t)[fs.CurrencyCode]||null}function ls(t){return us(t)[fs.PluralCase]}function hs(t){return t in ss||(ss[t]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[t]),ss[t]}var fs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const ds="en-US";let ps=ds;function gs(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ps=t.toLowerCase().replace(/_/g,"-"))}function ms(t,e,n,r,i){if(t=_(t),Array.isArray(t))for(let o=0;o<t.length;o++)ms(t[o],e,n,r,i);else{const o=Wt(),s=$t();let a=go(t)?t:_(t.provide),u=ho(t);const c=Yt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(go(t)||!t.multi){const r=new Se(u,i,Po),d=bs(a,e,i?l:l+f,h);-1===d?(He(Me(c,s),o,a),ys(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=bs(a,e,l+f,h),p=bs(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){He(Me(c,s),o,a);const l=function(t,e,n,r,i){const o=new Se(t,n,Po);return o.multi=[],o.index=e,o.componentProviders=0,vs(o,i,r&&!n),o}(i?_s:ws,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),ys(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else ys(o,t,d>-1?d:p,vs(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function ys(t,e,n,r){const i=go(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function vs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function bs(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ws(t,e,n,r){return Os(this.multi,[])}function _s(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ye(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Os(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Os(i,o);return o}function Os(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Es(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Wt();if(r.firstCreatePass){const i=vt(t);ms(n,r.data,r.blueprint,i,!0),ms(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Cs{}class xs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${y(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ss=(()=>{class t{}return t.NULL=new xs,t})();function Ts(...t){}function Is(t,e){return new ks(Lt(t,e))}const As=function(){return Is(Yt(),$t())};let ks=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=As,t})();class js{}let Ns=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ps(),t})();const Ps=function(){const t=$t(),e=Mt(Yt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let Ds=(()=>{class t{}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>null}),t})();class Rs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ls=new Rs("11.0.9");class Vs{constructor(){}supports(t){return So(t)}create(t){return new Us(t)}}const Ms=(t,e)=>e;class Us{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ms}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<zs(n,r,i)?e:n,s=zs(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!So(t))throw new Error(`Error trying to diff '${y(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[xo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Fs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Hs),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Hs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Fs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qs{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Hs{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new qs,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zs(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Bs{constructor(){}supports(t){return t instanceof Map||To(t)}create(){return new Ks}}class Ks{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||To(t)))throw new Error(`Error trying to diff '${y(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Gs(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Gs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let $s=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new bn,new yn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new Vs])}),t})(),Ws=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new bn,new yn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new Bs])}),t})();function Js(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Dt(o)),pt(o))for(let t=ft;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Js(e[1],e,n,r)}const s=n.type;if(8&s)Js(t,e,n.child,r);else if(32&s){const t=xr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Sr(t);Js(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ys{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Js(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Pr(t,n),fn(e,n))}this._attachedToViewContainer=!1}Dr(this._lView[1],this._lView)}onDestroy(t){Si(this._lView[1],this._lView,null,t)}markForCheck(){Bi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ki(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ee(!0);try{Ki(t,e,n)}finally{ee(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Br(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Zs extends Ys{constructor(t){super(t),this._view=t}detectChanges(){Gi(this._view)}checkNoChanges(){!function(t){ee(!0);try{Gi(t)}finally{ee(!1)}}(this._view)}get context(){return null}}const Qs=ta;let Xs=(()=>{class t{}return t.__NG_ELEMENT_ID__=Qs,t.__ChangeDetectorRef__=!0,t})();function ta(t=!1){return function(t,e,n){if(!n&&mt(t)){const n=Mt(t.index,e);return new Ys(n,n)}return 47&t.type?new Ys(e[16],e):null}(Yt(),$t(),t)}const ea=[new Bs],na=new $s([new Vs]),ra=new Ws(ea),ia=function(){return ua(Yt(),$t())};let oa=(()=>{class t{}return t.__NG_ELEMENT_ID__=ia,t})();const sa=oa,aa=class extends sa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=gi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),vi(e,n,t),new Ys(n)}};function ua(t,e){return 4&t.type?new aa(e,t,Is(t,e)):null}class ca{}class la{}const ha=function(){return ya(Yt(),$t())};let fa=(()=>{class t{}return t.__NG_ELEMENT_ID__=ha,t})();const da=fa,pa=class extends da{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Is(this._hostTNode,this._hostLView)}get injector(){return new Xe(this._hostTNode,this._hostLView)}get parentInjector(){const t=qe(this._hostTNode,this._hostLView);if(Ne(t)){const e=De(t,this._hostLView),n=Pe(t);return new Xe(e[1].data[n+8],e)}return new Xe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ga(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(ca,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new pa(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ft+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ft?(e[4]=n[i],hn(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Hr(i,o),a=n[11],u=Ur(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Br(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),hn(ma(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ga(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Pr(this._lContainer,e);n&&(fn(ma(this._lContainer),e),Dr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Pr(this._lContainer,e);return n&&null!=fn(ma(this._lContainer),e)?new Ys(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function ga(t){return t[8]}function ma(t){return t[8]||(t[8]=[])}function ya(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Dt(r);else{const n=e[11];i=n.createComment("");const r=Lt(t,e);Lr(n,Ur(n,r),i,function(t,e){return Nt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Ui(r,e,i,t),zi(e,n)}return new pa(n,t,e)}const va={};class ba extends Ss{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new Oa(e,this.ngModule)}}function wa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const _a=new sn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Or});class Oa extends Cs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ii).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return wa(this.componentDef.inputs)}get outputs(){return wa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,va,i);return o!==va||r===va?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(js,Pt),s=i.get(Ds,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Nt(t))return t.selectRootElement(e,n===M.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):jr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Or,clean:Wi,playerHandler:null,flags:0},f=xi(0,null,null,1,0,null,null,null,null,null),d=gi(null,f,h,l,null,null,o,a,s,i);let p,g;le(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=mi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Xi(a,u,!0),null!==t&&(Te(i,t,u),null!==a.classes&&$r(i,t,a.classes),null!==a.styles&&Gr(i,t,a.styles)));const c=r.createRenderer(t,e),l=gi(n,Ci(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(He(Me(a,n),s,e.type),Ni(s,a),Di(a,n.length,1)),zi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Te(a,c,["ng-version",Ls.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ti(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Te(a,c,t),e&&e.length>0&&$r(a,c,e.join(" "))}if(g=Vt(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Yt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ri(t,r,e,yi(t,e,1,null),n));const i=Ye(e,t,r.directiveStart,r);_r(i,e);const o=Lt(r,e);return o&&_r(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Yt();e.contentQueries(1,s,t.directiveStart)}const a=Yt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ye(a.index),ki(n[1],a,0,a.directiveStart,a.directiveEnd,e),ji(e,s)),s}(t,this.componentDef,d,h,[vo]),vi(f,d,null)}finally{ge()}return new Ea(this.componentType,p,Is(g,d),d,g)}}class Ea extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Zs(r),this.componentType=t}get injector(){return new Xe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ca=new Map;class xa extends ca{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ba(this);const n=lt(t),r=t[Y]||null;r&&gs(r),this._bootstrapComponents=Er(n.bootstrap),this._r3Injector=uo(t,e,[{provide:ca,useValue:this},{provide:Ss,useValue:this.componentFactoryResolver}],y(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=yo.THROW_IF_NOT_FOUND,n=N.Default){return t===yo||t===ca||t===to?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Sa extends la{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${y(e)} vs ${y(e.name)}`)}(i,Ca.get(i),n),Ca.set(i,n));const o=Er(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new xa(this.moduleType,t)}}function Ta(t,e,n,r){return function(t,e,n,r,i,o){const s=e+n;return Ao(t,s,i)?Io(t,s+1,o?r.call(o,i):r(i)):Aa(t,s+1)}($t(),ne(),t,e,n,r)}function Ia(t,e,n,r,i){return function(t,e,n,r,i,o,s){const a=e+n;return function(t,e,n,r){const i=Ao(t,e,n);return Ao(t,e+1,r)||i}(t,a,i,o)?Io(t,a+2,s?r.call(s,i,o):r(i,o)):Aa(t,a+2)}($t(),ne(),t,e,n,r,i)}function Aa(t,e){const n=t[e];return n===oi?void 0:n}const ka=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function ja(){return this._results[xo()]()}class Na{constructor(){this.dirty=!0,this._results=[],this.changes=new ka,this.length=0;const t=xo(),e=Na.prototype;e[t]||(e[t]=ja)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=cn(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Pa{constructor(t){this.queryList=t,this.matches=null}clone(){return new Pa(this.queryList)}setDirty(){this.queryList.setDirty()}}class Da{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Da(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Ka(t,e).matches&&this.queries[e].setDirty()}}class Ra{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class La{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new La(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Va{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Va(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Ma(e,i)),this.matchTNodeWithReadOption(t,e,Je(e,t,i,!1,!1))}else n===oa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Je(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ks||r===fa||r===oa&&4&e.type)this.addMatch(e.index,-2);else{const n=Je(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ma(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ua(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Is(t,e):4&t.type?ua(t,e):null}(e,t):-2===n?function(t,e,n){return n===ks?Is(e,t):n===oa?ua(e,t):n===fa?ya(e,t):void 0}(t,e,r):Ye(t,t[1],n,e)}function Fa(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Ua(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function qa(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Fa(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ft;t<s.length;t++){const e=s[t];e[17]===e[3]&&qa(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];qa(n[1],n,i,r)}}}}}return r}function Ha(t){const e=$t(),n=Wt(),r=se();ae(r+1);const i=Ka(n,r);if(t.dirty&&Ft(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?qa(n,e,r,[]):Fa(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function za(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new La),t.queries.track(new Va(e,n))}(t,new Ra(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new Na;Si(t,e,n,n.destroy),null===e[19]&&(e[19]=new Da),e[19].queries.push(new Pa(n))}(t,e)}(Wt(),$t(),e,n,r,0,Yt(),t)}function Ba(){return t=$t(),e=se(),t[19].queries[e].queryList;var t,e}function Ka(t,e){return t.queries.getByIndex(e)}function Ga(t=N.Default){const e=ta(!0);if(null!=e||t&N.Optional)return e;Et("ChangeDetectorRef")}const $a=new sn("Application Initializer");let Wa=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ts,this.reject=Ts,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Fo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(An($a,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Ja=new sn("AppId"),Ya={provide:Ja,useFactory:function(){return`${Za()}${Za()}${Za()}`},deps:[]};function Za(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Qa=new sn("Platform Initializer"),Xa=new sn("Platform ID"),tu=new sn("appBootstrapListener");let eu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const nu=new sn("LocaleId"),ru=new sn("DefaultCurrencyCode");class iu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ou=function(t){return new Sa(t)},su=ou,au=function(t){return Promise.resolve(ou(t))},uu=function(t){const e=ou(t),n=Er(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new Oa(n)),t},[]);return new iu(e,n)},cu=uu,lu=function(t){return Promise.resolve(uu(t))};let hu=(()=>{class t{constructor(){this.compileModuleSync=su,this.compileModuleAsync=au,this.compileModuleAndAllComponentsSync=cu,this.compileModuleAndAllComponentsAsync=lu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const fu=(()=>Promise.resolve(0))();function du(t){"undefined"==typeof Zone?fu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class pu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ka(!1),this.onMicrotaskEmpty=new ka(!1),this.onStable=new ka(!1),this.onError=new ka(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=z.requestAnimationFrame,e=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(z,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,yu(t),mu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),yu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return vu(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),bu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return vu(t),e.invoke(r,i,o,s,a)}finally{bu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,yu(t),mu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(pu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,gu,Ts,Ts);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const gu={};function mu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function yu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function vu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bu(t){t._nesting--,mu(t)}class wu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ka,this.onMicrotaskEmpty=new ka,this.onStable=new ka,this.onError=new ka}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let _u=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pu.assertNotInAngularZone(),du(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())du(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(An(pu))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})(),Ou=(()=>{class t{constructor(){this._applications=new Map,Su.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Su.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();class Eu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Cu(t){Su=t}let xu,Su=new Eu,Tu=!0,Iu=!1;function Au(){return Iu=!0,Tu}function ku(){if(Iu)throw new Error("Cannot enable prod mode after platform setup.");Tu=!1}const ju=new sn("AllowMultipleToken");class Nu{constructor(t,e){this.name=t,this.token=e}}function Pu(t,e,n=[]){const r="Platform: "+e,i=new sn(r);return(e=[])=>{let o=Du();if(!o||o.injector.get(ju,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:no,useValue:"platform"});!function(t){if(xu&&!xu.destroyed&&!xu.injector.get(ju,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");xu=t.get(Ru);const e=t.get(Qa,null);e&&e.forEach(t=>t())}(yo.create({providers:t,name:r}))}return function(t){const e=Du();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Du(){return xu&&!xu.destroyed?xu:null}let Ru=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new wu:("zone.js"===t?void 0:t)||new pu({enableLongStackTrace:Au(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:pu,useValue:n}];return n.run(()=>{const e=yo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(wr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Mu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Fo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Wa);return t.runInitializers(),t.donePromise.then(()=>(gs(i.injector.get(nu,ds)||ds),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Lu({},e);return function(t,e,n){const r=new Sa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Vu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${y(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(An(yo))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Lu(t,e){return Array.isArray(e)?e.reduce(Lu,t):Object.assign(Object.assign({},t),e)}let Vu=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{pu.assertNotInAngularZone(),du(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{pu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Cs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ca),i=n.create(yo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(_u,null),a=s&&i.injector.get(Ou);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Mu(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),Au()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Mu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(tu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(An(pu),An(eu),An(yo),An(wr),An(Ss),An(Wa))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Mu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Uu{}class Fu{}const qu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Hu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||qu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>zu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>zu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(An(hu),An(Fu,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function zu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Bu=function(t){return null},Ku=Pu(null,"core",[{provide:Xa,useValue:"unknown"},{provide:Ru,deps:[yo]},{provide:Ou,deps:[]},{provide:eu,deps:[]}]),Gu=[{provide:Vu,useClass:Vu,deps:[pu,eu,yo,wr,Ss,Wa]},{provide:_a,deps:[pu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Wa,useClass:Wa,deps:[[new yn,$a]]},{provide:hu,useClass:hu,deps:[]},Ya,{provide:$s,useFactory:function(){return na},deps:[]},{provide:Ws,useFactory:function(){return ra},deps:[]},{provide:nu,useFactory:function(t){return gs(t=t||"undefined"!=typeof $localize&&$localize.locale||ds),t},deps:[[new mn(nu),new yn,new bn]]},{provide:ru,useValue:"USD"}];let $u=(()=>{class t{constructor(t){}}return t.\u0275mod=it({type:t}),t.\u0275inj=C({factory:function(e){return new(e||t)(An(Vu))},providers:Gu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return g});var r=n("30Go");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,y.prototype.create),o}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?v(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new m(i,a,r);return u},t}();function v(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return S}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),w=new u.O("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const x={provide:class{},useFactory:_,deps:[v,u.z,[new u.A,b]]};let S=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Gb({type:t}),t.\u0275inj=u.Fb({factory:function(e){return new(e||t)(u.Pb(u.B))},providers:[x]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(s.f)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(o.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(a)}catch(m){u={error:m}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyBN0pEszEfiAf1LaaO3YwFolQJLoqXn7PY",authDomain:"firecrud-ng.firebaseapp.com",projectId:"firecrud-ng",storageBucket:"firecrud-ng.appspot.com",messagingSenderId:"116861373272",appId:"1:116861373272:web:07b28058179321dea3f32d",measurementId:"G-9GDRDZTQCP"};let o=null;function s(){return o}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Pb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=Object(r.Eb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Pb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Pb)(a).location;return new w(Object(r.Pb)(u),e&&e.origin||"")}const b=new r.q("appBaseHref");let w=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u),r.Pb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u),r.Pb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(C(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(y),r.Pb(u))},t.normalizeQueryParams=m,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Eb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new O(Object(r.Pb)(y),Object(r.Pb)(u))}function C(t){return t.replace(/\/index.html$/,"")}var x=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const S=r.lb;class T{}let I=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(S(e||this.locale)(t)){case x.Zero:return"zero";case x.One:return"one";case x.Two:return"two";case x.Few:return"few";case x.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function A(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let k=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.ob)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.tb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.s),r.Ib(r.t),r.Ib(r.l),r.Ib(r.D))},t.\u0275dir=r.Db({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class j{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let N=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new j(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new P(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new P(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K),r.Ib(r.s))},t.\u0275dir=r.Db({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class P{constructor(t,e){this.record=t,this.view=e}}let D=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new R,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){L("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){L("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K))},t.\u0275dir=r.Db({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class R{constructor(){this.$implicit=null,this.ngIf=null}}function L(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}let V=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[{provide:T,useClass:I}]}),t})();function M(t){return"server"===t}let U=(()=>{class t{}return t.\u0275prov=Object(r.Eb)({token:t,providedIn:"root",factory:()=>new F(Object(r.Pb)(a),window)}),t})();class F{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=q(this.window.history)||q(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function q(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class H extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new H,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=B||(B=document.querySelector("base"),B)?B.getAttribute("href"):null;return null==e?null:(n=e,z||(z=document.createElement("a")),z.setAttribute("href",n),"/"===z.pathname.charAt(0)?z.pathname:"/"+z.pathname);var n}resetBaseElement(){B=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return A(document.cookie,t)}}let z,B=null;const K=new r.q("TRANSITION_ID"),G=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[K,a,r.r],multi:!0}];class ${static init(){Object(r.W)(new $)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const W=new r.q("EventManagerPlugins");let J=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(W),r.Pb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class Y{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Z=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Q=(()=>{class t extends Z{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const X={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},tt=/%COMP%/g;function et(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?et(t,i,n):(i=i.replace(tt,t),n.push(i))}return n}function nt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let rt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new it(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ot(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new st(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=et(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(J),r.Pb(Q),r.Pb(r.c))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class it{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(X[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=X[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=X[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,nt(n)):this.eventManager.addEventListener(t,e,nt(n))}}class ot extends it{constructor(t,e,n,r){super(t),this.component=n;const i=et(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(tt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(tt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class st extends it{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=et(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let at=(()=>{class t extends Y{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const ut=["alt","control","meta","shift"],ct={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ht={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ft=(()=>{class t extends Y{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(ut.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&lt.hasOwnProperty(e)&&(e=lt[e]))}return ct[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ut.forEach(r=>{r!=n&&(0,ht[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const dt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){H.makeCurrent(),$.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],pt=Object(r.R)(r.V,"browser",dt),gt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:W,useClass:at,multi:!0,deps:[a,r.z,r.B]},{provide:W,useClass:ft,multi:!0,deps:[a]},[],{provide:rt,useClass:rt,deps:[J,Q,r.c]},{provide:r.E,useExisting:rt},{provide:Z,useExisting:Q},{provide:Q,useClass:Q,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:J,useClass:J,deps:[W,r.z]},[]];let mt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:K,useExisting:r.c},G]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(t,12))},providers:gt,imports:[V,r.f]}),t})();"undefined"!=typeof window&&window;var yt=n("HDdC"),vt=n("DH7j"),bt=n("lJxs"),wt=n("XoHu"),_t=n("Cfvw");function Ot(t,e){return new yt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(_t.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Et=new r.q("NgValueAccessor"),Ct={provide:Et,useExisting:Object(r.T)(()=>xt),multi:!0};let xt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.xb([Ct])]}),t})();const St={provide:Et,useExisting:Object(r.T)(()=>It),multi:!0},Tt=new r.q("CompositionEventMode");let It=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(Tt,8))},t.\u0275dir=r.Db({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Sb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.xb([St])]}),t})();function At(t){return null==t||0===t.length}function kt(t){return null!=t&&"number"==typeof t.length}const jt=new r.q("NgValidators"),Nt=new r.q("NgAsyncValidators"),Pt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Dt{static min(t){return e=>{if(At(e.value)||At(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(At(e.value)||At(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return At(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return At(t.value)||Pt.test(t.value)?null:{email:!0}}static minLength(t){return e=>At(e.value)||!kt(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>kt(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Dt.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(At(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Rt);return 0==e.length?null:function(t){return Vt(Mt(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Rt);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(vt.a)(e))return Ot(e,null);if(Object(wt.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Ot(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Ot(t=1===t.length&&Object(vt.a)(t[0])?t[0]:t,null).pipe(Object(bt.a)(t=>e(...t)))}return Ot(t,null)}(Mt(t,e).map(Lt)).pipe(Object(bt.a)(Vt))}}}function Rt(t){return null!=t}function Lt(t){const e=Object(r.qb)(t)?Object(_t.a)(t):t;return Object(r.pb)(e),e}function Vt(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Mt(t,e){return e.map(e=>e(t))}function Ut(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Ft(t){return null!=t?Dt.compose(Ut(t)):null}function qt(t){return null!=t?Dt.composeAsync(Ut(t)):null}function Ht(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let zt=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ft(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=qt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t}),t})(),Bt=(()=>{class t extends zt{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Kt(e||t)},t.\u0275dir=r.Db({type:t,features:[r.vb]}),t})();const Kt=r.Nb(Bt);class Gt extends zt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $t{constructor(t){this._cd=t}get ngClassUntouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.untouched)&&void 0!==n&&n}get ngClassTouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.touched)&&void 0!==n&&n}get ngClassPristine(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pristine)&&void 0!==n&&n}get ngClassDirty(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.dirty)&&void 0!==n&&n}get ngClassValid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.valid)&&void 0!==n&&n}get ngClassInvalid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.invalid)&&void 0!==n&&n}get ngClassPending(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pending)&&void 0!==n&&n}}let Wt=(()=>{class t extends $t{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Gt,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),Jt=(()=>{class t extends $t{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Bt,10))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();const Yt={provide:Et,useExisting:Object(r.T)(()=>Zt),multi:!0};let Zt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([Yt])]}),t})();const Qt={provide:Et,useExisting:Object(r.T)(()=>te),multi:!0};let Xt=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),te=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Gt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(Xt),r.Ib(r.r))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([Qt])]}),t})();const ee={provide:Et,useExisting:Object(r.T)(()=>ne),multi:!0};let ne=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([ee])]}),t})();const re={provide:Et,useExisting:Object(r.T)(()=>ie),multi:!0};let ie=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([re])]}),t})();const oe={provide:Et,useExisting:Object(r.T)(()=>se),multi:!0};let se=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([oe])]}),t})();function ae(t,e){ce(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&le(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&le(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function ue(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ce(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Ht(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);if(null!==e.asyncValidator?t.setAsyncValidators(Ht(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();ue(e._rawValidators,n),ue(e._rawAsyncValidators,n)}}function le(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const he=[xt,ne,Zt,ie,se,te];function fe(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const de="VALID",pe="INVALID",ge="PENDING",me="DISABLED";function ye(t){return(_e(t)?t.validators:t)||null}function ve(t){return Array.isArray(t)?Ft(t):t||null}function be(t,e){return(_e(e)?e.asyncValidators:t)||null}function we(t){return Array.isArray(t)?qt(t):t||null}function _e(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Oe{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=ve(this._rawValidators),this._composedAsyncValidatorFn=we(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===de}get invalid(){return this.status===pe}get pending(){return this.status==ge}get disabled(){return this.status===me}get enabled(){return this.status!==me}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=ve(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=we(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ge,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=me,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=de,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==de&&this.status!==ge||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?me:de}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ge,this._hasOwnPendingAsyncValidator=!0;const e=Lt(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Ce?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof xe&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?me:this.errors?pe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ge)?ge:this._anyControlsHaveStatus(pe)?pe:de}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){_e(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ee extends Oe{constructor(t=null,e,n){super(ye(e),be(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){fe(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){fe(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ce extends Oe{constructor(t,e,n){super(ye(e),be(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Ee?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class xe extends Oe{constructor(t,e,n){super(ye(e),be(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Ee?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Se={provide:Bt,useExisting:Object(r.T)(()=>Ie)},Te=(()=>Promise.resolve(null))();let Ie=(()=>{class t extends Bt{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new Ce({},Ft(t),qt(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Te.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),ae(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Te.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),fe(this._directives,t)})}addFormGroup(t){Te.then(()=>{const e=this._findContainer(t.path),n=new Ce({});(function(t,e){ce(t,e,!1)})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Te.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Te.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(jt,10),r.Ib(Nt,10))},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Sb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([Se]),r.vb]}),t})();const Ae={provide:Gt,useExisting:Object(r.T)(()=>je)},ke=(()=>Promise.resolve(null))();let je=(()=>{class t extends Gt{constructor(t,e,n,i){super(),this.control=new Ee,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===It?n=t:(e=t,he.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ae(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){ke.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;ke.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Bt,9),r.Ib(jt,10),r.Ib(Nt,10),r.Ib(Et,10))},t.\u0275dir=r.Db({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.xb([Ae]),r.vb,r.wb]}),t})(),Ne=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Pe={provide:jt,useExisting:Object(r.T)(()=>De),multi:!0};let De=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?Dt.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.zb("required",e.required?"":null)},inputs:{required:"required"},features:[r.xb([Pe])]}),t})(),Re=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),Le=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Xt],imports:[Re]}),t})();var Ve=n("LRne"),Me=n("5+tZ");function Ue(t,e){return Object(Me.a)(t,e,1)}var Fe=n("7o/Q");function qe(t,e){return function(n){return n.lift(new He(t,e))}}class He{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ze(t,this.predicate,this.thisArg))}}class ze extends Fe.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class Be{}class Ke{}class Ge{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ge?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ge;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ge?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class $e{encodeKey(t){return We(t)}encodeValue(t){return We(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function We(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Je{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new $e,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Je({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Ye(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Ze(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Qe(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Xe{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Ge),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Je,this.urlWithParams=e}serializeBody(){return null===this.body?null:Ye(this.body)||Ze(this.body)||Qe(this.body)||"string"==typeof this.body?this.body:this.body instanceof Je?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Qe(this.body)?null:Ze(this.body)?this.body.type||null:Ye(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Je?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new Xe(e,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var tn=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class en{constructor(t,e=200,n="OK"){this.headers=t.headers||new Ge,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class nn extends en{constructor(t={}){super(t),this.type=tn.ResponseHeader}clone(t={}){return new nn({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class rn extends en{constructor(t={}){super(t),this.type=tn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new rn({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class on extends en{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function sn(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let an=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Xe)r=t;else{let i=void 0;i=n.headers instanceof Ge?n.headers:new Ge(n.headers);let o=void 0;n.params&&(o=n.params instanceof Je?n.params:new Je({fromObject:n.params})),r=new Xe(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Ve.a)(r).pipe(Ue(t=>this.handler.handle(t)));if(t instanceof Xe||"events"===n.observe)return i;const o=i.pipe(qe(t=>t instanceof rn));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(bt.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(bt.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(bt.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(bt.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Je).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,sn(n,e))}post(t,e,n={}){return this.request("POST",t,sn(n,e))}put(t,e,n={}){return this.request("PUT",t,sn(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Be))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class un{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const cn=new r.q("HTTP_INTERCEPTORS");let ln=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const hn=/^\)\]\}',?\n/;class fn{}let dn=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),pn=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new yt.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new Ge(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new nn({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(hn,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new rn({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new on({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new on({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:tn.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:tn.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:tn.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(fn))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const gn=new r.q("XSRF_COOKIE_NAME"),mn=new r.q("XSRF_HEADER_NAME");class yn{}let vn=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=A(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a),r.Pb(r.B),r.Pb(gn))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),bn=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(yn),r.Pb(mn))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),wn=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(cn,[]);this.chain=t.reduceRight((t,e)=>new un(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Ke),r.Pb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),_n=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:bn,useClass:ln}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:gn,useValue:e.cookieName}:[],e.headerName?{provide:mn,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[bn,{provide:cn,useExisting:bn,multi:!0},{provide:yn,useClass:vn},{provide:gn,useValue:"XSRF-TOKEN"},{provide:mn,useValue:"X-XSRF-TOKEN"}]}),t})(),On=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[an,{provide:Be,useClass:wn},pn,{provide:Ke,useExisting:pn},dn,{provide:fn,useExisting:dn}],imports:[[_n.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var En=n("XNiG"),Cn=n("9ppp");class xn extends En.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Cn.a;return this._value}next(t){super.next(this._value=t)}}var Sn=n("z+Ro");class Tn extends Fe.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class In extends Fe.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var An=n("SeVD");function kn(t,e,n,r,i=new In(t,n,r)){if(!i.closed)return e instanceof yt.a?e.subscribe(i):Object(An.a)(e)(i)}var jn=n("yCtX");const Nn={};class Pn{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Dn(t,this.resultSelector))}}class Dn extends Tn{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Nn),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(kn(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Nn?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Rn=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Ln=n("bHdf");function Vn(...t){return Object(Ln.a)(1)(Object(Ve.a)(...t))}var Mn=n("EY2u");function Un(t){return new yt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(_t.a)(n):Object(Mn.b)()).subscribe(e)})}var Fn=n("zx2A");function qn(t,e){return"function"==typeof e?n=>n.pipe(qn((n,r)=>Object(_t.a)(t(n,r)).pipe(Object(bt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Hn(t))}class Hn{constructor(t){this.project=t}call(t,e){return e.subscribe(new zn(t,this.project))}}class zn extends Fn.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Fn.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Fn.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Bn=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Kn(t){return e=>0===t?Object(Mn.b)():e.lift(new Gn(t))}class Gn{constructor(t){if(this.total=t,this.total<0)throw new Bn}call(t,e){return e.subscribe(new $n(t,this.total))}}class $n extends Fe.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Wn(...t){const e=t[t.length-1];return Object(Sn.a)(e)?(t.pop(),n=>Vn(t,n,e)):e=>Vn(t,e)}function Jn(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Yn(t,e,n))}}class Yn{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Zn(t,this.accumulator,this.seed,this.hasSeed))}}class Zn extends Fe.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Qn(t){return function(e){const n=new Xn(t),r=e.lift(n);return n.caught=r}}class Xn{constructor(t){this.selector=t}call(t,e){return e.subscribe(new tr(t,this.selector,this.caught))}}class tr extends Fn.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Fn.a(this);this.add(r);const i=Object(Fn.c)(n,r);i!==r&&this.add(i)}}}function er(t){return function(e){return 0===t?Object(Mn.b)():e.lift(new nr(t))}}class nr{constructor(t){if(this.total=t,this.total<0)throw new Bn}call(t,e){return e.subscribe(new rr(t,this.total))}}class rr extends Fe.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ir(t=ar){return e=>e.lift(new or(t))}class or{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new sr(t,this.errorFactory))}}class sr extends Fe.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(a_){t=a_}this.destination.error(t)}}}function ar(){return new Rn}function ur(t=null){return e=>e.lift(new cr(t))}class cr{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new lr(t,this.defaultValue))}}class lr extends Fe.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var hr=n("SpAZ");function fr(t,e){const n=arguments.length>=2;return r=>r.pipe(t?qe((e,n)=>t(e,n,r)):hr.a,Kn(1),n?ur(e):ir(()=>new Rn))}var dr=n("vkgz"),pr=n("quSY");class gr{constructor(t){this.callback=t}call(t,e){return e.subscribe(new mr(t,this.callback))}}class mr extends Fe.a{constructor(t,e){super(t),this.add(new pr.a(e))}}class yr{constructor(t,e){this.id=t,this.url=e}}class vr extends yr{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class br extends yr{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wr extends yr{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _r extends yr{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Or extends yr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Er extends yr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cr extends yr{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xr extends yr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sr extends yr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tr{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ir{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ar{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kr{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jr{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nr{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pr{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Dr="primary";class Rr{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Lr(t){return new Rr(t)}function Vr(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Mr(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ur(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Fr(t[i],e[i]))return!1;return!0}function Fr(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function qr(t){return Array.prototype.concat.apply([],t)}function Hr(t){return t.length>0?t[t.length-1]:null}function zr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Br(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(_t.a)(Promise.resolve(t)):Object(Ve.a)(t)}function Kr(t,e,n){return n?function(t,e){return Ur(t,e)}(t.queryParams,e.queryParams)&&Gr(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Fr(t[n],e[n]))}(t.queryParams,e.queryParams)&&$r(t.root,e.root)}function Gr(t,e){if(!Qr(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Gr(t.children[n],e.children[n]))return!1}return!0}function $r(t,e){return Wr(t,e,e.segments)}function Wr(t,e,n){if(t.segments.length>n.length)return!!Qr(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Qr(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!$r(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Qr(t.segments,r)&&!!t.children.primary&&Wr(t.children.primary,e,i)}}class Jr{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lr(this.queryParams)),this._queryParamMap}toString(){return ei.serialize(this)}}class Yr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,zr(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ni(this)}}class Zr{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Lr(this.parameters)),this._parameterMap}toString(){return ci(this)}}function Qr(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Xr{}class ti{parse(t){const e=new pi(t);return new Jr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+ri(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${oi(e)}=${oi(t)}`).join("&"):`${oi(e)}=${oi(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const ei=new ti;function ni(t){return t.segments.map(t=>ci(t)).join("/")}function ri(t,e){if(!t.hasChildren())return ni(t);if(e){const e=t.children.primary?ri(t.children.primary,!1):"",n=[];return zr(t.children,(t,e)=>{e!==Dr&&n.push(`${e}:${ri(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return zr(t.children,(t,r)=>{r===Dr&&(n=n.concat(e(t,r)))}),zr(t.children,(t,r)=>{r!==Dr&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Dr?[ri(t.children.primary,!1)]:[`${n}:${ri(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${ni(t)}/${e[0]}`:`${ni(t)}/(${e.join("//")})`}}function ii(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oi(t){return ii(t).replace(/%3B/gi,";")}function si(t){return ii(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ai(t){return decodeURIComponent(t)}function ui(t){return ai(t.replace(/\+/g,"%20"))}function ci(t){return`${si(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${si(t)}=${si(e[t])}`).join("")}`;var e}const li=/^[^\/()?;=#]+/;function hi(t){const e=t.match(li);return e?e[0]:""}const fi=/^[^=?&#]+/,di=/^[^?&#]+/;class pi{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yr([],{}):new Yr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Yr(t,e)),n}parseSegment(){const t=hi(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Zr(ai(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=hi(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=hi(this.remaining);t&&(n=t,this.capture(n))}t[ai(e)]=ai(n)}parseQueryParam(t){const e=function(t){const e=t.match(fi);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(di);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=ui(e),i=ui(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=hi(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Dr);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Yr([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class gi{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=mi(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=mi(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=yi(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return yi(t,this._root).map(t=>t.value)}}function mi(t,e){if(t===e.value)return e;for(const n of e.children){const e=mi(t,n);if(e)return e}return null}function yi(t,e){if(t===e.value)return[e];for(const n of e.children){const r=yi(t,n);if(r.length)return r.unshift(e),r}return[]}class vi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function bi(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class wi extends gi{constructor(t,e){super(t),this.snapshot=e,Si(this,t)}toString(){return this.snapshot.toString()}}function _i(t,e){const n=function(t,e){const n=new Ci([],{},{},"",{},Dr,e,null,t.root,-1,{});return new xi("",new vi(n,[]))}(t,e),r=new xn([new Zr("",{})]),i=new xn({}),o=new xn({}),s=new xn({}),a=new xn(""),u=new Oi(r,i,s,a,o,Dr,e,n.root);return u.snapshot=n.root,new wi(new vi(u,[]),n)}class Oi{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(bt.a)(t=>Lr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(bt.a)(t=>Lr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ei(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ci{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xi extends gi{constructor(t,e){super(e),this.url=t,Si(this,e)}toString(){return Ti(this._root)}}function Si(t,e){e.value._routerState=t,e.children.forEach(e=>Si(t,e))}function Ti(t){const e=t.children.length>0?` { ${t.children.map(Ti).join(", ")} } `:"";return`${t.value}${e}`}function Ii(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ur(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ur(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ur(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ur(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Ai(t,e){return Ur(t.params,e.params)&&function(t,e){return Qr(t,e)&&t.every((t,n)=>Ur(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Ai(t.parent,e.parent))}function ki(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return ki(t,e,r);return ki(t,e)})}(t,e,n);return new vi(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return ji(e,t),t}{const n=new Oi(new xn((r=e.value).url),new xn(r.params),new xn(r.queryParams),new xn(r.fragment),new xn(r.data),r.outlet,r.component,r),i=e.children.map(e=>ki(t,e));return new vi(n,i)}}var r}function ji(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)ji(t.children[n],e.children[n])}function Ni(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Pi(t){return"object"==typeof t&&null!=t&&t.outlets}function Di(t,e,n,r,i){let o={};return r&&zr(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Jr(n.root===t?e:Ri(n.root,t,e),o,i)}function Ri(t,e,n){const r={};return zr(t.children,(t,i)=>{r[i]=t===e?n:Ri(t,e,n)}),new Yr(t.segments,r)}class Li{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Ni(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Pi);if(r&&r!==Hr(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vi{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Mi(t,e,n){if(t||(t=new Yr([],{})),0===t.segments.length&&t.hasChildren())return Ui(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Pi(s))break;const a=""+s,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!zi(a,u,e))return o;r+=2}else{if(!zi(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Yr(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Yr(t.segments.slice(r.pathIndex),t.children),Ui(e,0,i)}return r.match&&0===i.length?new Yr(t.segments,{}):r.match&&!t.hasChildren()?Fi(t,e,n):r.match?Ui(t,0,i):Fi(t,e,n)}function Ui(t,e,n){if(0===n.length)return new Yr(t.segments,{});{const r=function(t){return Pi(t[0])?t[0].outlets:{[Dr]:t}}(n),i={};return zr(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Mi(t.children[r],e,n))}),zr(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Yr(t.segments,i)}}function Fi(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Pi(o)){const t=qi(o.outlets);return new Yr(r,t)}if(0===i&&Ni(n[0])){r.push(new Zr(t.segments[e].path,n[0])),i++;continue}const s=Pi(o)?o.outlets.primary:""+o,a=i<n.length-1?n[i+1]:null;s&&a&&Ni(a)?(r.push(new Zr(s,Hi(a))),i+=2):(r.push(new Zr(s,{})),i++)}return new Yr(r,{})}function qi(t){const e={};return zr(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Fi(new Yr([],{}),0,t))}),e}function Hi(t){const e={};return zr(t,(t,n)=>e[n]=""+t),e}function zi(t,e,n){return t==n.path&&Ur(e,n.parameters)}class Bi{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Ii(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=bi(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),zr(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=bi(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=bi(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Nr(t.value.snapshot))}),t.children.length&&this.forwardEvent(new kr(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Ii(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Ki(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Ki(t){Ii(t.value),t.children.forEach(Ki)}class Gi{constructor(t,e){this.routes=t,this.module=e}}function $i(t){return"function"==typeof t}function Wi(t){return t instanceof Jr}const Ji=Symbol("INITIAL_VALUE");function Yi(){return qn(t=>function(...t){let e=void 0,n=void 0;return Object(Sn.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(vt.a)(t[0])&&(t=t[0]),Object(jn.a)(t,n).lift(new Pn(e))}(t.map(t=>t.pipe(Kn(1),Wn(Ji)))).pipe(Jn((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Ji)return t;if(r===Ji&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Wi(r))return r}return t},t)},Ji),qe(t=>t!==Ji),Object(bt.a)(t=>Wi(t)?t:!0===t),Kn(1)))}let Zi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:function(){return[Ko]},encapsulation:2}),t})();function Qi(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Xi(r,to(e,r))}}function Xi(t,e){t.children&&Qi(t.children,e)}function to(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function eo(t){const e=t.children&&t.children.map(eo),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Dr&&(n.component=Zi),n}function no(t){return t.outlet||Dr}function ro(t,e){const n=t.filter(t=>no(t)===e);return n.push(...t.filter(t=>no(t)!==e)),n}const io={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function oo(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},io):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Mr)(n,t,e);if(!i)return Object.assign({},io);const o={};zr(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function so(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>ao(t,e,n)&&no(n)!==Dr)}(t,n,r)){const i=new Yr(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&no(o)!==Dr){const n=new Yr([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[no(o)]=n}return i}(t,e,r,new Yr(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>ao(t,e,n))}(t,n,r)){const o=new Yr(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(ao(t,n,a)&&!i[no(a)]){const n=new Yr([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[no(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Yr(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function ao(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function uo(t,e,n,r){return!!(no(t)===r||r!==Dr&&ao(e,n,t))&&("**"===t.path||oo(e,t,n).matched)}function co(t,e,n){return 0===e.length&&!t.children[n]}class lo{constructor(t){this.segmentGroup=t||null}}class ho{constructor(t){this.urlTree=t}}function fo(t){return new yt.a(e=>e.error(new lo(t)))}function po(t){return new yt.a(e=>e.error(new ho(t)))}function go(t){return new yt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class mo{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){const t=so(this.urlTree.root,[],[],this.config).segmentGroup,e=new Yr(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Dr).pipe(Object(bt.a)(t=>this.createUrlTree(yo(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Qn(t=>{if(t instanceof ho)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof lo)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Dr).pipe(Object(bt.a)(e=>this.createUrlTree(yo(e),t.queryParams,t.fragment))).pipe(Qn(t=>{if(t instanceof lo)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Yr([],{[Dr]:t}):t;return new Jr(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(bt.a)(t=>new Yr([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(_t.a)(r).pipe(Ue(r=>{const i=n.children[r],o=ro(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(bt.a)(t=>({segment:t,outlet:r})))}),Jn((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?qe((e,n)=>t(e,n,r)):hr.a,er(1),n?ur(e):ir(()=>new Rn))}())}expandSegment(t,e,n,r,i,o){return Object(_t.a)(n).pipe(Ue(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Qn(t=>{if(t instanceof lo)return Object(Ve.a)(null);throw t}))),fr(t=>!!t),Qn((t,n)=>{if(t instanceof Rn||"EmptyError"===t.name){if(co(e,r,i))return Object(Ve.a)(new Yr([],{}));throw new lo(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return uo(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):fo(e):fo(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?po(i):this.lineralizeSegments(n,i).pipe(Object(Me.a)(n=>{const i=new Yr(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=oo(e,r,i);if(!s)return fo(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?po(l):this.lineralizeSegments(r,l).pipe(Object(Me.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(bt.a)(t=>(n._loadedConfig=t,new Yr(r,{})))):Object(Ve.a)(new Yr(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=oo(e,n,r);if(!o)return fo(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(Me.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=so(e,s,u,o),l=new Yr(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(bt.a)(t=>new Yr(s,t)));if(0===o.length&&0===c.length)return Object(Ve.a)(new Yr(s,{}));const h=no(n)===i;return this.expandSegment(r,l,o,c,h?Dr:i,!0).pipe(Object(bt.a)(t=>new Yr(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Ve.a)(new Gi(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Ve.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Me.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(bt.a)(t=>(e._loadedConfig=t,t))):function(t){return new yt.a(e=>e.error(Vr(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Ve.a)(new Gi([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Ve.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&$i(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!$i(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Br(o)});return Object(Ve.a)(i).pipe(Yi(),Object(dr.a)(t=>{if(!Wi(t))return;const e=Vr(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(bt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Ve.a)(n);if(r.numberOfChildren>1||!r.children.primary)return go(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Jr(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return zr(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return zr(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Yr(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function yo(t){const e={};for(const n of Object.keys(t.children)){const r=yo(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Yr(t.segments.concat(e.segments),e.children)}return t}(new Yr(t.segments,e))}class vo{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class bo{constructor(t,e){this.component=t,this.route=e}}function wo(t,e,n){const r=t._root;return Oo(r,e?e._root:null,n,[r.value])}function _o(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Oo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=bi(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Qr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Qr(t.url,e.url)||!Ur(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ai(t,e)||!Ur(t.queryParams,e.queryParams);case"paramsChange":default:return!Ai(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new vo(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Oo(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new bo(a.outlet.component,s))}else s&&Eo(e,a,i),i.canActivateChecks.push(new vo(r)),Oo(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),zr(o,(t,e)=>Eo(t,n.getContext(e),i)),i}function Eo(t,e,n){const r=bi(t),i=t.value;zr(r,(t,r)=>{Eo(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new bo(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Co{}function xo(t){return new yt.a(e=>e.error(t))}class So{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=so(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Dr);if(null===e)return null;const n=new Ci([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Dr,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new vi(n,e),i=new xi(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Ei(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=ro(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!To(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===Dr?-1:e.value.outlet===Dr?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return co(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!uo(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Hr(n).parameters:{};i=new Ci(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ko(t),no(t),t.component,t,Io(e),Ao(e)+n.length,jo(t))}else{const r=oo(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Ci(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ko(t),no(t),t.component,t,Io(e),Ao(e)+o.length,jo(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=so(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new vi(i,t)]}if(0===a.length&&0===c.length)return[new vi(i,[])];const l=no(t)===r,h=this.processSegment(a,u,c,l?Dr:r);return null===h?null:[new vi(i,h)]}}function To(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Io(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ao(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ko(t){return t.data||{}}function jo(t){return t.resolve||{}}function No(t){return qn(e=>{const n=t(e);return n?Object(_t.a)(n).pipe(Object(bt.a)(()=>e)):Object(Ve.a)(e)})}class Po extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Do=new r.q("ROUTES");class Ro{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(bt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Gi(qr(r.injector.get(Do)).map(eo),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(_t.a)(this.loader.load(t)):Br(t()).pipe(Object(Me.a)(t=>t instanceof r.v?Object(Ve.a)(t):Object(_t.a)(this.compiler.compileModuleAsync(t))))}}class Lo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Vo,this.attachRef=null}}class Vo{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Lo,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Mo{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Uo(t){throw t}function Fo(t,e,n){return e.parse("/")}function qo(t,e){return Object(Ve.a)(null)}let Ho=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new En.a,this.errorHandler=Uo,this.malformedUriErrorHandler=Fo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:qo,afterPreactivation:qo},this.urlHandlingStrategy=new Mo,this.routeReuseStrategy=new Po,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z&&r.z.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Jr(new Yr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ro(s,a,t=>this.triggerEvent(new Tr(t)),t=>this.triggerEvent(new Ir(t))),this.routerState=_i(this.currentUrlTree,this.rootComponentType),this.transitions=new xn({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(qe(t=>0!==t.id),Object(bt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),qn(t=>{let n=!1,r=!1;return Object(Ve.a)(t).pipe(Object(dr.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),qn(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Ve.a)(t).pipe(qn(t=>{const n=this.transitions.getValue();return e.next(new vr(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Mn.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,qn(t=>function(t,e,n,r,i){return new mo(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(bt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(dr.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(Me.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new So(t,e,n,r,i,o).recognize();return null===s?xo(new Co):Object(Ve.a)(s)}catch(a_){return xo(a_)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(bt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(dr.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Or(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new vr(n,this.serializeUrl(r),i,o);e.next(a);const u=_i(r,this.rootComponentType).snapshot;return Object(Ve.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Mn.a}),No(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(dr.a)(t=>{const e=new Er(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(bt.a)(t=>Object.assign(Object.assign({},t),{guards:wo(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(Me.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Ve.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(_t.a)(t).pipe(Object(Me.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Ve.a)(!0);const s=o.map(o=>{const s=_o(o,e,i);let a;if(function(t){return t&&$i(t.canDeactivate)}(s))a=Br(s.canDeactivate(t,e,n,r));else{if(!$i(s))throw new Error("Invalid CanDeactivate guard");a=Br(s(t,e,n,r))}return a.pipe(fr())});return Object(Ve.a)(s).pipe(Yi())}(t.component,t.route,n,e,r)),fr(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Me.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(_t.a)(e).pipe(Ue(e=>Vn(function(t,e){return null!==t&&e&&e(new Ar(t)),Object(Ve.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new jr(t)),Object(Ve.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Un(()=>{const i=e.guards.map(i=>{const o=_o(i,e.node,n);let s;if(function(t){return t&&$i(t.canActivateChild)}(o))s=Br(o.canActivateChild(r,t));else{if(!$i(o))throw new Error("Invalid CanActivateChild guard");s=Br(o(r,t))}return s.pipe(fr())});return Object(Ve.a)(i).pipe(Yi())}));return Object(Ve.a)(i).pipe(Yi())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Ve.a)(!0);const i=r.map(r=>Un(()=>{const i=_o(r,e,n);let o;if(function(t){return t&&$i(t.canActivate)}(i))o=Br(i.canActivate(e,t));else{if(!$i(i))throw new Error("Invalid CanActivate guard");o=Br(i(e,t))}return o.pipe(fr())}));return Object(Ve.a)(i).pipe(Yi())}(t,e.route,n))),fr(t=>!0!==t,!0))}(r,o,t,e):Object(Ve.a)(n)),Object(bt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(dr.a)(t=>{if(Wi(t.guardsResult)){const e=Vr(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Cr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),qe(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new wr(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),No(t=>{if(t.guards.canActivateChecks.length)return Object(Ve.a)(t).pipe(Object(dr.a)(t=>{const e=new xr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),qn(t=>{let n=!1;return Object(Ve.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(Me.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Ve.a)(t);let o=0;return Object(_t.a)(n).pipe(Ue(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Ve.a)({});const o={};return Object(_t.a)(i).pipe(Object(Me.a)(i=>function(t,e,n,r){const i=_o(t,e,r);return Br(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(dr.a)(t=>{o[i]=t}))),er(1),Object(Me.a)(()=>Object.keys(o).length===i.length?Object(Ve.a)(o):Mn.a))}(t._resolve,t,e,r).pipe(Object(bt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Ei(t,n).resolve),null)))}(t.route,e,r,i)),Object(dr.a)(()=>o++),er(1),Object(Me.a)(e=>o===n.length?Object(Ve.a)(t):Mn.a))})),Object(dr.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new wr(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(dr.a)(t=>{const e=new Sr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),No(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(bt.a)(t=>{const e=function(t,e,n){const r=ki(t,e._root,n?n._root:void 0);return new wi(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(dr.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(bt.a)(t=>(new Bi(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(dr.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new wr(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new gr(i))),Qn(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Wi(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new wr(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new _r(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(If){t.reject(If)}}var i;return Mn.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Qi(t),this.config=t.map(eo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Di(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Li(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return zr(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Li(n,e,r)}(n);if(o.toRoot())return Di(e.root,new Yr([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Vi(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Vi(t,t===e.root,0)}const r=Ni(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Vi(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Ui(s.segmentGroup,s.index,o.commands):Mi(s.segmentGroup,s.index,o.commands);return Di(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Wi(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(a_){e=this.malformedUriErrorHandler(a_,this.urlSerializer,t)}return e}isActive(t,e){if(Wi(t))return Kr(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Kr(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new br(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.M),r.Pb(Xr),r.Pb(Vo),r.Pb(O),r.Pb(r.r),r.Pb(r.w),r.Pb(r.i),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),zo=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new En.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Bo(this.skipLocationChange),replaceUrl:Bo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Bo(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Ho),r.Ib(Oi),r.Qb("tabindex"),r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Sb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function Bo(t){return""===t||!!t}let Ko=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Dr,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Go(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Vo),r.Ib(r.P),r.Ib(r.j),r.Qb("name"),r.Ib(r.h))},t.\u0275dir=r.Db({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Go{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Oi?this.route:t===Vo?this.childContexts:this.parent.get(t,e)}}class $o{}class Wo{preload(t,e){return Object(Ve.a)(null)}}let Jo=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Ro(e,n,e=>t.triggerEvent(new Tr(e)),e=>t.triggerEvent(new Ir(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(qe(t=>t instanceof br),Ue(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(_t.a)(n).pipe(Object(Ln.a)(),Object(bt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Me.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Ho),r.Pb(r.w),r.Pb(r.i),r.Pb(r.r),r.Pb($o))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Yo=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof vr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof br&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Pr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Pr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Ho),r.Pb(U),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Zo=new r.q("ROUTER_CONFIGURATION"),Qo=new r.q("ROUTER_FORROOT_GUARD"),Xo=[O,{provide:Xr,useClass:ti},{provide:Ho,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new Ho(null,t,e,n,r,i,o,qr(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Xr,Vo,O,r.r,r.w,r.i,Do,Zo,[class{},new r.A],[class{},new r.A]]},Vo,{provide:Oi,useFactory:function(t){return t.routerState.root},deps:[Ho]},{provide:r.w,useClass:r.J},Jo,Wo,class{preload(t,e){return e().pipe(Qn(()=>Object(Ve.a)(null)))}},{provide:Zo,useValue:{enableTracing:!1}}];function ts(){return new r.y("Router",Ho)}let es=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Xo,os(e),{provide:Qo,useFactory:is,deps:[[Ho,new r.A,new r.I]]},{provide:Zo,useValue:n||{}},{provide:y,useFactory:rs,deps:[u,[new r.p(b),new r.A],Zo]},{provide:Yo,useFactory:ns,deps:[Ho,U,Zo]},{provide:$o,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Wo},{provide:r.y,multi:!0,useFactory:ts},[ss,{provide:r.d,multi:!0,useFactory:as,deps:[ss]},{provide:cs,useFactory:us,deps:[ss]},{provide:r.b,multi:!0,useExisting:cs}]]}}static forChild(e){return{ngModule:t,providers:[os(e)]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(Qo,8),r.Pb(Ho,8))}}),t})();function ns(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Yo(t,e,n)}function rs(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function is(t){return"guarded"}function os(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Do,multi:!0,useValue:t}]}let ss=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new En.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Ho),r=this.injector.get(Zo);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Ve.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Zo),n=this.injector.get(Jo),i=this.injector.get(Yo),o=this.injector.get(Ho),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function as(t){return t.appInitializer.bind(t)}function us(t){return t.bootstrapListener.bind(t)}const cs=new r.q("Router Initializer");var ls=n("PSD3"),hs=n.n(ls),fs=n("Jgta"),ds=n("D0XW"),ps=n("WMd4");class gs{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new ms(t,this.delay,this.scheduler))}}class ms extends Fe.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(ms.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new ys(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(ps.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(ps.a.createComplete()),this.unsubscribe()}}class ys{constructor(t,e){this.time=t,this.notification=e}}var vs=n("VRyK"),bs=n("pxpQ"),ws=n("qgXg"),_s=n("Ylt2");class Os extends En.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Es(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Cn.a;if(this.isStopped||this.hasError?o=pr.a.EMPTY:(this.observers.push(t),o=new _s.a(this,t)),r&&t.add(t=new bs.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||ws.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Es{constructor(t,e){this.time=t,this.value=e}}function Cs(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new Os(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function xs(t,e){return e?qn(()=>t,e):qn(()=>t)}var Ss=n("tf+s"),Ts=n("spgP");const Is=new r.q("angularfire2.auth.use-emulator"),As=new r.q("angularfire2.auth.settings"),ks=new r.q("angularfire2.auth.tenant-id"),js=new r.q("angularfire2.auth.langugage-code"),Ns=new r.q("angularfire2.auth.use-device-language"),Ps=new r.q("angularfire.auth.persistence");let Ds=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new Ts.d(i),f=Object(Ts.h)(h),d=new En.a,p=Object(Ve.a)(void 0).pipe(Object(bs.b)(h.outsideAngular),qn(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(bt.a)(()=>Object(Ts.g)(t,i,e)),Object(bt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(Ts.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Cs({bufferSize:1,refCount:!1}));if(M(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Ve.a)(null);else{p.pipe(fr()).subscribe();const t=p.pipe(qn(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Cs({bufferSize:1,refCount:!1})),e=t=>new yt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(qn(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(qn(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(xs(n),Object(Ss.a)(h.outsideAngular),Object(bs.b)(h.insideAngular)),this.user=t.pipe(xs(r),Object(Ss.a)(h.outsideAngular),Object(bs.b)(h.insideAngular)),this.idToken=this.user.pipe(qn(t=>t?Object(_t.a)(t.getIdToken()):Object(Ve.a)(null))),this.idTokenResult=this.user.pipe(qn(t=>t?Object(_t.a)(t.getIdTokenResult()):Object(Ve.a)(null))),this.credential=Object(vs.a)(t,d,this.authState.pipe(qe(t=>!t))).pipe(Object(bt.a)(t=>(null==t?void 0:t.user)?t:null),Object(Ss.a)(h.outsideAngular),Object(bs.b)(h.insideAngular))}return Object(Ts.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Ts.c),r.Pb(Ts.b,8),r.Pb(r.B),r.Pb(r.z),r.Pb(Is,8),r.Pb(As,8),r.Pb(ks,8),r.Pb(js,8),r.Pb(Ns,8),r.Pb(Ps,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(Ts.c),Object(r.Pb)(Ts.b,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(Is,8),Object(r.Pb)(As,8),Object(r.Pb)(ks,8),Object(r.Pb)(js,8),Object(r.Pb)(Ns,8),Object(r.Pb)(Ps,8))},token:t,providedIn:"any"}),t})();Object(Ts.e)(Ds,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let Rs=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Ds]}),t})(),Ls=(()=>{class t{constructor(t,e,n){this.http=t,this.auth=e,this.router=n,this.url="https://firecrud-ng-default-rtdb.firebaseio.com",this.usuario={},this.auth.authState.subscribe(t=>{t&&(this.usuario.nombre=t.displayName,this.usuario.uid=t.uid)})}addProduct(t){return this.http.post(this.url+"/products.json",t).pipe(Object(bt.a)(e=>(t.id=e.name,t)))}updateProduct(t){const e=Object.assign({},t);return delete e.id,this.http.put(`${this.url}/products/${t.id}.json`,e).pipe()}getOneProduct(t){return this.http.get(`${this.url}/products/${t}.json`)}deleteOneProduct(t){return this.http.delete(`${this.url}/products/${t}.json`)}getProducts(){return this.http.get(this.url+"/products.json").pipe(Object(bt.a)(this.createArray),function(t,e=ds.a){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new gs(r,e))}(0))}createArray(t){const e=[];return null===t?[]:(Object.keys(t).forEach(n=>{const r=t[n];r.id=n,e.push(r)}),e)}login(){this.auth.signInWithPopup(new fs.a.auth.GoogleAuthProvider),this.auth.authState.subscribe(t=>{if(!t)return;let e=t.uid,n=t.displayName;sessionStorage.setItem("uid",e),sessionStorage.setItem("uname",n),e&&this.router.navigate(["products"])})}logout(){this.usuario={},sessionStorage.removeItem("uid"),sessionStorage.removeItem("uname"),this.auth.signOut()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(an),r.Pb(Ds),r.Pb(Ho))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Vs(){return t=>t.lift(new Ms)}class Ms{call(t,e){return e.subscribe(new Us(t))}}class Us extends Fe.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class Fs{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new qs(t,this.compare,this.keySelector))}}class qs extends Fe.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Hs=n("zIRd"),zs=n("q/0M"),Bs=n("qOnz"),Ks=function(t,e){return(Ks=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Gs(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var $s,Ws="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Js=Js||{},Ys=Ws||self;function Zs(){}function Qs(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Xs(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ta="closure_uid_"+(1e9*Math.random()>>>0),ea=0;function na(t,e,n){return t.call.apply(t.bind,arguments)}function ra(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function ia(t,e,n){return(ia=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?na:ra).apply(null,arguments)}function oa(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function sa(){return Date.now()}function aa(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function ua(){this.j=this.j,this.i=this.i}ua.prototype.j=!1,ua.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,ta)&&t[ta]||(t[ta]=++ea)}(this)},ua.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ca=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},la=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function ha(t){return Array.prototype.concat.apply([],arguments)}function fa(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function da(t){return/^[\s\xa0]*$/.test(t)}var pa,ga=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ma(t,e){return-1!=t.indexOf(e)}function ya(t,e){return t<e?-1:t>e?1:0}t:{var va=Ys.navigator;if(va){var ba=va.userAgent;if(ba){pa=ba;break t}}pa=""}function wa(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function _a(t){var e={};for(var n in t)e[n]=t[n];return e}var Oa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ea(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Oa.length;o++)n=Oa[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ca(t){return Ca[" "](t),t}Ca[" "]=Zs;var xa,Sa,Ta=ma(pa,"Opera"),Ia=ma(pa,"Trident")||ma(pa,"MSIE"),Aa=ma(pa,"Edge"),ka=Aa||Ia,ja=ma(pa,"Gecko")&&!(ma(pa.toLowerCase(),"webkit")&&!ma(pa,"Edge"))&&!(ma(pa,"Trident")||ma(pa,"MSIE"))&&!ma(pa,"Edge"),Na=ma(pa.toLowerCase(),"webkit")&&!ma(pa,"Edge");function Pa(){var t=Ys.document;return t?t.documentMode:void 0}t:{var Da="",Ra=(Sa=pa,ja?/rv:([^\);]+)(\)|;)/.exec(Sa):Aa?/Edge\/([\d\.]+)/.exec(Sa):Ia?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Sa):Na?/WebKit\/(\S+)/.exec(Sa):Ta?/(?:Version)[ \/]?(\S+)/.exec(Sa):void 0);if(Ra&&(Da=Ra?Ra[1]:""),Ia){var La=Pa();if(null!=La&&La>parseFloat(Da)){xa=String(La);break t}}xa=Da}var Va={};function Ma(t){return function(t,e){var n=Va;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=ga(String(xa)).split("."),r=ga(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ya(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ya(0==s[2].length,0==a[2].length)||ya(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var Ua=Ys.document&&Ia&&(Pa()||parseInt(xa,10))||void 0,Fa=!Ia||9<=Number(Ua),qa=Ia&&!Ma("9"),Ha=function(){if(!Ys.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ys.addEventListener("test",Zs,e),Ys.removeEventListener("test",Zs,e)}catch(n){}return t}();function za(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Ba(t,e){if(za.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ja){t:{try{Ca(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ka[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}za.prototype.b=function(){this.defaultPrevented=!0},aa(Ba,za);var Ka={2:"touch",3:"pen",4:"mouse"};Ba.prototype.b=function(){Ba.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,qa)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Ga="closure_listenable_"+(1e6*Math.random()|0),$a=0;function Wa(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++$a,this.Y=this.Z=!1}function Ja(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Ya(t){this.src=t,this.a={},this.b=0}function Za(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=ca(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ja(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Qa(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Ya.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Qa(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Wa(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Xa="closure_lm_"+(1e6*Math.random()|0),tu={};function eu(t,e,n,r,i){if(r&&r.once)return ru(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)eu(t,e[o],n,r,i);return null}return n=hu(n),t&&t[Ga]?t.va(e,n,Xs(r)?!!r.capture:!!r,i):nu(t,e,n,!1,r,i)}function nu(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Xs(i)?!!i.capture:!!i;if(s&&!Fa)return null;var a=cu(t);if(a||(t[Xa]=a=new Ya(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=uu,e=Fa?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ha||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(su(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ru(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ru(t,e[o],n,r,i);return null}return n=hu(n),t&&t[Ga]?t.wa(e,n,Xs(r)?!!r.capture:!!r,i):nu(t,e,n,!0,r,i)}function iu(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)iu(t,e[o],n,r,i);else r=Xs(r)?!!r.capture:!!r,n=hu(n),t&&t[Ga]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Qa(o=t.a[e],n,r,i))&&(Ja(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=cu(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Qa(e,n,r,i)),(n=-1<t?e[t]:null)&&ou(n))}function ou(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Ga])Za(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(su(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=cu(e))?(Za(n,t),0==n.b&&(n.src=null,e[Xa]=null)):Ja(t)}}}function su(t){return t in tu?tu[t]:tu[t]="on"+t}function au(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ou(t),n.call(r,e)}function uu(t,e){if(t.Y)return!0;if(!Fa){if(!e)t:{e=["window","event"];for(var n=Ys,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return au(t,e=new Ba(e,this))}return au(t,new Ba(e,this))}function cu(t){return(t=t[Xa])instanceof Ya?t:null}var lu="__closure_events_fn_"+(1e9*Math.random()>>>0);function hu(t){return"function"==typeof t?t:(t[lu]||(t[lu]=function(e){return t.handleEvent(e)}),t[lu])}function fu(){ua.call(this),this.c=new Ya(this),this.J=this,this.C=null}function du(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new za(e,t);else if(e instanceof za)e.target=e.target||t;else{var i=e;Ea(e=new za(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=pu(s,r,!0,e)&&i}if(i=pu(s=e.a=t,r,!0,e)&&i,i=pu(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=pu(s=e.a=n[o],r,!1,e)&&i}function pu(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Za(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}aa(fu,ua),fu.prototype[Ga]=!0,($s=fu.prototype).addEventListener=function(t,e,n,r){eu(this,t,e,n,r)},$s.removeEventListener=function(t,e,n,r){iu(this,t,e,n,r)},$s.G=function(){if(fu.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ja(n[r]);delete e.a[t],e.b--}}this.C=null},$s.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},$s.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var gu=Ys.JSON.stringify;function mu(){this.b=this.a=null}var yu,vu=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new wu},function(t){t.reset()});function bu(){var t=Cu,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function wu(){this.next=this.b=this.a=null}function _u(t){Ys.setTimeout(function(){throw t},0)}function Ou(t,e){yu||function(){var t=Ys.Promise.resolve(void 0);yu=function(){t.then(xu)}}(),Eu||(yu(),Eu=!0),Cu.add(t,e)}mu.prototype.add=function(t,e){var n=vu.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},wu.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},wu.prototype.reset=function(){this.next=this.b=this.a=null};var Eu=!1,Cu=new mu;function xu(){for(var t;t=bu();){try{t.a.call(t.b)}catch(n){_u(n)}var e=vu;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Eu=!1}function Su(t,e){fu.call(this),this.b=t||1,this.a=e||Ys,this.f=ia(this.Za,this),this.g=sa()}function Tu(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Iu(t,e,n){if("function"==typeof t)n&&(t=ia(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ia(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ys.setTimeout(t,e||0)}function Au(t){t.a=Iu(function(){t.a=null,t.c&&(t.c=!1,Au(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}aa(Su,fu),($s=Su.prototype).aa=!1,$s.M=null,$s.Za=function(){if(this.aa){var t=sa()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),du(this,"tick"),this.aa&&(Tu(this),this.start()))}},$s.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=sa())},$s.G=function(){Su.X.G.call(this),Tu(this),delete this.a};var ku=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Ks(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Au(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Ys.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(ua);function ju(t){ua.call(this),this.b=t,this.a={}}aa(ju,ua);var Nu=[];function Pu(t,e,n,r){Array.isArray(n)||(n&&(Nu[0]=n.toString()),n=Nu);for(var i=0;i<n.length;i++){var o=eu(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Du(t){wa(t.a,function(t,e){this.a.hasOwnProperty(e)&&ou(t)},t),t.a={}}function Ru(){this.a=!0}function Lu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return gu(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}ju.prototype.G=function(){ju.X.G.call(this),Du(this)},ju.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ru.prototype.info=function(){};var Vu={},Mu=null;function Uu(){return Mu=Mu||new fu}function Fu(t){za.call(this,Vu.Fa,t)}function qu(t){var e=Uu();du(e,new Fu(e,t))}function Hu(t,e){za.call(this,Vu.STAT_EVENT,t),this.stat=e}function zu(t){var e=Uu();du(e,new Hu(e,t))}function Bu(t){za.call(this,Vu.Ga,t)}function Ku(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ys.setTimeout(function(){t()},e)}Vu.Fa="serverreachability",aa(Fu,za),Vu.STAT_EVENT="statevent",aa(Hu,za),Vu.Ga="timingevent",aa(Bu,za);var Gu={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},$u={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Wu(){}function Ju(){}Wu.prototype.a=null;var Yu,Zu={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Qu(){za.call(this,"d")}function Xu(){za.call(this,"c")}function tc(){}function ec(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ju(this),this.P=nc,this.R=new Su(t=ka?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}aa(Qu,za),aa(Xu,za),aa(tc,Wu),Yu=new tc;var nc=45e3,rc={},ic={};function oc(t,e,n){t.H=1,t.i=Tc(_c(e)),t.j=n,t.I=!0,sc(t,null)}function sc(t,e){t.u=sa(),cc(t),t.l=_c(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Fc(n.b,"t",r),t.D=0,t.a=Dl(t.g,t.g.C?e:null),0<t.O&&(t.F=new ku(ia(t.Ca,t,t.a),t.O)),Pu(t.J,t.a,"readystatechange",t.Xa),e=t.B?_a(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),qu(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function ac(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=uc(t,n);if(i==ic){4==e&&(t.h=4,zu(14),r=!1),Lu(t.c,t.f,null,"[Incomplete Response]");break}if(i==rc){t.h=4,zu(15),Lu(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Lu(t.c,t.f,i,null),pc(t,i)}4==e&&0==n.length&&(t.h=1,zu(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Sl(e),e.F=!0,zu(11))):(Lu(t.c,t.f,n,"[Invalid Chunked Response]"),dc(t),fc(t))}function uc(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ic:(n=Number(e.substring(n,r)),isNaN(n)?rc:(r+=1)+n>e.length?ic:(e=e.substr(r,n),t.D=r+n,e))}function cc(t){t.T=sa()+t.P,lc(t,t.P)}function lc(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ku(ia(t.Va,t),e)}function hc(t){t.o&&(Ys.clearTimeout(t.o),t.o=null)}function fc(t){0==t.g.v||t.A||Al(t.g,t)}function dc(t){hc(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Tu(t.R),Du(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function pc(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||$c(n.b,t)))if(n.I=t.N,!t.C&&$c(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(bw){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Il(n),yl(n)}xl(n),zu(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Ku(ia(n.Sa,n),6e3));if(1>=Gc(n.b)&&n.ea){try{n.ea()}catch(bw){}n.ea=void 0}}else jl(n,11)}else if((t.C||n.a==t)&&Il(n),!da(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(ma(l,"spdy")||ma(l,"quic")||ma(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Wc(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Sc(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=sa()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Pl(u,u.C?u.ga:null,u.fa),d.C){Jc(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(hc(p),cc(p)),u.a=d}else Cl(u);0<n.g.length&&wl(n)}else"stop"!=i[0]&&"close"!=i[0]||jl(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?jl(n,7):ml(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);qu(4)}catch(bw){}}function gc(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Qs(t)||"string"==typeof t)la(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Qs(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Qs(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function mc(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof mc)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function yc(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];vc(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)vc(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function vc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}($s=ec.prototype).setTimeout=function(t){this.P=t},$s.Xa=function(t){t=t.target;var e=this.F;e&&3==fl(t)?e.f():this.Ca(t)},$s.Ca=function(t){try{if(t==this.a)t:{var e=fl(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!ka&&!this.a.$())){this.A||4!=e||7==n||qu(8==n||0>=r?3:2),hc(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!da(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,zu(12),dc(this),fc(this);break t}Lu(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,pc(this,u)}this.I?(ac(this,e,o),ka&&this.b&&3==e&&(Pu(this.J,this.R,"tick",this.Wa),this.R.start())):(Lu(this.c,this.f,o,null),pc(this,o)),4==e&&dc(this),this.b&&!this.A&&(4==e?Al(this.g,this):(this.b=!1,cc(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,zu(12)):(this.h=0,zu(13)),dc(this),fc(this)}}}catch(c){}},$s.Wa=function(){if(this.a){var t=fl(this.a),e=this.a.$();this.D<e.length&&(hc(this),ac(this,t,e),this.b&&4!=t&&cc(this))}},$s.cancel=function(){this.A=!0,dc(this)},$s.Va=function(){this.o=null;var t=sa();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(qu(3),zu(17)),dc(this),this.h=2,fc(this)):lc(this,this.T-t)},($s=mc.prototype).K=function(){yc(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},$s.L=function(){return yc(this),this.a.concat()},$s.get=function(t,e){return vc(this.b,t)?this.b[t]:e},$s.set=function(t,e){vc(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},$s.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var bc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function wc(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof wc){this.a=void 0!==e?e:t.a,Oc(this,t.f),this.j=t.j,Ec(this,t.c),Cc(this,t.h),this.g=t.g,e=t.b;var n=new Lc;n.c=e.c,e.a&&(n.a=new mc(e.a),n.b=e.b),xc(this,n),this.i=t.i}else t&&(n=String(t).match(bc))?(this.a=!!e,Oc(this,n[1]||"",!0),this.j=Ic(n[2]||""),Ec(this,n[3]||"",!0),Cc(this,n[4]),this.g=Ic(n[5]||"",!0),xc(this,n[6]||"",!0),this.i=Ic(n[7]||"")):(this.a=!!e,this.b=new Lc(null,this.a))}function _c(t){return new wc(t)}function Oc(t,e,n){t.f=n?Ic(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ec(t,e,n){t.c=n?Ic(e,!0):e}function Cc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function xc(t,e,n){e instanceof Lc?(t.b=e,function(t,e){e&&!t.f&&(Vc(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Mc(this,e),Fc(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Ac(e,Dc)),t.b=new Lc(e,t.a))}function Sc(t,e,n){t.b.set(e,n)}function Tc(t){return Sc(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^sa()).toString(36)),t}function Ic(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ac(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,kc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function kc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}wc.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ac(e,jc,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ac(e,jc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ac(n,"/"==n.charAt(0)?Pc:Nc,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ac(n,Rc)),t.join("")};var jc=/[#\/\?@]/g,Nc=/[#\?:]/g,Pc=/[#\?]/g,Dc=/[#\?@]/g,Rc=/#/g;function Lc(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Vc(t){t.a||(t.a=new mc,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Mc(t,e){Vc(t),e=qc(t,e),vc(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,vc((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&yc(t)))}function Uc(t,e){return Vc(t),e=qc(t,e),vc(t.a.b,e)}function Fc(t,e,n){Mc(t,e),0<n.length&&(t.c=null,t.a.set(qc(t,e),fa(n)),t.b+=n.length)}function qc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}($s=Lc.prototype).add=function(t,e){Vc(this),this.c=null,t=qc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},$s.forEach=function(t,e){Vc(this),this.a.forEach(function(n,r){la(n,function(n){t.call(e,n,r,this)},this)},this)},$s.L=function(){Vc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},$s.K=function(t){Vc(this);var e=[];if("string"==typeof t)Uc(this,t)&&(e=ha(e,this.a.get(qc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=ha(e,t[n])}return e},$s.set=function(t,e){return Vc(this),this.c=null,Uc(this,t=qc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},$s.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},$s.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Hc=function(){return function(t,e){this.b=t,this.a=e}}();function zc(t){this.g=t||Bc,t=Ys.PerformanceNavigationTiming?0<(t=Ys.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ys.ia&&Ys.ia.ya&&Ys.ia.ya()&&Ys.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Bc=10;function Kc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Gc(t){return t.b?1:t.a?t.a.size:0}function $c(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Wc(t,e){t.a?t.a.add(e):t.b=e}function Jc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Yc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Gs(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return fa(t.c)}function Zc(){}function Qc(){this.a=new Zc}function Xc(t,e,n){var r=n||"";try{gc(t,function(t,n){var i=t;Xs(t)&&(i=gu(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(a_){throw e.push(r+"type="+encodeURIComponent("_badmap")),a_}}function tl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}zc.prototype.cancel=function(){var t,e;if(this.c=Yc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Gs(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Zc.prototype.stringify=function(t){return Ys.JSON.stringify(t,void 0)},Zc.prototype.parse=function(t){return Ys.JSON.parse(t,void 0)};var el=Ys.JSON.parse;function nl(t){fu.call(this),this.headers=new mc,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=rl,this.D=this.F=!1}aa(nl,fu);var rl="",il=/^https?$/i,ol=["POST","PUT"];function sl(t){return"content-type"==t.toLowerCase()}function al(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,ul(t),ll(t)}function ul(t){t.u||(t.u=!0,du(t,"complete"),du(t,"error"))}function cl(t){if(t.b&&void 0!==Js&&(!t.s[1]||4!=fl(t)||2!=t.W()))if(t.l&&4==fl(t))Iu(t.za,0,t);else if(du(t,"readystatechange"),4==fl(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(bc)[1]||null;if(!o&&Ys.self&&Ys.self.location){var s=Ys.self.location.protocol;o=s.substr(0,s.length-1)}i=!il.test(o?o.toLowerCase():"")}e=i}if(e)du(t,"complete"),du(t,"success");else{t.h=6;try{var a=2<fl(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",ul(t)}}finally{ll(t)}}}function ll(t,e){if(t.a){hl(t);var n=t.a,r=t.s[0]?Zs:null;t.a=null,t.s=null,e||du(t,"ready");try{n.onreadystatechange=r}catch(a_){}}}function hl(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Ys.clearTimeout(t.m),t.m=null)}function fl(t){return t.a?t.a.readyState:0}function dl(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return wa(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Sc(t,e,n))}function pl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gl(t){this.pa=0,this.g=[],this.c=new Ru,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=pl("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=pl("baseRetryDelayMs",5e3,t),this.Ra=pl("retryDelaySeedMs",1e4,t),this.Ma=pl("forwardChannelMaxRetries",2,t),this.ma=pl("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new zc(t&&t.concurrentRequestLimit),this.ka=new Qc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function ml(t){if(vl(t),3==t.v){var e=t.R++,n=_c(t.B);Sc(n,"SID",t.J),Sc(n,"RID",e),Sc(n,"TYPE","terminate"),Ol(t,n),(e=new ec(t,t.c,e,void 0)).H=2,e.i=Tc(_c(n)),n=!1,Ys.navigator&&Ys.navigator.sendBeacon&&(n=Ys.navigator.sendBeacon(e.i.toString(),"")),!n&&Ys.Image&&((new Image).src=e.i,n=!0),n||(e.a=Dl(e.g,null),e.a.ba(e.i)),e.u=sa(),cc(e)}Nl(t)}function yl(t){t.a&&(Sl(t),t.a.cancel(),t.a=null)}function vl(t){yl(t),t.j&&(Ys.clearTimeout(t.j),t.j=null),Il(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Ys.clearTimeout(t.h),t.h=null)}function bl(t,e){t.g.push(new Hc(t.Oa++,e)),3==t.v&&wl(t)}function wl(t){Kc(t.b)||t.h||(t.h=!0,Ou(t.Ba,t),t.u=0)}function _l(t,e){var n;n=e?e.f:t.R++;var r=_c(t.B);Sc(r,"SID",t.J),Sc(r,"RID",n),Sc(r,"AID",t.P),Ol(t,r),t.i&&t.l&&dl(r,t.i,t.l),n=new ec(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=El(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Wc(t.b,n),oc(n,r,e)}function Ol(t,e){t.f&&gc({},function(t,n){Sc(e,n,t)})}function El(t,e,n){n=Math.min(t.g.length,n);var r=t.f?ia(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Xc(l,s,"req"+c+"_")}catch(mh){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Cl(t){t.a||t.j||(t.T=1,Ou(t.Aa,t),t.o=0)}function xl(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Ku(ia(t.Aa,t),kl(t,t.o)),t.o++,0))}function Sl(t){null!=t.s&&(Ys.clearTimeout(t.s),t.s=null)}function Tl(t){t.a=new ec(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=_c(t.la);Sc(e,"RID","rpc"),Sc(e,"SID",t.J),Sc(e,"CI",t.H?"0":"1"),Sc(e,"AID",t.P),Ol(t,e),Sc(e,"TYPE","xmlhttp"),t.i&&t.l&&dl(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Tc(_c(e)),n.j=null,n.I=!0,sc(n,t)}function Il(t){null!=t.m&&(Ys.clearTimeout(t.m),t.m=null)}function Al(t,e){var n=null;if(t.a==e){Il(t),Sl(t),t.a=null;var r=2}else{if(!$c(t.b,e))return;n=e.s,Jc(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=sa()-e.u;var i=t.u;du(r=Uu(),new Bu(r,n,e,i)),wl(t)}else Cl(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Gc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Ku(ia(t.Ba,t,e),kl(t,t.u)),t.u++,0)))}(t,e)||2==r&&xl(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:jl(t,5);break;case 4:jl(t,10);break;case 3:jl(t,6);break;default:jl(t,2)}}function kl(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function jl(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=ia(t.Ya,t);n||(n=new wc("//www.google.com/images/cleardot.gif"),Ys.location&&"http"==Ys.location.protocol||Oc(n,"https"),Tc(n)),function(t,e){var n=new Ru;if(Ys.Image){var r=new Image;r.onload=oa(tl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=oa(tl,n,r,"TestLoadImage: error",!1,e),r.onabort=oa(tl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=oa(tl,n,r,"TestLoadImage: timeout",!1,e),Ys.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else zu(2);t.v=0,t.f&&t.f.ra(e),Nl(t),vl(t)}function Nl(t){t.v=0,t.I=-1,t.f&&(0==Yc(t.b).length&&0==t.g.length||(t.b.c.length=0,fa(t.g),t.g.length=0),t.f.qa())}function Pl(t,e,n){var r=function(t){return t instanceof wc?_c(t):new wc(t,void 0)}(n);if(""!=r.c)e&&Ec(r,e+"."+r.c),Cc(r,r.h);else{var i=Ys.location;r=function(t,e,n,r){var i=new wc(null,void 0);return t&&Oc(i,t),e&&Ec(i,e),n&&Cc(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&wa(t.V,function(t,e){Sc(r,e,t)}),n=t.na,(e=t.A)&&n&&Sc(r,e,n),Sc(r,"VER",t.ha),Ol(t,r),r}function Dl(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new nl(t.Na)).F=t.C,e}function Rl(){}function Ll(){if(Ia&&!(10<=Number(Ua)))throw Error("Environmental error: no available transport.")}function Vl(t,e){fu.call(this),this.a=new gl(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!da(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!da(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Fl(this)}function Ml(t){Qu.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Ul(){Xu.call(this),this.status=1}function Fl(t){this.a=t}($s=nl.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Yu),this.a.onreadystatechange=ia(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void al(this,o)}t=n||"";var i=new mc(this.headers);r&&gc(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=sl,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Ys.FormData&&t instanceof Ys.FormData,!(0<=ca(ol,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{hl(this),0<this.o&&((this.D=function(t){return Ia&&Ma(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=ia(this.xa,this)):this.m=Iu(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){al(this,o)}},$s.xa=function(){void 0!==Js&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,du(this,"timeout"),this.abort(8))},$s.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,du(this,"complete"),du(this,"abort"),ll(this))},$s.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),ll(this,!0)),nl.X.G.call(this)},$s.za=function(){this.j||(this.A||this.l||this.g?cl(this):this.Ua())},$s.Ua=function(){cl(this)},$s.W=function(){try{return 2<fl(this)?this.a.status:-1}catch(Sa){return-1}},$s.$=function(){try{return this.a?this.a.responseText:""}catch(Sa){return""}},$s.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),el(e)}},$s.ua=function(){return this.h},$s.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},($s=gl.prototype).ha=8,$s.v=1,$s.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ec(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Ea(r=_a(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=El(this,n,e),Sc(i=_c(this.B),"RID",t),Sc(i,"CVER",22),this.A&&Sc(i,"X-HTTP-Session-Id",this.A),Ol(this,i),this.i&&r&&dl(i,this.i,r),Wc(this.b,n),this.Ia&&Sc(i,"TYPE","init"),this.da?(Sc(i,"$req",e),Sc(i,"SID","null"),n.U=!0,oc(n,i,null)):oc(n,i,e),this.v=2}}else 3==this.v&&(t?_l(this,t):0==this.g.length||Kc(this.b)||_l(this))},$s.Aa=function(){if(this.j=null,Tl(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ku(ia(this.Ta,this),t)}},$s.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,zu(10),yl(this),Tl(this))},$s.Sa=function(){null!=this.m&&(this.m=null,yl(this),xl(this),zu(19))},$s.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),zu(2)):(this.c.info("Failed to ping google.com"),zu(1))},($s=Rl.prototype).ta=function(){},$s.sa=function(){},$s.ra=function(){},$s.qa=function(){},$s.Ja=function(){},Ll.prototype.a=function(t,e){return new Vl(t,e)},aa(Vl,fu),Vl.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;zu(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Pl(t,null,t.fa),wl(t)},Vl.prototype.close=function(){ml(this.a)},Vl.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,bl(this.a,e)}else this.l?((e={}).__data__=gu(t),bl(this.a,e)):bl(this.a,t)},Vl.prototype.G=function(){this.a.f=null,delete this.f,ml(this.a),delete this.a,Vl.X.G.call(this)},aa(Ml,Qu),aa(Ul,Xu),aa(Fl,Rl),Fl.prototype.ta=function(){du(this.a,"a")},Fl.prototype.sa=function(t){du(this.a,new Ml(t))},Fl.prototype.ra=function(t){du(this.a,new Ul(t))},Fl.prototype.qa=function(){du(this.a,"b")},Ll.prototype.createWebChannel=Ll.prototype.a,Vl.prototype.send=Vl.prototype.h,Vl.prototype.open=Vl.prototype.g,Vl.prototype.close=Vl.prototype.close,Gu.NO_ERROR=0,Gu.TIMEOUT=8,Gu.HTTP_ERROR=6,$u.COMPLETE="complete",Ju.EventType=Zu,Zu.OPEN="a",Zu.CLOSE="b",Zu.ERROR="c",Zu.MESSAGE="d",fu.prototype.listen=fu.prototype.va,nl.prototype.listenOnce=nl.prototype.wa,nl.prototype.getLastError=nl.prototype.Qa,nl.prototype.getLastErrorCode=nl.prototype.ua,nl.prototype.getStatus=nl.prototype.W,nl.prototype.getResponseJson=nl.prototype.Pa,nl.prototype.getResponseText=nl.prototype.$,nl.prototype.send=nl.prototype.ba;var ql=Gu,Hl=$u,zl=Vu,Bl=Ju,Kl=nl,Gl=n("30Go"),$l=new zs.b("@firebase/firestore");function Wl(){return $l.logLevel}function Jl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if($l.logLevel<=zs.a.DEBUG){var r=e.map(Ql);$l.debug.apply($l,Object(Gl.g)(["Firestore (8.2.4): "+t],r))}}function Yl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if($l.logLevel<=zs.a.ERROR){var r=e.map(Ql);$l.error.apply($l,Object(Gl.g)(["Firestore (8.2.4): "+t],r))}}function Zl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if($l.logLevel<=zs.a.WARN){var r=e.map(Ql);$l.warn.apply($l,Object(Gl.g)(["Firestore (8.2.4): "+t],r))}}function Ql(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(a_){return t}}function Xl(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.4) INTERNAL ASSERTION FAILED: "+t;throw Yl(e),new Error(e)}function th(t,e){t||Xl()}function eh(t,e){return t}function nh(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var rh=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=nh(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ih(t,e){return t<e?-1:t>e?1:0}function oh(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function sh(t){return t+"\0"}var ah=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return ih(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();ah.h=new ah("");var uh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ch=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Gl.c)(e,t),e}(Error),lh=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(ah.fromBase64String(e))}catch(e){throw new ch(uh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(ah.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),hh=function(t){this._=t};function fh(){if("undefined"==typeof Uint8Array)throw new ch(uh.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function dh(){if("undefined"==typeof atob)throw new ch(uh.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ph=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gl.c)(e,t),e.fromBase64String=function(t){return dh(),new e(lh.fromBase64String(t))},e.fromUint8Array=function(t){return fh(),new e(lh.fromUint8Array(t))},e.prototype.toBase64=function(){return dh(),this._.toBase64()},e.prototype.toUint8Array=function(){return fh(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(hh),gh=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},mh=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),yh=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();yh.UNAUTHENTICATED=new yh(null),yh.P=new yh("google-credentials-uid"),yh.g=new yh("first-party-uid");var vh=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},bh=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(yh.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),wh=function(){function t(t){var e=this;this.C=null,this.currentUser=yh.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then(function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.F!==e?(Jl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(th("string"==typeof n.accessToken),new vh(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return th(null===t||"string"==typeof t),new yh(t)},t}(),_h=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=yh.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Oh=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new _h(this.k,this.M))},t.prototype.S=function(t){t(yh.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),Eh=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();Eh.U=-1;var Ch=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ch(uh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ch(uh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ch(uh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ch(uh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?ih(this.nanoseconds,t.nanoseconds):ih(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),xh=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new Ch(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),Sh=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Xl(),void 0===n?n=t.length-e:n>t.length-e&&Xl(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Th=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gl.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new ch(uh.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.at=function(){return new e([])},e}(Sh),Ih=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ah=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gl.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return Ih.test(t)},e.prototype.ot=function(){return this.rt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new ch(uh.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new ch(uh.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ch(uh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ch(uh.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(Sh),kh=function(){function t(t){this.path=t}return t.ft=function(e){return new t(Th.ct(e))},t.dt=function(e){return new t(Th.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Th.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return Th.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new Th(e.slice()))},t}();function jh(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Nh(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ph(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Dh=function(){function t(t){this.fields=t,t.sort(Ah.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return oh(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Rh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lh(t){if(th(!!t),"string"==typeof t){var e=0,n=Rh.exec(t);if(th(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Vh(t.seconds),nanos:Vh(t.nanos)}}function Vh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Mh(t){return"string"==typeof t?ah.fromBase64String(t):ah.fromUint8Array(t)}function Uh(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Fh(t){var e=t.mapValue.fields.__previous_value__;return Uh(e)?Fh(e):e}function qh(t){var e=Lh(t.mapValue.fields.__local_write_time__.timestampValue);return new Ch(e.seconds,e.nanos)}function Hh(t){return null==t}function zh(t){return 0===t&&1/t==-1/0}function Bh(t){return"number"==typeof t&&Number.isInteger(t)&&!zh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Kh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uh(t)?4:10:Xl()}function Gh(t,e){var n=Kh(t);if(n!==Kh(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qh(t).isEqual(qh(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Lh(t.timestampValue),r=Lh(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Mh(t.bytesValue).isEqual(Mh(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Vh(t.geoPointValue.latitude)===Vh(e.geoPointValue.latitude)&&Vh(t.geoPointValue.longitude)===Vh(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Vh(t.integerValue)===Vh(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Vh(t.doubleValue),r=Vh(e.doubleValue);return n===r?zh(n)===zh(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return oh(t.arrayValue.values||[],e.arrayValue.values||[],Gh);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(jh(n)!==jh(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Gh(n[i],r[i])))return!1;return!0}(t,e);default:return Xl()}}function $h(t,e){return void 0!==(t.values||[]).find(function(t){return Gh(t,e)})}function Wh(t,e){var n=Kh(t),r=Kh(e);if(n!==r)return ih(n,r);switch(n){case 0:return 0;case 1:return ih(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Vh(t.integerValue||t.doubleValue),r=Vh(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Jh(t.timestampValue,e.timestampValue);case 4:return Jh(qh(t),qh(e));case 5:return ih(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Mh(t),r=Mh(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ih(n[i],r[i]);if(0!==o)return o}return ih(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ih(Vh(t.latitude),Vh(e.latitude));return 0!==n?n:ih(Vh(t.longitude),Vh(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Wh(n[i],r[i]);if(o)return o}return ih(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=ih(r[s],o[s]);if(0!==a)return a;var u=Wh(n[r[s]],i[o[s]]);if(0!==u)return u}return ih(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Xl()}}function Jh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ih(t,e);var n=Lh(t),r=Lh(e),i=ih(n.seconds,r.seconds);return 0!==i?i:ih(n.nanos,r.nanos)}function Yh(t){return Zh(t)}function Zh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Lh(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Mh(t.bytesValue).toBase64():"referenceValue"in t?kh.dt(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Zh(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Zh(t.fields[o])}return e+"}"}(t.mapValue):Xl();var e}function Qh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function Xh(t){return!!t&&"integerValue"in t}function tf(t){return!!t&&"arrayValue"in t}function ef(t){return!!t&&"nullValue"in t}function nf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rf(t){return!!t&&"mapValue"in t}var of=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!rf(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return Gh(this.proto,t.proto)},t}(),sf=function(){function t(t){void 0===t&&(t=of.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Kh(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(Ah.at(),this.Rt);return null!=t?new of(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=rf(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.gt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function af(t){var e=[];return Nh(t.fields||{},function(t,n){var r=new Ah([t]);if(rf(n)){var i=af(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Dh(e)}var uf=function(t,e){this.key=t,this.version=e},cf=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Gl.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(uf),lf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Gl.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(uf),hf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gl.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(uf),ff=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null};function df(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new ff(t,e,n,r,i,o,s)}function pf(t){var e=eh(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.ot()+t.op.toString()+Yh(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.ot()+t.dir}(t)}).join(","),Hh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Tf(e.startAt)),e.endAt&&(n+="|ub:",n+=Tf(e.endAt)),e.St=n}return e.St}function gf(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Af(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Gh(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jf(t.startAt,e.startAt)&&jf(t.endAt,e.endAt)}function mf(t){return kh.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var yf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Gl.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new vf(t,n,r):"array-contains"===n?new Of(t,r):"in"===n?new Ef(t,r):"not-in"===n?new Cf(t,r):"array-contains-any"===n?new xf(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new bf(t,n):new wf(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(Wh(e,this.value)):null!==e&&Kh(this.value)===Kh(e)&&this.Ct(Wh(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Xl()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),vf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=kh.dt(r.referenceValue),i}return Object(Gl.c)(e,t),e.prototype.matches=function(t){var e=kh.J(t.key,this.key);return this.Ct(e)},e}(yf),bf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=_f(0,n),r}return Object(Gl.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(yf),wf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=_f(0,n),r}return Object(Gl.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(yf);function _f(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return kh.dt(t.referenceValue)})}var Of=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Gl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return tf(e)&&$h(e.arrayValue,this.value)},e}(yf),Ef=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Gl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&$h(this.value.arrayValue,e)},e}(yf),Cf=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Gl.c)(e,t),e.prototype.matches=function(t){if($h(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!$h(this.value.arrayValue,e)},e}(yf),xf=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Gl.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!tf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return $h(e.value.arrayValue,t)})},e}(yf),Sf=function(t,e){this.position=t,this.before=e};function Tf(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Yh(t)}).join(",")}var If=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Af(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function kf(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ht()?kh.J(kh.dt(s.referenceValue),n.key):Wh(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function jf(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Gh(t.position[n],e.position[n]))return!1;return!0}var Nf=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ft=null,this.Ot=null};function Pf(t,e,n,r,i,o,s,a){return new Nf(t,e,n,r,i,o,s,a)}function Df(t){return new Nf(t)}function Rf(t){return!Hh(t.limit)&&"F"===t.limitType}function Lf(t){return!Hh(t.limit)&&"L"===t.limitType}function Vf(t){return t.Nt.length>0?t.Nt[0].field:null}function Mf(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function Uf(t){return null!==t.collectionGroup}function Ff(t){var e=eh(t);if(null===e.Ft){e.Ft=[];var n=Mf(e),r=Vf(e);if(null!==n&&null===r)n.ht()||e.Ft.push(new If(n)),e.Ft.push(new If(Ah.lt(),"asc"));else{for(var i=!1,o=0,s=e.Nt;o<s.length;o++){var a=s[o];e.Ft.push(a),a.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new If(Ah.lt(),u))}}}return e.Ft}function qf(t){var e=eh(t);if(!e.Ot)if("F"===e.limitType)e.Ot=df(e.path,e.collectionGroup,Ff(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Ff(e);r<i.length;r++){var o=i[r];n.push(new If(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Sf(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Sf(e.startAt.position,!e.startAt.before):null;e.Ot=df(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.Ot}function Hf(t,e,n){return new Nf(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zf(t,e){return gf(qf(t),qf(e))&&t.limitType===e.limitType}function Bf(t){return pf(qf(t))+"|lt:"+t.limitType}function Kf(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.ot()+" "+e.op+" "+Yh(e.value);var e}).join(", ")+"]"),Hh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Tf(t.startAt)),t.endAt&&(e+=", endAt: "+Tf(t.endAt)),"Target("+e+")"}(qf(t))+"; limitType="+t.limitType+")"}function Gf(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):kh.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!kf(t.startAt,Ff(t),e)||t.endAt&&kf(t.endAt,Ff(t),e))}(t,e)}function $f(t){return function(e,n){for(var r=!1,i=0,o=Ff(t);i<o.length;i++){var s=o[i],a=Wf(s,e,n);if(0!==a)return a;r=r||s.field.ht()}return 0}}function Wf(t,e,n){var r=t.field.ht()?kh.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Wh(r,i):Xl()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xl()}}var Jf=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=xh.min()),void 0===o&&(o=xh.min()),void 0===s&&(s=ah.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function Yf(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function Zf(t){return{integerValue:""+t}}function Qf(t,e){return Bh(e)?Zf(e):Yf(t,e)}var Xf=function(){this.Ut=void 0};function td(t,e,n){return t instanceof rd?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof id?od(t,e):t instanceof sd?ad(t,e):function(t,e){var n=nd(t,e),r=cd(n)+cd(t.Qt);return Xh(n)&&Xh(t.Qt)?Zf(r):Yf(t.Kt,r)}(t,e)}function ed(t,e,n){return t instanceof id?od(t,e):t instanceof sd?ad(t,e):n}function nd(t,e){return t instanceof ud?Xh(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var rd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gl.c)(e,t),e}(Xf),id=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Gl.c)(e,t),e}(Xf);function od(t,e){for(var n=ld(e),r=function(t){n.some(function(e){return Gh(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var sd=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Gl.c)(e,t),e}(Xf);function ad(t,e){for(var n=ld(e),r=function(t){n=n.filter(function(e){return!Gh(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ud=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(Gl.c)(e,t),e}(Xf);function cd(t){return Vh(t.integerValue||t.doubleValue)}function ld(t){return tf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var hd=function(t,e){this.field=t,this.transform=e},fd=function(t,e){this.version=t,this.transformResults=e},dd=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function pd(t,e){return void 0!==t.updateTime?e instanceof cf&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof cf}var gd=function(){};function md(t,e,n){return t instanceof _d?function(t,e,n){var r=t.value;if(n.transformResults){var i=Cd(t.fieldTransforms,e,n.transformResults);r=Sd(t.fieldTransforms,r,i)}return new cf(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Od?function(t,e,n){if(!pd(t.Gt,e))return new hf(t.key,n.version);var r=Ed(t,e,n.transformResults?Cd(t.fieldTransforms,e,n.transformResults):[]);return new cf(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new lf(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function yd(t,e,n,r){return t instanceof _d?function(t,e,n,r){if(!pd(t.Gt,e))return e;var i=t.value,o=xd(t.fieldTransforms,n,e);i=Sd(t.fieldTransforms,i,o);var s=wd(e);return new cf(t.key,s,i,{bt:!0})}(t,e,r):t instanceof Od?function(t,e,n,r){if(!pd(t.Gt,e))return e;var i=wd(e),o=Ed(t,e,xd(t.fieldTransforms,n,e));return new cf(t.key,i,o,{bt:!0})}(t,e,r):function(t,e){return pd(t.Gt,e)?new lf(t.key,xh.min()):e}(t,e)}function vd(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof cf?e.field(o.field):void 0,a=nd(o.transform,s||null);null!=a&&(n=null==n?(new sf).set(o.field,a):n.set(o.field,a))}return n?n.yt():null}(t.fieldTransforms,e)}function bd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&oh(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof id&&e instanceof id||t instanceof sd&&e instanceof sd?oh(t.elements,e.elements,Gh):t instanceof ud&&e instanceof ud?Gh(t.Qt,e.Qt):t instanceof rd&&e instanceof rd}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function wd(t){return t instanceof cf?t.version:xh.min()}var _d=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Object(Gl.c)(e,t),e}(gd),Od=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.zt=r,s.Gt=i,s.fieldTransforms=o,s.type=1,s}return Object(Gl.c)(e,t),e}(gd);function Ed(t,e,n){var r;return r=function(t,e){var n=new sf(e);return t.zt.fields.forEach(function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.yt()}(t,r=e instanceof cf?e.data():of.empty()),Sd(t.fieldTransforms,r,n)}function Cd(t,e,n){var r=[];th(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof cf&&(a=e.field(o.field)),r.push(ed(s,a,n[i]))}return r}function xd(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof cf&&(c=n.field(a.field)),i.push(td(u,c,e))}return i}function Sd(t,e,n){for(var r=new sf(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var Td,Id,Ad=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(Gl.c)(e,t),e}(gd),kd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(Gl.c)(e,t),e}(gd),jd=function(t){this.count=t};function Nd(t){switch(t){case uh.OK:return Xl();case uh.CANCELLED:case uh.UNKNOWN:case uh.DEADLINE_EXCEEDED:case uh.RESOURCE_EXHAUSTED:case uh.INTERNAL:case uh.UNAVAILABLE:case uh.UNAUTHENTICATED:return!1;case uh.INVALID_ARGUMENT:case uh.NOT_FOUND:case uh.ALREADY_EXISTS:case uh.PERMISSION_DENIED:case uh.FAILED_PRECONDITION:case uh.ABORTED:case uh.OUT_OF_RANGE:case uh.UNIMPLEMENTED:case uh.DATA_LOSS:return!0;default:return Xl()}}function Pd(t){if(void 0===t)return Yl("GRPC error has no .code"),uh.UNKNOWN;switch(t){case Td.OK:return uh.OK;case Td.CANCELLED:return uh.CANCELLED;case Td.UNKNOWN:return uh.UNKNOWN;case Td.DEADLINE_EXCEEDED:return uh.DEADLINE_EXCEEDED;case Td.RESOURCE_EXHAUSTED:return uh.RESOURCE_EXHAUSTED;case Td.INTERNAL:return uh.INTERNAL;case Td.UNAVAILABLE:return uh.UNAVAILABLE;case Td.UNAUTHENTICATED:return uh.UNAUTHENTICATED;case Td.INVALID_ARGUMENT:return uh.INVALID_ARGUMENT;case Td.NOT_FOUND:return uh.NOT_FOUND;case Td.ALREADY_EXISTS:return uh.ALREADY_EXISTS;case Td.PERMISSION_DENIED:return uh.PERMISSION_DENIED;case Td.FAILED_PRECONDITION:return uh.FAILED_PRECONDITION;case Td.ABORTED:return uh.ABORTED;case Td.OUT_OF_RANGE:return uh.OUT_OF_RANGE;case Td.UNIMPLEMENTED:return uh.UNIMPLEMENTED;case Td.DATA_LOSS:return uh.DATA_LOSS;default:return Xl()}}(Id=Td||(Td={}))[Id.OK=0]="OK",Id[Id.CANCELLED=1]="CANCELLED",Id[Id.UNKNOWN=2]="UNKNOWN",Id[Id.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Id[Id.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Id[Id.NOT_FOUND=5]="NOT_FOUND",Id[Id.ALREADY_EXISTS=6]="ALREADY_EXISTS",Id[Id.PERMISSION_DENIED=7]="PERMISSION_DENIED",Id[Id.UNAUTHENTICATED=16]="UNAUTHENTICATED",Id[Id.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Id[Id.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Id[Id.ABORTED=10]="ABORTED",Id[Id.OUT_OF_RANGE=11]="OUT_OF_RANGE",Id[Id.UNIMPLEMENTED=12]="UNIMPLEMENTED",Id[Id.INTERNAL=13]="INTERNAL",Id[Id.UNAVAILABLE=14]="UNAVAILABLE",Id[Id.DATA_LOSS=15]="DATA_LOSS";var Dd=function(){function t(t,e){this.J=t,this.root=e||Ld.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,Ld.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,Ld.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Zt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new Rd(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new Rd(this.root,t,this.J,!1)},t.prototype.se=function(){return new Rd(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new Rd(this.root,t,this.J,!0)},t}(),Rd=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),Ld=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw Xl();if(this.right._e())throw Xl();var t=this.left.me();if(t!==this.right.me())throw Xl();return t+(this._e()?0:1)},t}();Ld.EMPTY=null,Ld.RED=!0,Ld.Jt=!1,Ld.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Xl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Xl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Xl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Xl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Xl()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new Ld(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var Vd=function(){function t(t){this.J=t,this.data=new Dd(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt(function(e,n){return t(e),!1})},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new Md(this.data.ee())},t.prototype.ne=function(t){return new Md(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),Md=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),Ud=new Dd(kh.J);function Fd(){return Ud}function qd(){return Fd()}var Hd=new Dd(kh.J);function zd(){return Hd}var Bd=new Dd(kh.J);function Kd(){return Bd}var Gd=new Vd(kh.J);function $d(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Gd,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Wd=new Vd(ih);function Jd(){return Wd}var Yd=function(){function t(t){this.J=t?function(e,n){return t(e,n)||kh.J(e.key,n.key)}:function(t,e){return kh.J(t.key,e.key)},this.Ve=zd(),this.pe=new Dd(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),Zd=function(){function t(){this.ve=new Dd(kh.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):Xl():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt(function(e,n){t.push(n)}),t},t}(),Qd=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=a}return t.Fe=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Yd.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&zf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Xd=function(){function t(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,tp.Be(e,n)),new t(xh.min(),r,Jd(),Fd(),$d())},t}(),tp=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(ah.h,n,$d(),$d(),$d())},t}(),ep=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},np=function(t,e){this.targetId=t,this.Ge=e},rp=function(t,e,n,r){void 0===n&&(n=ah.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ip=function(){function t(){this.ze=0,this.He=ap(),this.Je=ah.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=$d(),e=$d(),n=$d();return this.He.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Xl()}}),new tp(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=ap()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),op=function(){function t(t){this.hn=t,this.ln=new Map,this._n=Fd(),this.fn=sp(),this.dn=new Vd(ih)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof cf?this.En(r,t.je):t.je instanceof lf&&this.Tn(r,t.key,t.je)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Tn(r=o[i],t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:Xl()}})},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach(function(t,r){n.Rn(r)&&e(r)})},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(mf(i))if(0===n){var o=new kh(i.path);this.Tn(e,o,new lf(o,xh.min()))}else th(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach(function(r,i){var o=e.gn(i);if(o){if(r.qe&&mf(o.target)){var s=new kh(o.target.path);null!==e._n.get(s)||e.bn(i,s)||e.Tn(i,s,new lf(s,t))}r.tn&&(n.set(i,r.nn()),r.sn())}});var r=$d();this.fn.forEach(function(t,n){var i=!0;n.Re(function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Xd(t,n,this.dn,this._n,r);return this._n=Fd(),this.fn=sp(),this.dn=new Vd(ih),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new ip,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new Vd(ih),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||Jl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new ip),this.hn.Sn(t).forEach(function(n){e.Tn(t,n,null)})},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function sp(){return new Dd(kh.J)}function ap(){return new Dd(kh.J)}var up={asc:"ASCENDING",desc:"DESCENDING"},cp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lp=function(t,e){this.T=t,this.qt=e};function hp(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function fp(t,e){return t.qt?e.toBase64():e.toUint8Array()}function dp(t,e){return hp(t,e.G())}function pp(t){return th(!!t),xh.W(function(t){var e=Lh(t);return new Ch(e.seconds,e.nanos)}(t))}function gp(t,e){return function(t){return new Th(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function mp(t){var e=Th.ct(t);return th(Fp(e)),e}function yp(t,e){return gp(t.T,e.path)}function vp(t,e){var n=mp(e);if(n.get(1)!==t.T.projectId)throw new ch(uh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new ch(uh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new kh(Op(n))}function bp(t,e){return gp(t.T,e)}function wp(t){var e=mp(t);return 4===e.length?Th.at():Op(e)}function _p(t){return new Th(["projects",t.T.projectId,"databases",t.T.database]).ot()}function Op(t){return th(t.length>4&&"documents"===t.get(4)),t.X(5)}function Ep(t,e,n){return{name:yp(t,e),fields:n.proto.mapValue.fields}}function Cp(t,e,n){var r=vp(t,e.name),i=pp(e.updateTime),o=new of({mapValue:{fields:e.fields}});return new cf(r,i,o,{hasCommittedMutations:!!n})}function xp(t,e){var n;if(e instanceof _d)n={update:Ep(t,e.key,e.value)};else if(e instanceof Ad)n={delete:yp(t,e.key)};else if(e instanceof Od)n={update:Ep(t,e.key,e.data),updateMask:Up(e.zt)};else{if(!(e instanceof kd))return Xl();n={verify:yp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof rd)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof id)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof sd)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof ud)return{fieldPath:e.field.ot(),increment:n.Qt};throw Xl()}(0,t)})),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:dp(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Xl()}(t,e.Gt)),n}function Sp(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?dd.updateTime(pp(t.updateTime)):void 0!==t.exists?dd.exists(t.exists):dd.Wt()}(e.currentDocument):dd.Wt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(th("REQUEST_TIME"===e.setToServerValue),n=new rd):"appendMissingElements"in e?n=new id(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new sd(e.removeAllFromArray.values||[]):"increment"in e?n=new ud(t,e.increment):Xl();var r=Ah._t(e.fieldPath);return new hd(r,n)}(t,e)}):[];if(e.update){var i=vp(t,e.update.name),o=new of({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Dh((t.fieldPaths||[]).map(function(t){return Ah._t(t)}))}(e.updateMask);return new Od(i,o,s,n,r)}return new _d(i,o,n,r)}if(e.delete){var a=vp(t,e.delete);return new Ad(a,n)}if(e.verify){var u=vp(t,e.verify);return new kd(u,n)}return Xl()}function Tp(t,e){return{documents:[bp(t,e.path)]}}function Ip(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=bp(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=bp(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(nf(t.value))return{unaryFilter:{field:Rp(t.field),op:"IS_NAN"}};if(ef(t.value))return{unaryFilter:{field:Rp(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(nf(t.value))return{unaryFilter:{field:Rp(t.field),op:"IS_NOT_NAN"}};if(ef(t.value))return{unaryFilter:{field:Rp(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rp(t.field),op:Dp(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Rp(t.field),direction:Pp(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.qt||Hh(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=jp(e.startAt)),e.endAt&&(n.structuredQuery.endAt=jp(e.endAt)),n}function Ap(t){var e=wp(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){th(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=kp(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new If(Lp(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Hh(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Np(n.startAt));var l=null;return n.endAt&&(l=Np(n.endAt)),Pf(e,i,a,s,u,"F",c,l)}function kp(t){return t?void 0!==t.unaryFilter?[Mp(t)]:void 0!==t.fieldFilter?[Vp(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return kp(t)}).reduce(function(t,e){return t.concat(e)}):Xl():[]}function jp(t){return{before:t.before,values:t.position}}function Np(t){return new Sf(t.values||[],!!t.before)}function Pp(t){return up[t]}function Dp(t){return cp[t]}function Rp(t){return{fieldPath:t.ot()}}function Lp(t){return Ah._t(t.fieldPath)}function Vp(t){return yf.create(Lp(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Xl()}}(t.fieldFilter.op),t.fieldFilter.value)}function Mp(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Lp(t.unaryFilter.field);return yf.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Lp(t.unaryFilter.field);return yf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Lp(t.unaryFilter.field);return yf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Lp(t.unaryFilter.field);return yf.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Xl()}}function Up(t){var e=[];return t.fields.forEach(function(t){return e.push(t.ot())}),{fieldPaths:e}}function Fp(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var qp=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Hp=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t(function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)},function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Fn&&Xl(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t(function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.On(n,e).next(t,i)}})},t.prototype.Mn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln(function(){return e(n)}):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.$n=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.$n(r)},t}(),zp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new qp,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new Gp(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=Zp(e.target.error);n.qn.reject(new Gp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Gp(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(Jl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Wp(e)},t}(),Bp=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(Bs.g)())&&Yl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Jl("SimpleDb","Removing database:",t),Jp(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=Object(Bs.g)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(Gl.b)(this,void 0,void 0,function(){var e,n=this;return Object(Gl.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Jl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Gp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new ch(uh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Gp(t,n))},i.onupgradeneeded=function(t){Jl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Jl("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}})})},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Gl.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(Gl.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(Gl.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=zp.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Hp.reject(t)}).Mn(),u={},s.catch(function(){}),[4,e.Un];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Jl("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Kp=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return Jp(this.ts.delete())},t}(),Gp=function(t){function e(e,n){var r=this;return(r=t.call(this,uh.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Gl.c)(e,t),e}(ch);function $p(t){return"IndexedDbTransactionError"===t.name}var Wp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Jl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Jl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Jp(n)},t.prototype.add=function(t){return Jl("SimpleDb","ADD",this.store.name,t,t),Jp(this.store.add(t))},t.prototype.get=function(t){var e=this;return Jp(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Jl("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Jl("SimpleDb","DELETE",this.store.name,t),Jp(this.store.delete(t))},t.prototype.count=function(){return Jl("SimpleDb","COUNT",this.store.name),Jp(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.us=function(t,e){Jl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,function(t,e,n){return n.delete()})},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new Hp(function(n,r){e.onerror=function(t){var e=Zp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.cs=function(t,e){var n=[];return new Hp(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Kp(i),s=e(i.primaryKey,i.value,o);if(s instanceof Hp){var a=s.catch(function(t){return o.done(),Hp.reject(t)});n.push(a)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}}).next(function(){return Hp.$n(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Jp(t){return new Hp(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Zp(t.target.error);n(e)}})}var Yp=!1;function Zp(t){var e=Bp.Kn(Object(Bs.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new ch("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Yp||(Yp=!0,setTimeout(function(){throw r},0)),r}}return t}var Qp=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new qp,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch(function(t){})}return t.Is=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.As=setTimeout(function(){return e.Rs()},t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new ch(uh.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys(function(){return null!==t.As?(t.clearTimeout(),t.op().then(function(e){return t.Ts.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function Xp(t,e){if(Yl("AsyncQueue",e+": "+t),$p(t))return new ch(uh.UNAVAILABLE,e+": "+t);throw t}var tg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",eg=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach(function(t){return t()})},t}();function ng(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ig(e)),e=rg(t.get(n),e);return ig(e)}function rg(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function ig(t){return t+"\x01\x01"}function og(t){var e=t.length;if(th(e>=2),2===e)return th("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Th.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Xl(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Xl()}o=s+2}return new Th(r)}var sg=function(t,e){this.seconds=t,this.nanoseconds=e},ag=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ag.store="owner",ag.key="owner";var ug=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ug.store="mutationQueues",ug.keyPath="userId";var cg=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};cg.store="mutations",cg.keyPath="batchId",cg.userMutationsIndex="userMutationsIndex",cg.userMutationsKeyPath=["userId","batchId"];var lg=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ng(e)]},t.key=function(t,e,n){return[t,ng(e),n]},t}();lg.store="documentMutations",lg.PLACEHOLDER=new lg;var hg=function(t,e){this.path=t,this.readTime=e},fg=function(t,e){this.path=t,this.version=e},dg=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};dg.store="remoteDocuments",dg.readTimeIndex="readTimeIndex",dg.readTimeIndexPath="readTime",dg.collectionReadTimeIndex="collectionReadTimeIndex",dg.collectionReadTimeIndexPath=["parentPath","readTime"];var pg=function(t){this.byteSize=t};pg.store="remoteDocumentGlobal",pg.key="remoteDocumentGlobalKey";var gg=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};gg.store="targets",gg.keyPath="targetId",gg.queryTargetsIndexName="queryTargetsIndex",gg.queryTargetsKeyPath=["canonicalId","targetId"];var mg=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};mg.store="targetDocuments",mg.keyPath=["targetId","path"],mg.documentTargetsIndex="documentTargetsIndex",mg.documentTargetsKeyPath=["path","targetId"];var yg=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};yg.key="targetGlobalKey",yg.store="targetGlobal";var vg=function(t,e){this.collectionId=t,this.parent=e};vg.store="collectionParents",vg.keyPath=["collectionId","parent"];var bg=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};bg.store="clientMetadata",bg.keyPath="clientId";var wg=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};wg.store="bundles",wg.keyPath="bundleId";var _g=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};_g.store="namedQueries",_g.keyPath="name";var Og=Object(Gl.g)(Object(Gl.g)(Object(Gl.g)(Object(Gl.g)([ug.store,cg.store,lg.store,dg.store,gg.store,ag.store,yg.store,mg.store],[bg.store]),[pg.store]),[vg.store]),[wg.store,_g.store]),Eg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return Object(Gl.c)(e,t),e}(eg);function Cg(t,e){var n=eh(t);return Bp.Hn(n.bs,e)}var xg=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=md(o,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=yd(s,e,0,this.Ss));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=yd(s,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},$d())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&oh(this.mutations,t.mutations,function(t,e){return bd(t,e)})&&oh(this.baseMutations,t.baseMutations,function(t,e){return bd(t,e)})},t}(),Sg=function(){function t(t,e,n,r){this.batch=t,this.Fs=e,this.Cs=n,this.Os=r}return t.from=function(e,n,r){th(e.mutations.length===r.length);for(var i=Kd(),o=e.mutations,s=0;s<o.length;s++)i=i.Ht(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Tg=function(t){this.ks=t};function Ig(t,e){if(e.document)return Cp(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=kh.Tt(e.noDocument.path),r=Pg(e.noDocument.readTime);return new lf(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=kh.Tt(e.unknownDocument.path);return r=Pg(e.unknownDocument.version),new hf(i,r)}return Xl()}function Ag(t,e,n){var r=kg(n),i=e.key.path.Z().rt();if(e instanceof cf){var o=function(t,e){return{name:yp(t,e.key),fields:e.vt().mapValue.fields,updateTime:hp(t,e.version.G())}}(t.ks,e),s=e.hasCommittedMutations;return new dg(null,null,o,s,r,i)}if(e instanceof lf){var a=e.key.path.rt(),u=Ng(e.version);return s=e.hasCommittedMutations,new dg(null,new hg(a,u),null,s,r,i)}if(e instanceof hf){var c=e.key.path.rt(),l=Ng(e.version);return new dg(new fg(c,l),null,null,!0,r,i)}return Xl()}function kg(t){var e=t.G();return[e.seconds,e.nanoseconds]}function jg(t){var e=new Ch(t[0],t[1]);return xh.W(e)}function Ng(t){var e=t.G();return new sg(e.seconds,e.nanoseconds)}function Pg(t){var e=new Ch(t.seconds,t.nanoseconds);return xh.W(e)}function Dg(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Sp(t.ks,e)}),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map(function(e){return Sp(t.ks,e)}),s=Ch.fromMillis(e.localWriteTimeMs);return new xg(e.batchId,s,n,o)}function Rg(t){var e,n,r=Pg(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Pg(t.lastLimboFreeSnapshotVersion):xh.min();return void 0!==t.query.documents?(th(1===(n=t.query).documents.length),e=qf(Df(wp(n.documents[0])))):e=function(t){return qf(Ap(t))}(t.query),new Jf(e,t.targetId,0,t.lastListenSequenceNumber,r,i,ah.fromBase64String(t.resumeToken))}function Lg(t,e){var n,r=Ng(e.Mt),i=Ng(e.lastLimboFreeSnapshotVersion);n=mf(e.target)?Tp(t.ks,e.target):Ip(t.ks,e.target);var o=e.resumeToken.toBase64();return new gg(e.targetId,pf(e.target),r,o,e.sequenceNumber,i,n)}function Vg(t){var e=Ap({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Hf(e,e.limit,"L"):e}var Mg=function(){function t(){}return t.prototype.Ms=function(t,e){return Ug(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Pg(e.createTime),version:e.version};var e})},t.prototype.Ls=function(t,e){return Ug(t).put({bundleId:(n=e).id,createTime:Ng(pp(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return Fg(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Vg(e.bundledQuery),readTime:Pg(e.readTime)};var e})},t.prototype.Bs=function(t,e){return Fg(t).put(function(t){return{name:t.name,readTime:Ng(pp(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Ug(t){return Cg(t,wg.store)}function Fg(t){return Cg(t,_g.store)}var qg=function(){function t(){this.qs=new Hg}return t.prototype.Us=function(t,e){return this.qs.add(e),Hp.resolve()},t.prototype.Qs=function(t,e){return Hp.resolve(this.qs.getEntries(e))},t}(),Hg=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new Vd(Th.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Vd(Th.J)).rt()},t}(),zg=function(){function t(){this.Ks=new Hg}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs(function(){n.Ks.add(e)});var o={collectionId:r,parent:ng(i)};return Bg(t).put(o)}return Hp.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[sh(e),""],!1,!0);return Bg(t).os(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(og(o.parent))}return n})},t}();function Bg(t){return Cg(t,vg.store)}var Kg={Ws:!1,js:0,Gs:0,zs:0},Gg=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function $g(t){return Object(Gl.b)(this,void 0,void 0,function(){return Object(Gl.d)(this,function(e){if(t.code!==uh.FAILED_PRECONDITION||t.message!==tg)throw t;return Jl("LocalStore","Unexpectedly lost primary lease"),[2]})})}Gg.Zs=10,Gg.ti=1e3,Gg.ei=new Gg(41943040,Gg.Zs,Gg.ti),Gg.ni=new Gg(-1,0,0);var Wg=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.ii(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Nh(this.ri,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.nt=function(){return Ph(this.ri)},t}(),Jg=function(){function t(){this.oi=new Wg(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:xh.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?Hp.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function Yg(t,e,n){var r=t.store(cg.store),i=t.store(lg.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.ls({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){th(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=lg.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Hp.$n(o).next(function(){return c})}function Zg(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Xl();e=t.noDocument}return JSON.stringify(e).length}var Qg=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return th(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return tm(t).ls({index:cg.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Pi=function(t,e,n,r){var i=this,o=em(t),s=tm(t);return s.add({}).next(function(a){th("number"==typeof a);for(var u=new xg(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return xp(t.ks,e)}),i=n.mutations.map(function(e){return xp(t.ks,e)});return new cg(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,u),l=[],h=new Vd(function(t,e){return ih(t.ot(),e.ot())}),f=0,d=r;f<d.length;f++){var p=d[f],g=lg.key(i.userId,p.key.path,a);h=h.add(p.key.path.Z()),l.push(s.put(c)),l.push(o.put(g,lg.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ti.Us(t,e))}),t.Vs(function(){i.mi[a]=u.keys()}),Hp.$n(l).next(function(){return u})})},t.prototype.yi=function(t,e){var n=this;return tm(t).get(e).next(function(t){return t?(th(t.userId===n.userId),Dg(n.Kt,t)):null})},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?Hp.resolve(this.mi[e]):this.yi(t,e).next(function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null})},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return tm(t).ls({index:cg.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(th(e.batchId>=r),o=Dg(n.Kt,e)),i.done()}).next(function(){return o})},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return tm(t).ls({index:cg.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return tm(t).os(cg.userMutationsIndex,n).next(function(t){return t.map(function(t){return Dg(e.Kt,t)})})},t.prototype.vi=function(t,e){var n=this,r=lg.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return em(t).ls({range:i},function(r,i,s){var a=r[0],u=r[2],c=og(r[1]);if(a===n.userId&&e.path.isEqual(c))return tm(t).get(u).next(function(t){if(!t)throw Xl();th(t.userId===n.userId),o.push(Dg(n.Kt,t))});s.done()}).next(function(){return o})},t.prototype.Si=function(t,e){var n=this,r=new Vd(ih),i=[];return e.forEach(function(e){var o=lg.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=em(t).ls({range:s},function(t,i,o){var s=t[0],a=t[2],u=og(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Hp.$n(i).next(function(){return n.Di(t,r)})},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,o=lg.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Vd(ih);return em(t).ls({range:s},function(t,e,o){var s=t[0],u=t[2],c=og(t[1]);s===n.userId&&r.st(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Di(t,a)})},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(tm(t).get(e).next(function(t){if(null===t)throw Xl();th(t.userId===n.userId),r.push(Dg(n.Kt,t))}))}),Hp.$n(i).next(function(){return r})},t.prototype.xi=function(t,e){var n=this;return Yg(t.bs,this.userId,e).next(function(r){return t.Vs(function(){n.Ni(e.batchId)}),Hp.forEach(r,function(e){return n.Ii.Fi(t,e)})})},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Oi=function(t){var e=this;return this.Ri(t).next(function(n){if(!n)return Hp.resolve();var r=IDBKeyRange.lowerBound(lg.prefixForUser(e.userId)),i=[];return em(t).ls({range:r},function(t,n,r){if(t[0]===e.userId){var o=og(t[1]);i.push(o)}else r.done()}).next(function(){th(0===i.length)})})},t.prototype.ki=function(t,e){return Xg(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return nm(t).get(this.userId).next(function(t){return t||new ug(e.userId,-1,"")})},t}();function Xg(t,e,n){var r=lg.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return em(t).ls({range:o,hs:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function tm(t){return Cg(t,cg.store)}function em(t){return Cg(t,lg.store)}function nm(t){return Cg(t,ug.store)}var rm=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),im=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next(function(n){var r=new rm(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next(function(){return n.highestTargetId})})},t.prototype.Ki=function(t){return this.Ui(t).next(function(t){return xh.W(new Ch(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Wi=function(t){return this.Ui(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.ji=function(t,e,n){var r=this;return this.Ui(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)})},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next(function(){return n.Ui(t).next(function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)})})},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next(function(){return om(t).delete(e.targetId)}).next(function(){return n.Ui(t)}).next(function(e){return th(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)})},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return om(t).ls(function(s,a){var u=Rg(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Yi(t,u)))}).next(function(){return Hp.$n(o)}).next(function(){return i})},t.prototype.mn=function(t,e){return om(t).ls(function(t,n){var r=Rg(n);e(r)})},t.prototype.Ui=function(t){return sm(t).get(yg.key).next(function(t){return th(null!==t),t})},t.prototype.Qi=function(t,e){return sm(t).put(yg.key,e)},t.prototype.zi=function(t,e){return om(t).put(Lg(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next(function(t){return t.targetCount})},t.prototype.er=function(t,e){var n=pf(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return om(t).ls({range:r,index:gg.queryTargetsIndexName},function(t,n,r){var o=Rg(n);gf(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.nr=function(t,e,n){var r=this,i=[],o=am(t);return e.forEach(function(e){var s=ng(e.path);i.push(o.put(new mg(n,s))),i.push(r.Ii.sr(t,n,e))}),Hp.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=am(t);return Hp.forEach(e,function(e){var o=ng(e.path);return Hp.$n([i.delete([n,o]),r.Ii.rr(t,n,e)])})},t.prototype.Xi=function(t,e){var n=am(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=am(t),i=$d();return r.ls({range:n,hs:!0},function(t,e,n){var r=og(t[1]),o=new kh(r);i=i.add(o)}).next(function(){return i})},t.prototype.ki=function(t,e){var n=ng(e.path),r=IDBKeyRange.bound([n],[sh(n)],!1,!0),i=0;return am(t).ls({index:mg.documentTargetsIndex,hs:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Dn=function(t,e){return om(t).get(e).next(function(t){return t?Rg(t):null})},t}();function om(t){return Cg(t,gg.store)}function sm(t){return Cg(t,yg.store)}function am(t){return Cg(t,mg.store)}function um(t,e){var n=t[1],r=e[1],i=ih(t[0],e[0]);return 0===i?ih(n,r):i}var cm=function(){function t(t){this.ar=t,this.buffer=new Vd(um),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();um(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),lm=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;Jl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,function(){return Object(Gl.b)(e,void 0,void 0,function(){var e;return Object(Gl.d)(this,function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return $p(e=n.sent())?(Jl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,$g(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}})})})},t}(),hm=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.yr=function(t,e){var n=this;if(0===e)return Hp.resolve(Eh.U);var r=new cm(e);return this.Ar.mn(t,function(t){return r.lr(t.sequenceNumber)}).next(function(){return n.Ar.gr(t,function(t){return r.lr(t)})}).next(function(){return r.maxValue})},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(Jl("LruGarbageCollector","Garbage collection skipped; disabled"),Hp.resolve(Kg)):this.br(t).next(function(r){return r<n.params.Hs?(Jl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),Kg):n.vr(t,e)})},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.Rr(t,this.params.Js).next(function(e){return e>c.params.Ys?(Jl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Ys+" from "+e),r=c.params.Ys):r=e,o=Date.now(),c.yr(t,r)}).next(function(r){return n=r,s=Date.now(),c.Zi(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.Vr(t,n)}).next(function(t){return u=Date.now(),Wl()<=zs.a.DEBUG&&Jl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Hp.resolve({Ws:!0,js:r,Gs:i,zs:t})})},t}(),fm=function(){function t(t,e){this.db=t,this._r=function(t,e){return new hm(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Sr=function(t){var e=0;return this.gr(t,function(t){e++}).next(function(){return e})},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,function(t,n){return e(n)})},t.prototype.sr=function(t,e,n){return dm(t,n)},t.prototype.rr=function(t,e,n){return dm(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Fi=function(t,e){return dm(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return nm(t)._s(function(r){return Xg(t,r,e).next(function(t){return t&&(n=!0),Hp.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Or().Fr(),i=[],o=0;return this.Cr(t,function(s,a){if(a<=e){var u=n.Nr(t,s).next(function(e){if(!e)return o++,r.fi(t,s).next(function(){return r._i(s),am(t).delete([0,ng(s.path)])})});i.push(u)}}).next(function(){return Hp.$n(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return dm(t,e)},t.prototype.Cr=function(t,e){var n,r=am(t),i=Eh.U;return r.ls({index:mg.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Eh.U&&e(new kh(og(n)),i),i=s,n=o):i=Eh.U}).next(function(){i!==Eh.U&&e(new kh(og(n)),i)})},t.prototype.br=function(t){return this.db.Or().Mr(t)},t}();function dm(t,e){return am(t).put(function(t,e){return new mg(0,ng(t.path),e)}(e,t.vs))}var pm=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return ym(t).put(vm(e),n)},t.prototype._i=function(t,e){var n=ym(t),r=vm(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Lr(t,r)})},t.prototype.fi=function(t,e){var n=this;return ym(t).get(vm(e)).next(function(t){return n.$r(t)})},t.prototype.Br=function(t,e){var n=this;return ym(t).get(vm(e)).next(function(t){var e=n.$r(t);return e?{li:e,size:Zg(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=qd();return this.qr(t,e,function(t,e){var i=n.$r(e);r=r.Ht(t,i)}).next(function(){return r})},t.prototype.Ur=function(t,e){var n=this,r=qd(),i=new Dd(kh.J);return this.qr(t,e,function(t,e){var o=n.$r(e);o?(r=r.Ht(t,o),i=i.Ht(t,Zg(e))):(r=r.Ht(t,null),i=i.Ht(t,0))}).next(function(){return{Qr:r,Kr:i}})},t.prototype.qr=function(t,e,n){if(e.nt())return Hp.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return ym(t).ls({range:r},function(t,e,r){for(var s=kh.Tt(t);o&&kh.J(o,s)<0;)n(o,null),o=i.ce();o&&o.isEqual(s)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ae()?i.ce():null})},t.prototype.Wr=function(t,e,n){var r=this,i=zd(),o=e.path.length+1,s={};if(n.isEqual(xh.min())){var a=e.path.rt();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.rt(),c=kg(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=dg.collectionReadTimeIndex}return ym(t).ls(s,function(t,n,s){if(t.length===o){var a=Ig(r.Kt,n);e.path.st(a.key.path)?a instanceof cf&&Gf(e,a)&&(i=i.Ht(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.Fr=function(t){return new gm(this,!!t&&t.jr)},t.prototype.Mr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return mm(t).get(pg.key).next(function(t){return th(!!t),t})},t.prototype.Lr=function(t,e){return mm(t).put(pg.key,e)},t.prototype.$r=function(t){if(t){var e=Ig(this.Kt,t);return e instanceof lf&&e.version.isEqual(xh.min())?null:e}return null},t}(),gm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.jr=n,r.zr=new Wg(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Gl.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new Vd(function(t,e){return ih(t.ot(),e.ot())});return this.oi.forEach(function(o,s){var a=e.zr.get(o);if(s.li){var u=Ag(e.Gr.Kt,s.li,e.ai(o));i=i.add(o.path.Z());var c=Zg(u);r+=c-a,n.push(e.Gr.ui(t,o,u))}else if(r-=a,e.jr){var l=Ag(e.Gr.Kt,new lf(o,xh.min()),e.ai(o));n.push(e.Gr.ui(t,o,l))}else n.push(e.Gr._i(t,o))}),i.forEach(function(r){n.push(e.Gr.Ti.Us(t,r))}),n.push(this.Gr.updateMetadata(t,r)),Hp.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next(function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)})},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next(function(t){var e=t.Qr;return t.Kr.forEach(function(t,e){n.zr.set(t,e)}),e})},e}(Jg);function mm(t){return Cg(t,pg.store)}function ym(t){return Cg(t,dg.store)}function vm(t){return t.path.rt()}var bm=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;th(n<r&&n>=0&&r<=11);var o=new zp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(ag.store)}(t),function(t){t.createObjectStore(ug.store,{keyPath:ug.keyPath}),t.createObjectStore(cg.store,{keyPath:cg.keyPath,autoIncrement:!0}).createIndex(cg.userMutationsIndex,cg.userMutationsKeyPath,{unique:!0}),t.createObjectStore(lg.store)}(t),wm(t),function(t){t.createObjectStore(dg.store)}(t));var s=Hp.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(mg.store),t.deleteObjectStore(gg.store),t.deleteObjectStore(yg.store)}(t),wm(t)),s=s.next(function(){return function(t){var e=t.store(yg.store),n=new yg(0,0,xh.min().G(),0);return e.put(yg.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(cg.store).os().next(function(n){t.deleteObjectStore(cg.store),t.createObjectStore(cg.store,{keyPath:cg.keyPath,autoIncrement:!0}).createIndex(cg.userMutationsIndex,cg.userMutationsKeyPath,{unique:!0});var r=e.store(cg.store),i=n.map(function(t){return r.put(t)});return Hp.$n(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(bg.store,{keyPath:bg.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Hr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(pg.store)}(t),i.Jr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Yr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Xr(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(dg.store);e.createIndex(dg.readTimeIndex,dg.readTimeIndexPath,{unique:!1}),e.createIndex(dg.collectionReadTimeIndex,dg.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Zr(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(wg.store,{keyPath:wg.keyPath})}(t),function(t){t.createObjectStore(_g.store,{keyPath:_g.keyPath})}(t)})),s},t.prototype.Jr=function(t){var e=0;return t.store(dg.store).ls(function(t,n){e+=Zg(n)}).next(function(){var n=new pg(e);return t.store(pg.store).put(pg.key,n)})},t.prototype.Hr=function(t){var e=this,n=t.store(ug.store),r=t.store(cg.store);return n.os().next(function(n){return Hp.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(cg.userMutationsIndex,i).next(function(r){return Hp.forEach(r,function(r){th(r.userId===n.userId);var i=Dg(e.Kt,r);return Yg(t,n.userId,i).next(function(){})})})})})},t.prototype.Yr=function(t){var e=t.store(mg.store),n=t.store(dg.store);return t.store(yg.store).get(yg.key).next(function(t){var r=[];return n.ls(function(n,i){var o=new Th(n),s=function(t){return[0,ng(t)]}(o);r.push(e.get(s).next(function(n){return n?Hp.resolve():function(n){return e.put(new mg(0,ng(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Hp.$n(r)})})},t.prototype.Xr=function(t,e){t.createObjectStore(vg.store,{keyPath:vg.keyPath});var n=e.store(vg.store),r=new Hg,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:ng(i)})}};return e.store(dg.store).ls({hs:!0},function(t,e){var n=new Th(t);return i(n.Z())}).next(function(){return e.store(lg.store).ls({hs:!0},function(t,e){var n=og(t[1]);return i(n.Z())})})},t.prototype.Zr=function(t){var e=this,n=t.store(gg.store);return n.ls(function(t,r){var i=Rg(r),o=Lg(e.Kt,i);return n.put(o)})},t}();function wm(t){t.createObjectStore(mg.store,{keyPath:mg.keyPath}).createIndex(mg.documentTargetsIndex,mg.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(gg.store,{keyPath:gg.keyPath}).createIndex(gg.queryTargetsIndexName,gg.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(yg.store)}var _m="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Om=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=o,this.window=s,this.document=a,this.no=c,this.so=l,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.Wn())throw new ch(uh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new fm(this,i),this.lo=n+"main",this.Kt=new Tg(u),this._o=new Bp(this.lo,11,new bm(this.Kt)),this.fo=new im(this.Ii,this.Kt),this.Ti=new zg,this.wo=function(t,e){return new pm(t,e)}(this.Kt,this.Ti),this.Eo=new Mg,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===l&&Yl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ch(uh.FAILED_PRECONDITION,_m);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.fo.Wi(e)})}).then(function(e){t.io=new Eh(e,t.no)}).then(function(){t.ro=!0}).catch(function(e){return t._o&&t._o.close(),Promise.reject(e)})},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object(Gl.b)(e,void 0,void 0,function(){return Object(Gl.d)(this,function(e){return this.Tr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn(function(n){return Object(Gl.b)(e,void 0,void 0,function(){return Object(Gl.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys(function(){return Object(Gl.b)(e,void 0,void 0,function(){return Object(Gl.d)(this,function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Cm(e).put(new bg(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.po(e).next(function(e){e||(t.isPrimary=!1,t.eo.bo(function(){return t.ho(!1)}))})}).next(function(){return t.vo(e)}).next(function(n){return t.isPrimary&&!n?t.So(e).next(function(){return!1}):!!n&&t.Do(e).next(function(){return!0})})}).catch(function(e){if($p(e))return Jl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Jl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.eo.bo(function(){return t.ho(e)}),t.isPrimary=e})},t.prototype.po=function(t){var e=this;return Em(t).get(ag.key).next(function(t){return Hp.resolve(e.Co(t))})},t.prototype.xo=function(t){return Cm(t).delete(this.clientId)},t.prototype.No=function(){return Object(Gl.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Gl.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.Fo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Cg(t,bg.store);return e.os().next(function(t){var n=r.Oo(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Hp.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.To)for(e=0,n=t;e<n.length;e++)this.To.removeItem(this.ko(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,function(){return t.Io().then(function(){return t.No()}).then(function(){return t.Ro()})})},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?Hp.resolve(!0):Em(t).get(ag.key).next(function(n){if(null!==n&&e.Fo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new ch(uh.FAILED_PRECONDITION,_m);return!1}}return!(!e.networkEnabled||!e.inForeground)||Cm(t).os().next(function(t){return void 0===e.Oo(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Jl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Lo=function(){return Object(Gl.b)(this,void 0,void 0,function(){var t=this;return Object(Gl.d)(this,function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[ag.store,bg.store],function(e){var n=new Eg(e,Eh.U);return t.So(n).next(function(){return t.xo(n)})})];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}})})},t.prototype.Oo=function(t,e){var n=this;return t.filter(function(t){return n.Fo(t.updateTimeMs,e)&&!n.Mo(t.clientId)})},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Cm(e).os().next(function(e){return t.Oo(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return Qg.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Or=function(){return this.wo},t.prototype.Wo=function(){return this.Ti},t.prototype.jo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Jl("IndexedDbPersistence","Starting transaction:",t),this._o.runTransaction(t,"readonly"===e?"readonly":"readwrite",Og,function(o){return r=new Eg(o,i.io?i.io.next():Eh.U),"readwrite-primary"===e?i.po(r).next(function(t){return!!t||i.vo(r)}).next(function(e){if(!e)throw Yl("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.eo.bo(function(){return i.ho(!1)}),new ch(uh.FAILED_PRECONDITION,tg);return n(r)}).next(function(t){return i.Do(r).next(function(){return t})}):i.Go(r).next(function(){return n(r)})}).then(function(t){return r.ps(),t})},t.prototype.Go=function(t){var e=this;return Em(t).get(ag.key).next(function(t){if(null!==t&&e.Fo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new ch(uh.FAILED_PRECONDITION,_m)})},t.prototype.Do=function(t){var e=new ag(this.clientId,this.allowTabSynchronization,Date.now());return Em(t).put(ag.key,e)},t.Wn=function(){return Bp.Wn()},t.prototype.So=function(t){var e=this,n=Em(t);return n.get(ag.key).next(function(t){return e.Co(t)?(Jl("IndexedDbPersistence","Releasing primary lease."),n.delete(ag.key)):Hp.resolve()})},t.prototype.Fo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Yl("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys(function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()})},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys(function(){return e.Lo()})},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return Jl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Yl("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){Yl("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Em(t){return Cg(t,ag.store)}function Cm(t){return Cg(t,bg.store)}function xm(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Sm=function(t,e){this.progress=t,this.zo=e},Tm=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next(function(r){return n.Yo(t,e,r)})},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t})},t.prototype.Xo=function(t,e,n){var r=qd();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].xs(t,e);r=r.Ht(t,e)}),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next(function(e){return n.tc(t,e)})},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next(function(r){var i=n.Xo(t,e,r),o=Fd();return i.forEach(function(t,e){e||(e=new lf(t,xh.min())),o=o.Ht(t,e)}),o})},t.prototype.Wr=function(t,e,n){return function(t){return kh.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):Uf(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new kh(e)).next(function(t){var e=zd();return t instanceof cf&&(e=e.Ht(t.key,t)),e})},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=zd();return this.Ti.Qs(t,i).next(function(s){return Hp.forEach(s,function(s){var a=function(t,e){return new Nf(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.sc(t,a,n).next(function(t){t.forEach(function(t,e){o=o.Ht(t,e)})})}).next(function(){return o})})},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.wo.Wr(t,e,n).next(function(n){return r=n,o.Ho.Ci(t,e)}).next(function(e){return o.ic(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=yd(u,r.get(c),0,o.Ss);r=l instanceof cf?r.Ht(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Gf(e,n)||(r=r.remove(t))}),r})},t.prototype.ic=function(t,e,n){for(var r=$d(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Od&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.wo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof cf&&(c=c.Ht(t,e))}),c})},t}(),Im=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=$d(),i=$d(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Am=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.Wr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(xh.min())?this.hc(t,e):this.uc.Zo(t,r).next(function(o){var s=i.lc(e,o);return(Rf(e)||Lf(e))&&i._c(e.limitType,s,r,n)?i.hc(t,e):(Wl()<=zs.a.DEBUG&&Jl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Kf(e)),i.uc.Wr(t,e,n).next(function(t){return s.forEach(function(e){t=t.Ht(e.key,e)}),t}))})},t.prototype.lc=function(t,e){var n=new Vd($f(t));return e.forEach(function(e,r){r instanceof cf&&Gf(t,r)&&(n=n.add(r))}),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return Wl()<=zs.a.DEBUG&&Jl("QueryEngine","Using full collection scan to execute query:",Kf(e)),this.uc.Wr(t,e,xh.min())},t}(),km=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new Dd(ih),this.wc=new Wg(function(t){return pf(t)},gf),this.Ec=xh.min(),this.Ho=t.Ko(n),this.Tc=t.Or(),this.fo=t.Dr(),this.Ic=new Tm(this.Tc,this.Ho,this.persistence.Wo()),this.Eo=t.jo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.pr(n,e.dc)})},t}();function jm(t,e,n,r){return new km(t,e,n,r)}function Nm(t,e){return Object(Gl.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Gl.d)(this,function(s){switch(s.label){case 0:return n=eh(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Ho.bi(t).next(function(s){return o=s,r=n.persistence.Ko(e),i=new Tm(n.Tc,r,n.persistence.Wo()),r.bi(t)}).next(function(e){for(var n=[],r=[],s=$d(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.Zo(t,s).next(function(t){return{mc:t,Ac:n,Rc:r}})})})];case 1:return o=s.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}})})}function Pm(t,e){var n=eh(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Tc.Fr({jr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Hp.resolve();return o.forEach(function(t){s=s.next(function(){return r.fi(e,t)}).next(function(e){var o=e,s=n.Os.get(t);th(null!==s),(!o||o.version.u(s)<0)&&(o=i.Ds(t,o,n))&&r.ui(o,n.Fs)})}),s.next(function(){return t.Ho.xi(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Ho.Oi(t)}).next(function(){return n.Ic.Zo(t,r)})})}function Dm(t){var e=eh(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.fo.Ki(t)})}function Rm(t,e){var n=eh(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Tc.Fr({jr:!0});i=n.dc;var s=[];e.Oe.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.fo.ir(t,e.Ke,o).next(function(){return n.fo.nr(t,e.Ue,o)}));var u=e.resumeToken;if(u.o()>0){var c=a.$t(u,r).Lt(t.vs);i=i.Ht(o,c),function(t,e,n){return th(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,c,e)&&s.push(n.fo.Ji(t,c))}}});var a=Fd();if(e.Me.forEach(function(r,i){e.Le.has(r)&&s.push(n.persistence.Ii.kr(t,r))}),s.push(Lm(t,o,e.Me,r,void 0).next(function(t){a=t})),!r.isEqual(xh.min())){var u=n.fo.Ki(t).next(function(e){return n.fo.ji(t,t.vs,r)});s.push(u)}return Hp.$n(s).next(function(){return o.apply(t)}).next(function(){return n.Ic.tc(t,a)})}).then(function(t){return n.dc=i,t})}function Lm(t,e,n,r,i){var o=$d();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Fd();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof lf&&s.version.isEqual(xh.min())?(e._i(n,u),o=o.Ht(n,s)):null==a||s.version.u(a.version)>0||0===s.version.u(a.version)&&a.hasPendingWrites?(e.ui(s,u),o=o.Ht(n,s)):Jl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Vm(t,e){var n=eh(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)})}function Mm(t,e){var n=eh(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.fo.er(t,e).next(function(i){return i?Hp.resolve(r=i):n.fo.qi(t).next(function(i){return r=new Jf(e,i,0,t.vs),n.fo.Gi(t,r).next(function(){return r})})})}).then(function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t})}function Um(t,e,n){return Object(Gl.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Gl.d)(this,function(a){switch(a.label){case 0:r=eh(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Ii.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!$p(s=a.sent()))throw s;return Jl("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}})})}function Fm(t,e,n){var r=eh(t),i=xh.min(),o=$d();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=eh(t),i=r.wc.get(n);return void 0!==i?Hp.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,qf(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next(function(t){o=t})}).next(function(){return r.fc.Wr(t,e,n?i:xh.min(),n?o:$d())}).next(function(t){return{documents:t,Pc:o}})})}function qm(t,e){var n=eh(t),r=eh(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Dn(t,e).next(function(t){return t?t.target:null})})}function Hm(t){var e=eh(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=eh(t),i=Fd(),o=kg(n),s=ym(e),a=IDBKeyRange.lowerBound(o,!0);return s.ls({index:dg.readTimeIndex,range:a},function(t,e){var n=Ig(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime}).next(function(){return{zo:i,readTime:jg(o)}})}(e.Tc,t,e.Ec)}).then(function(t){var n=t.zo;return e.Ec=t.readTime,n})}function zm(t){return Object(Gl.b)(this,void 0,void 0,function(){var e;return Object(Gl.d)(this,function(n){return[2,(e=eh(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=ym(t),n=xh.min();return e.ls({index:dg.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=jg(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Ec=t})]})})}function Bm(t,e,n,r){return Object(Gl.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(Gl.d)(this,function(p){switch(p.label){case 0:for(i=eh(t),o=$d(),s=Fd(),a=Kd(),u=0,c=n;u<c.length;u++)h=e.yc((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.Ht(h,e.gc(l)),a=a.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Fr({jr:!0}),[4,Mm(i,function(t){return qf(Df(Th.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Lm(t,f,s,xh.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.fo.Xi(t,d.targetId).next(function(){return i.fo.nr(t,o,d.targetId)}).next(function(){return i.Ic.tc(t,e)})})})]}})})}function Km(t,e,n){return void 0===n&&(n=$d()),Object(Gl.b)(this,void 0,void 0,function(){var r,i;return Object(Gl.d)(this,function(o){switch(o.label){case 0:return[4,Mm(t,qf(Vg(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=eh(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=pp(e.readTime);if(r.Mt.u(o)>=0)return i.Eo.Bs(t,e);var s=r.$t(ah.h,o);return i.dc=i.dc.Ht(s.targetId,s),i.fo.Ji(t,s).next(function(){return i.fo.Xi(t,r.targetId)}).next(function(){return i.fo.nr(t,n,r.targetId)}).next(function(){return i.Eo.Bs(t,e)})})]}})})}var Gm=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return Hp.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:pp(n.createTime)}),Hp.resolve()},t.prototype.$s=function(t,e){return Hp.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:Vg(t.bundledQuery),readTime:pp(t.readTime)}}(e)),Hp.resolve()},t}(),$m=function(){function t(){this.Sc=new Vd(Wm.Dc),this.Cc=new Vd(Wm.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new Wm(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach(function(t){return n.sr(t,e)})},t.prototype.rr=function(t,e){this.Fc(new Wm(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach(function(t){return n.rr(t,e)})},t.prototype.kc=function(t){var e=this,n=new kh(new Th([])),r=new Wm(n,t),i=new Wm(n,t+1),o=[];return this.Cc.Ae([r,i],function(t){e.Fc(t),o.push(t.key)}),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach(function(e){return t.Fc(e)})},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new kh(new Th([])),n=new Wm(e,t),r=new Wm(e,t+1),i=$d();return this.Cc.Ae([n,r],function(t){i=i.add(t.key)}),i},t.prototype.ki=function(t){var e=new Wm(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),Wm=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return kh.J(t.key,e.key)||ih(t.$c,e.$c)},t.xc=function(t,e){return ih(t.$c,e.$c)||kh.J(t.key,e.key)},t}(),Jm=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new Vd(Wm.Dc)}return t.prototype.Ri=function(t){return Hp.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++;var o=new xg(i,e,n,r);this.Ho.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.qc=this.qc.add(new Wm(u.key,i)),this.Ti.Us(t,u.key.path.Z())}return Hp.resolve(o)},t.prototype.yi=function(t,e){return Hp.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return Hp.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.pi=function(){return Hp.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return Hp.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new Wm(e,0),i=new Wm(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],function(t){var e=n.Uc(t.$c);o.push(e)}),Hp.resolve(o)},t.prototype.Si=function(t,e){var n=this,r=new Vd(ih);return e.forEach(function(t){var e=new Wm(t,0),i=new Wm(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],function(t){r=r.add(t.$c)})}),Hp.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;kh.Et(i)||(i=i.child(""));var o=new Wm(new kh(i),0),s=new Vd(ih);return this.qc.Re(function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(s=s.add(t.$c)),!0)},o),Hp.resolve(this.Kc(s))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.Uc(t);null!==r&&n.push(r)}),n},t.prototype.xi=function(t,e){var n=this;th(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return Hp.forEach(e.mutations,function(i){var o=new Wm(i.key,e.batchId);return r=r.delete(o),n.Ii.Fi(t,i.key)}).next(function(){n.qc=r})},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new Wm(e,0),r=this.qc.Pe(n);return Hp.resolve(e.isEqual(r&&r.key))},t.prototype.Oi=function(t){return Hp.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),Ym=function(){function t(t,e){this.Ti=t,this.jc=e,this.docs=new Dd(kh.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.jc(e);return this.docs=this.docs.Ht(r,{li:e,size:s,readTime:n}),this.size+=s-o,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return Hp.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=qd();return e.forEach(function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)}),Hp.resolve(r)},t.prototype.Wr=function(t,e,n){for(var r=zd(),i=new kh(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=o.ce(),a=s.value,u=a.li,c=a.readTime;if(!e.path.st(s.key.path))break;c.u(n)<=0||u instanceof cf&&Gf(e,u)&&(r=r.Ht(u.key,u))}return Hp.resolve(r)},t.prototype.Gc=function(t,e){return Hp.forEach(this.docs,function(t){return e(t)})},t.prototype.Fr=function(t){return new Zm(this)},t.prototype.Mr=function(t){return Hp.resolve(this.size)},t}(),Zm=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object(Gl.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach(function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)}),Hp.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(Jg),Qm=function(){function t(t){this.persistence=t,this.zc=new Wg(function(t){return pf(t)},gf),this.lastRemoteSnapshotVersion=xh.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new $m,this.targetCount=0,this.Yc=rm.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach(function(t,n){return e(n)}),Hp.resolve()},t.prototype.Ki=function(t){return Hp.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Wi=function(t){return Hp.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),Hp.resolve(this.highestTargetId)},t.prototype.ji=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),Hp.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new rm(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,Hp.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),Hp.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,Hp.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(s),o.push(r.Xi(t,a.targetId)),i++)}),Hp.$n(o).next(function(){return i})},t.prototype.tr=function(t){return Hp.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return Hp.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),Hp.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach(function(e){i.push(r.Fi(t,e))}),Hp.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),Hp.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return Hp.resolve(n)},t.prototype.ki=function(t,e){return Hp.resolve(this.Jc.ki(e))},t}(),Xm=function(){function t(t,e){var n=this;this.Xc={},this.io=new Eh(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new Qm(this),this.Ti=new qg,this.wo=function(t,e){return new Ym(t,function(t){return n.Ii.Zc(t)})}(this.Ti),this.Kt=new Tg(e),this.Eo=new Gm(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.Wo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new Jm(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Or=function(){return this.wo},t.prototype.jo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;Jl("MemoryPersistence","Starting transaction:",t);var i=new ty(this.io.next());return this.Ii.ta(),n(i).next(function(t){return r.Ii.ea(i).next(function(){return t})}).Mn().then(function(t){return i.ps(),t})},t.prototype.na=function(t,e){return Hp.Bn(Object.values(this.Xc).map(function(n){return function(){return n.ki(t,e)}}))},t}(),ty=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object(Gl.c)(e,t),e}(eg),ey=function(){function t(t){this.persistence=t,this.sa=new $m,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw Xl()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),Hp.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),Hp.resolve()},t.prototype.Fi=function(t,e){return this.oa.add(e.toString()),Hp.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach(function(t){return n.oa.add(t.toString())});var r=this.persistence.Dr();return r.cr(t,e.targetId).next(function(t){t.forEach(function(t){return n.oa.add(t.toString())})}).next(function(){return r.Yi(t,e)})},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Or().Fr();return Hp.forEach(this.oa,function(r){var i=kh.ft(r);return e.ca(t,i).next(function(t){t||n._i(i)})}).next(function(){return e.ia=null,n.apply(t)})},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next(function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())})},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return Hp.Bn([function(){return Hp.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function ny(t,e){return"firestore_clients_"+t+"_"+e}function ry(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function iy(t,e){return"firestore_targets_"+t+"_"+e}var oy=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new ch(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(Yl("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),sy=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new ch(r.error.code,r.error.message)),i?new t(e,r.state,o):(Yl("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ay=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Jd(),s=0;i&&s<r.activeTargetIds.length;++s)i=Bh(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Yl("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),uy=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Yl("SharedClientState","Failed to parse online state: "+e),null)},t}(),cy=function(){function t(){this.activeTargetIds=Jd()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),ly=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new Dd(ih),this.Tr=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=ny(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new cy),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Gl.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(Gl.d)(this,function(h){switch(h.label){case 0:return[4,this.fa.Qo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(ny(this.persistenceKey,r)))&&(o=ay.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(a=this.ba(s))&&this.va(a),u=0,c=this.Ia;u<c.length;u++)this.Ea(c[u]);return this.Ia=[],this.window.addEventListener("unload",function(){return l.Lo()}),this.Tr=!0,[2]}})})},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(iy(this.persistenceKey,t));if(n){var r=sy.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(iy(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach(function(t){r.Oa(t)}),this.currentUser=t,n.forEach(function(t){r.xa(t)})},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Jl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Jl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Jl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Jl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void Yl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo(function(){return Object(Gl.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(Gl.d)(this,function(a){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=Eh.U;if(null!=t)try{var n=JSON.parse(t);th("number"==typeof n),e=n}catch(t){Yl("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Eh.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new oy(this.currentUser,t,e,n),i=ry(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Oa=function(t){var e=ry(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=iy(this.persistenceKey,t),i=new sy(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return ay.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return oy.aa(new yh(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return sy.aa(r,e)},t.prototype.ba=function(t){return uy.aa(t)},t.prototype.Xa=function(t){return Object(Gl.b)(this,void 0,void 0,function(){return Object(Gl.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(Jl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.fa.iu(s,a).then(function(){n.Ta=r})},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=Jd();return t.forEach(function(t,n){e=e.ye(n.activeTargetIds)}),e},t}(),hy=function(){function t(){this.ru=new cy,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new cy,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),fy=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),dy=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){Jl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){Jl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),py={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},gy=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),my=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(Gl.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise(function(i,o){var s=new Kl;s.listenOnce(Hl.COMPLETE,function(){try{switch(s.getLastErrorCode()){case ql.NO_ERROR:var e=s.getResponseJson();Jl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case ql.TIMEOUT:Jl("Connection",'RPC "'+t+'" timed out'),o(new ch(uh.DEADLINE_EXCEEDED,"Request time out"));break;case ql.HTTP_ERROR:var n=s.getStatus();if(Jl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(uh).indexOf(e)>=0?e:uh.UNKNOWN}(r.status);o(new ch(a,r.message))}else o(new ch(uh.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new ch(uh.UNAVAILABLE,"Connection failed."));break;default:Xl()}}finally{Jl("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Ll,i=Uu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),Object(Bs.l)()||Object(Bs.n)()||Object(Bs.j)()||Object(Bs.k)()||Object(Bs.o)()||Object(Bs.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Jl("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new gy({du:function(t){c?Jl("Connection","Not sending because WebChannel is closed:",t):(u||(Jl("Connection","Opening WebChannel transport."),a.open(),u=!0),Jl("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Bl.EventType.OPEN,function(){c||Jl("Connection","WebChannel transport opened.")}),h(a,Bl.EventType.CLOSE,function(){c||(c=!0,Jl("Connection","WebChannel transport closed"),l.Pu())}),h(a,Bl.EventType.ERROR,function(t){c||(c=!0,Zl("Connection","WebChannel transport errored:",t),l.Pu(new ch(uh.UNAVAILABLE,"The operation could not be completed")))}),h(a,Bl.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];th(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Jl("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Td[t];if(void 0!==e)return Pd(e)}(i),s=r.message;void 0===o&&(o=uh.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new ch(o,s)),a.close()}else Jl("Connection","WebChannel received:",n),l.yu(n)}}),h(i,zl.STAT_EVENT,function(t){10===t.stat?Jl("Connection","Detected buffering proxy"):11===t.stat&&Jl("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ru()},0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);Jl("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then(function(t){return Jl("RestConnection","Received: ",t),t},function(e){throw Zl("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.4",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+py[t]},t}());function yy(){return"undefined"!=typeof window?window:null}function vy(){return"undefined"!=typeof document?document:null}function by(t){return new lp(t,!0)}var wy=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&Jl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,function(){return e.Lu=Date.now(),t()}),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),_y=function(){function t(t,e,n,r,i,o){this.eo=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=o,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new wy(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(Gl.b)(this,void 0,void 0,function(){return Object(Gl.d)(this,function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,function(){return t.th()}))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(Gl.b)(this,void 0,void 0,function(){return Object(Gl.d)(this,function(t){return this.Ju()?[2,this.close(0)]:[2]})})},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(Gl.b)(this,void 0,void 0,function(){return Object(Gl.d)(this,function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===uh.RESOURCE_EXHAUSTED?(Yl(e.toString()),Yl("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===uh.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}})})},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then(function(e){t.ju===n&&t.rh(e)},function(n){e(function(){var e=new ch(uh.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)})})},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu(function(){n(function(){return e.state=2,e.listener.Eu()})}),this.stream.Iu(function(t){n(function(){return e.oh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu(function(){return Object(Gl.b)(t,void 0,void 0,function(){return Object(Gl.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.oh=function(t){return Jl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys(function(){return e.ju===t?n():(Jl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Oy=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,s}return Object(Gl.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Xl()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(th(void 0===e||"string"==typeof e),ah.fromBase64String(e||"")):(th(void 0===e||e instanceof Uint8Array),ah.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?uh.UNKNOWN:Pd(t.code);return new ch(e,t.message||"")}(a);n=new rp(r,i,o,s||null)}else if("documentChange"in e){i=vp(t,(r=e.documentChange).document.name),o=pp(r.document.updateTime);var a=new of({mapValue:{fields:r.document.fields}}),u=(s=new cf(i,o,a,{}),r.targetIds||[]);n=new ep(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=vp(t,(r=e.documentDelete).document),o=r.readTime?pp(r.readTime):xh.min(),a=new lf(i,o),n=new ep([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=vp(t,(r=e.documentRemove).document),n=new ep([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Xl();var c=e.filter;i=new jd(r=c.count||0),n=new np(o=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return xh.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?xh.min():e.readTime?pp(e.readTime):xh.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=_p(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=mf(r)?{documents:Tp(t,r)}:{query:Ip(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=fp(t,e.resumeToken):e.Mt.u(xh.min())>0&&(n.readTime=hp(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xl()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=_p(this.Kt),e.removeTarget=t,this.eh(e)},e}(_y),Ey=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,s._h=!1,s}return Object(Gl.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(th(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(th(void 0!==e),t.map(function(t){return function(t,e){var n=pp(t.updateTime?t.updateTime:e);n.isEqual(xh.min())&&(n=pp(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new fd(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=pp(t.commitTime);return this.listener.wh(n,e)}return th(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=_p(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return xp(e.Kt,t)})};this.eh(n)},e}(_y),Cy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(Gl.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new ch(uh.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.bu(t,e,n,i)}).catch(function(t){throw t.code===uh.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.Cu(t,e,n,i)}).catch(function(t){throw t.code===uh.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.terminate=function(){this.Ih=!1},e}(function(){}),xy=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()}))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(Yl(e),this.Ph=!1):Jl("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),Sy=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu(function(t){n.ys(function(){return Object(Gl.b)(o,void 0,void 0,function(){return Object(Gl.d)(this,function(t){switch(t.label){case 0:return Ry(this)?(Jl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Gl.b)(this,void 0,void 0,function(){var e;return Object(Gl.d)(this,function(n){switch(n.label){case 0:return(e=eh(t)).Fh.add(4),[4,Iy(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,Ty(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Mh=new xy(n,r)};function Ty(t){return Object(Gl.b)(this,void 0,void 0,function(){var e,n;return Object(Gl.d)(this,function(r){switch(r.label){case 0:if(!Ry(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Iy(t){return Object(Gl.b)(this,void 0,void 0,function(){var e,n;return Object(Gl.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Ay(t,e){var n=eh(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),Dy(n)?Py(n):Yy(n).Ju()&&jy(n,e))}function ky(t,e){var n=eh(t),r=Yy(n);n.Nh.delete(e),r.Ju()&&Ny(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():Ry(n)&&n.Mh.set("Unknown"))}function jy(t,e){t.Lh.cn(e.targetId),Yy(t).hh(e)}function Ny(t,e){t.Lh.cn(e),Yy(t).lh(e)}function Py(t){t.Lh=new op({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),Yy(t).start(),t.Mh.yh()}function Dy(t){return Ry(t)&&!Yy(t).Hu()&&t.Nh.size>0}function Ry(t){return 0===eh(t).Fh.size}function Ly(t){t.Lh=void 0}function Vy(t){return Object(Gl.b)(this,void 0,void 0,function(){return Object(Gl.d)(this,function(e){return t.Nh.forEach(function(e,n){jy(t,e)}),[2]})})}function My(t,e){return Object(Gl.b)(this,void 0,void 0,function(){return Object(Gl.d)(this,function(n){return Ly(t),Dy(t)?(t.Mh.ph(e),Py(t)):t.Mh.set("Unknown"),[2]})})}function Uy(t,e,n){return Object(Gl.b)(this,void 0,void 0,function(){var r,i,o;return Object(Gl.d)(this,function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof rp&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Gl.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Gl.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Nh.has(o=i[r])?[4,t.Ch.$h(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Jl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Fy(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ep?t.Lh.wn(e):e instanceof np?t.Lh.yn(e):t.Lh.In(e),n.isEqual(xh.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Dm(t.Sh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}}),n.ke.forEach(function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(ah.h,n.Mt)),Ny(t,e);var r=new Jf(n.target,e,1,n.sequenceNumber);jy(t,r)}}),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Jl("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Fy(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Fy(t,e,n){return Object(Gl.b)(this,void 0,void 0,function(){var r=this;return Object(Gl.d)(this,function(i){switch(i.label){case 0:if(!$p(e))throw e;return t.Fh.add(1),[4,Iy(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return Dm(t.Sh)}),t.fs.bo(function(){return Object(Gl.b)(r,void 0,void 0,function(){return Object(Gl.d)(this,function(e){switch(e.label){case 0:return Jl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,Ty(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function qy(t,e){return e().catch(function(n){return Fy(t,n,e)})}function Hy(t){return Object(Gl.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Gl.d)(this,function(s){switch(s.label){case 0:e=eh(t),n=Zy(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Ry(t)&&t.xh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Vm(e.Sh,r)];case 3:return null===(i=s.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=Zy(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Fy(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return zy(e)&&By(e),[2]}})})}function zy(t){return Ry(t)&&!Zy(t).Hu()&&t.xh.length>0}function By(t){Zy(t).start()}function Ky(t){return Object(Gl.b)(this,void 0,void 0,function(){return Object(Gl.d)(this,function(e){return Zy(t).Th(),[2]})})}function Gy(t){return Object(Gl.b)(this,void 0,void 0,function(){var e,n,r;return Object(Gl.d)(this,function(i){for(e=Zy(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]})})}function $y(t,e,n){return Object(Gl.b)(this,void 0,void 0,function(){var r,i;return Object(Gl.d)(this,function(o){switch(o.label){case 0:return r=t.xh.shift(),i=Sg.from(r,e,n),[4,qy(t,function(){return t.Ch.qh(i)})];case 1:return o.sent(),[4,Hy(t)];case 2:return o.sent(),[2]}})})}function Wy(t,e){return Object(Gl.b)(this,void 0,void 0,function(){return Object(Gl.d)(this,function(n){switch(n.label){case 0:return e&&Zy(t).fh?[4,function(t,e){return Object(Gl.b)(this,void 0,void 0,function(){var n,r;return Object(Gl.d)(this,function(i){switch(i.label){case 0:return Nd(r=e.code)&&r!==uh.ABORTED?(n=t.xh.shift(),Zy(t).Xu(),[4,qy(t,function(){return t.Ch.Uh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Hy(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return zy(t)&&By(t),[2]}})})}function Jy(t,e){return Object(Gl.b)(this,void 0,void 0,function(){var n;return Object(Gl.d)(this,function(r){switch(r.label){case 0:return n=eh(t),e?(n.Fh.delete(2),[4,Ty(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,Iy(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Yy(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=eh(t);return r.mh(),new Oy(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Vy.bind(null,t),Iu:My.bind(null,t),uh:Uy.bind(null,t)}),t.Oh.push(function(n){return Object(Gl.b)(e,void 0,void 0,function(){return Object(Gl.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),Dy(t)?Py(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),Ly(t),e.label=3;case 3:return[2]}})})})),t.Qh}function Zy(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=eh(t);return r.mh(),new Ey(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Ky.bind(null,t),Iu:Wy.bind(null,t),Eh:Gy.bind(null,t),wh:$y.bind(null,t)}),t.Oh.push(function(n){return Object(Gl.b)(e,void 0,void 0,function(){return Object(Gl.d)(this,function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,Hy(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(Jl("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}})})})),t.Kh}var Qy=function(){this.Wh=void 0,this.listeners=[]},Xy=function(){this.queries=new Wg(function(t){return Bf(t)},zf),this.onlineState="Unknown",this.jh=new Set};function tv(t,e){return Object(Gl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Gl.d)(this,function(c){switch(c.label){case 0:if(n=eh(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Qy),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.Wh=c.sent(),[3,4];case 3:return a=c.sent(),u=Xp(a,"Initialization of query '"+Kf(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.Wh&&e.Hh(o.Wh)&&iv(n),[2]}})})}function ev(t,e){return Object(Gl.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Gl.d)(this,function(a){return n=eh(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]})})}function nv(t,e){for(var n=eh(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hh(s)&&(r=!0);a.Wh=s}}r&&iv(n)}function rv(t,e,n){var r=eh(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function iv(t){t.jh.forEach(function(t){t.next()})}var ov=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Qd(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=Qd.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),sv=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),av=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return vp(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?Cp(this.Kt,t.document,!1):new lf(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return pp(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new av(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.yc(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||$d()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Gl.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Gl.d)(this,function(o){switch(o.label){case 0:return[4,Bm(this.Sh,new av(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Km(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Sm(Object.assign({},this.progress),t))]}})})}}();var uv=function(t){this.key=t},cv=function(t){this.key=t},lv=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=$d(),this.Ce=$d(),this.ll=$f(t),this._l=new Yd(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new Zd,i=e?e._l:this._l,o=e?e.Ce:this.Ce,s=i,a=!1,u=Rf(this.query)&&i.size===this.query.limit?i.last():null,c=Lf(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt(function(t,e){var l=i.get(t),h=e instanceof cf?e:null;h&&(h=Gf(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ll(h,u)>0||c&&n.ll(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Rf(this.query)||Lf(this.query))for(;s.size>this.query.limit;){var l=Rf(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:s,wl:r,_c:a,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xl()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)}),this.Tl(n);var s=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,u=a!==this.ul;return this.ul=a,0!==o.length||u?{snapshot:new Qd(this.query,t._l,i,o,t.Ce,0===a,u,!1),ml:s}:{ml:s}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new Zd,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach(function(t){return e.al=e.al.add(t)}),t.Qe.forEach(function(t){}),t.Ke.forEach(function(t){return e.al=e.al.delete(t)}),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=$d(),this._l.forEach(function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))});var n=[];return e.forEach(function(e){t.hl.has(e)||n.push(new cv(e))}),this.hl.forEach(function(t){e.has(t)||n.push(new uv(t))}),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=$d();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return Qd.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),hv=function(t,e,n){this.query=t,this.targetId=e,this.view=n},fv=function(t){this.key=t,this.yl=!1},dv=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new Wg(function(t){return Bf(t)},zf),this.Dl=new Map,this.Cl=[],this.xl=new Dd(kh.J),this.Nl=new Map,this.Fl=new $m,this.Ol={},this.kl=new Map,this.Ml=rm.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function pv(t,e){return Object(Gl.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Gl.d)(this,function(a){switch(a.label){case 0:return n=zv(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,Mm(n.Sh,qf(e))];case 2:return o=a.sent(),s=n.pl.ka(o.targetId),[4,gv(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.$l&&Ay(n.gl,o),a.label=4;case 4:return[2,r]}})})}function gv(t,e,n,r){return Object(Gl.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(Gl.d)(this,function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(Gl.b)(this,void 0,void 0,function(){var i,o,s;return Object(Gl.d)(this,function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,Fm(t.Sh,e.query,!1).then(function(t){return e.view.dl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.Oe.get(e.targetId),s=e.view.Ei(i,t.$l,o),[2,(Iv(t,e.targetId,s.ml),s.snapshot)]}})})}(t,e,n,r)},[4,Fm(t.Sh,e,!0)];case 1:return i=l.sent(),o=new lv(e,i.Pc),s=o.dl(i.documents),a=tp.Be(n,r&&"Offline"!==t.onlineState),u=o.Ei(s,t.$l,a),Iv(t,n,u.ml),c=new hv(e,n,o),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}})})}function mv(t,e){return Object(Gl.b)(this,void 0,void 0,function(){var n,r,i;return Object(Gl.d)(this,function(o){switch(o.label){case 0:return n=eh(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter(function(t){return!zf(t,e)})),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,Um(n.Sh,r.targetId,!1).then(function(){n.pl.Ba(r.targetId),ky(n.gl,r.targetId),Sv(n,r.targetId)}).catch($g)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Sv(n,r.targetId),[4,Um(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function yv(t,e,n){return Object(Gl.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Gl.d)(this,function(a){switch(a.label){case 0:r=Bv(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=eh(t),i=Ch.now(),o=e.reduce(function(t,e){return t.add(e.key)},$d());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Ic.Zo(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=vd(c,n.get(c.key));null!=l&&s.push(new Od(c.key,l,af(l.proto.mapValue),dd.exists(!0)))}return r.Ho.Pi(t,i,s,e)})}).then(function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}})}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Ol[t.currentUser.R()];r||(r=new Dd(ih)),r=r.Ht(e,n),t.Ol[t.currentUser.R()]=r}(r,i.batchId,n),[4,jv(r,i.oi)];case 3:return a.sent(),[4,Hy(r.gl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Xp(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function vv(t,e){return Object(Gl.b)(this,void 0,void 0,function(){var n,r;return Object(Gl.d)(this,function(i){switch(i.label){case 0:n=eh(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Rm(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach(function(t,e){var r=n.Nl.get(e);r&&(th(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?th(r.yl):t.Ke.size>0&&(th(r.yl),r.yl=!1))}),[4,jv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,$g(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function bv(t,e,n){var r=eh(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach(function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=eh(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)}),r&&iv(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function wv(t,e,n){return Object(Gl.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(Gl.d)(this,function(c){switch(c.label){case 0:return(r=eh(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(s=(s=new Dd(kh.J)).Ht(o,new lf(o,xh.min())),a=$d().add(o),u=new Xd(xh.min(),new Map,new Vd(ih),s,a),[4,vv(r,u)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),kv(r),[3,4];case 2:return[4,Um(r.Sh,e,!1).then(function(){return Sv(r,e,n)}).catch($g)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function _v(t,e){return Object(Gl.b)(this,void 0,void 0,function(){var n,r,i;return Object(Gl.d)(this,function(o){switch(o.label){case 0:n=eh(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Pm(n.Sh,e)];case 2:return i=o.sent(),xv(n,r,null),Cv(n,r),n.pl.Fa(r,"acknowledged"),[4,jv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,$g(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Ov(t,e,n){return Object(Gl.b)(this,void 0,void 0,function(){var r,i;return Object(Gl.d)(this,function(o){switch(o.label){case 0:r=eh(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=eh(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Ho.yi(t,e).next(function(e){return th(null!==e),r=e.keys(),n.Ho.xi(t,e)}).next(function(){return n.Ho.Oi(t)}).next(function(){return n.Ic.Zo(t,r)})})}(r.Sh,e)];case 2:return i=o.sent(),xv(r,e,n),Cv(r,e),r.pl.Fa(e,"rejected",n),[4,jv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,$g(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Ev(t,e){return Object(Gl.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Gl.d)(this,function(a){switch(a.label){case 0:Ry((n=eh(t)).gl)||Jl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=eh(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ho.pi(t)})}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=a.sent(),s=Xp(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function Cv(t,e){(t.kl.get(e)||[]).forEach(function(t){t.resolve()}),t.kl.delete(e)}function xv(t,e,n){var r=eh(t),i=r.Ol[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i}}function Sv(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach(function(e){t.Fl.ki(e)||Tv(t,e)})}function Tv(t,e){var n=t.xl.get(e);null!==n&&(ky(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),kv(t))}function Iv(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof uv?(t.Fl.sr(o.key,e),Av(t,o)):o instanceof cv?(Jl("SyncEngine","Document no longer in limbo: "+o.key),t.Fl.rr(o.key,e),t.Fl.ki(o.key)||Tv(t,o.key)):Xl()}}function Av(t,e){var n=e.key;t.xl.get(n)||(Jl("SyncEngine","New document in limbo: "+n),t.Cl.push(n),kv(t))}function kv(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new fv(e)),t.xl=t.xl.Ht(e,n),Ay(t.gl,new Jf(qf(Df(e.path)),n,2,Eh.U))}}function jv(t,e,n){return Object(Gl.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Gl.d)(this,function(a){switch(a.label){case 0:return r=eh(t),i=[],o=[],s=[],r.Sl.nt()?[3,3]:(r.Sl.forEach(function(t,a){s.push(r.Bl(a,e,n).then(function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Im.cc(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Object(Gl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(Gl.d)(this,function(l){switch(l.label){case 0:n=eh(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Hp.forEach(e,function(e){return Hp.forEach(e.rc,function(r){return n.persistence.Ii.sr(t,e.targetId,r)}).next(function(){return Hp.forEach(e.oc,function(r){return n.persistence.Ii.rr(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!$p(r=l.sent()))throw r;return Jl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.dc.get(a),c=u.Bt(u.Mt),n.dc=n.dc.Ht(a,c));return[2]}})})}(r.Sh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Nv(t,e){return Object(Gl.b)(this,void 0,void 0,function(){var n,r;return Object(Gl.d)(this,function(i){switch(i.label){case 0:return(n=eh(t)).currentUser.isEqual(e)?[3,3]:(Jl("SyncEngine","User change. New user:",e.R()),[4,Nm(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach(function(t){t.forEach(function(t){t.reject(new ch(uh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,jv(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Pv(t,e){var n=eh(t),r=n.Nl.get(e);if(r&&r.yl)return $d().add(r.key);var i=$d(),o=n.Dl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Sl.get(a[s]);i=i.ye(u.view.fl)}return i}function Dv(t,e){return Object(Gl.b)(this,void 0,void 0,function(){var n,r,i;return Object(Gl.d)(this,function(o){switch(o.label){case 0:return[4,Fm((n=eh(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&Iv(n,e.targetId,i.ml),i)]}})})}function Rv(t){return Object(Gl.b)(this,void 0,void 0,function(){var e;return Object(Gl.d)(this,function(n){return[2,Hm((e=eh(t)).Sh).then(function(t){return jv(e,t)})]})})}function Lv(t,e,n,r){return Object(Gl.b)(this,void 0,void 0,function(){var i,o;return Object(Gl.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=eh(t),r=eh(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.gi(t,e).next(function(e){return e?n.Ic.Zo(t,e):Hp.resolve(null)})})}((i=eh(t)).Sh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Hy(i.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(xv(i,e,r||null),Cv(i,e),function(t,e){eh(eh(t).Ho).Ni(e)}(i.Sh,e)):Xl(),s.label=4;case 4:return[4,jv(i,o)];case 5:return s.sent(),[3,7];case 6:Jl("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function Vv(t,e){return Object(Gl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Gl.d)(this,function(c){switch(c.label){case 0:return zv(n=eh(t)),Bv(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,Mv(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,Jy(n.gl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Ay(n.gl,s[o]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],u=Promise.resolve(),n.Dl.forEach(function(t,e){n.pl.$a(e)?a.push(e):u=u.then(function(){return Sv(n,e),Um(n.Sh,e,!0)}),ky(n.gl,e)}),[4,u]);case 4:return c.sent(),[4,Mv(n,a)];case 5:return c.sent(),function(t){var e=eh(t);e.Nl.forEach(function(t,n){ky(e.gl,n)}),e.Fl.Mc(),e.Nl=new Map,e.xl=new Dd(kh.J)}(n),n.Ll=!1,[4,Jy(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Mv(t,e,n){return Object(Gl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(Gl.d)(this,function(g){switch(g.label){case 0:n=eh(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Dl.get(a=s[o]))&&0!==c.length?[4,Mm(n.Sh,qf(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,Dv(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,qm(n.Sh,a)];case 8:return p=g.sent(),[4,Mm(n.Sh,p)];case 9:return u=g.sent(),[4,gv(n,Uv(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}})})}function Uv(t){return Pf(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Fv(t){var e=eh(t);return eh(eh(e.Sh).persistence).Qo()}function qv(t,e,n,r){return Object(Gl.b)(this,void 0,void 0,function(){var i,o,s;return Object(Gl.d)(this,function(a){switch(a.label){case 0:return(i=eh(t)).Ll?(Jl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Hm(i.Sh)];case 3:return o=a.sent(),s=Xd.$e(e,"current"===n),[4,jv(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Um(i.Sh,e,!0)];case 6:return a.sent(),Sv(i,e,r),[3,8];case 7:Xl(),a.label=8;case 8:return[2]}})})}function Hv(t,e,n){return Object(Gl.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(Gl.d)(this,function(f){switch(f.label){case 0:if(!(r=zv(t)).Ll)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Dl.has(s=o[i])?(Jl("SyncEngine","Adding an already active target "+s),[3,5]):[4,qm(r.Sh,s)]:[3,6];case 2:return a=f.sent(),[4,Mm(r.Sh,a)];case 3:return u=f.sent(),[4,gv(r,Uv(a),u.targetId,!1)];case 4:f.sent(),Ay(r.gl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Gl.d)(this,function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,Um(r.Sh,t,!1).then(function(){ky(r.gl,t),Sv(r,t)}).catch($g)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function zv(t){var e=eh(t);return e.gl.Ch.Bh=vv.bind(null,e),e.gl.Ch.Sn=Pv.bind(null,e),e.gl.Ch.$h=wv.bind(null,e),e.vl.uh=nv.bind(null,e.Vl),e.vl.ql=rv.bind(null,e.Vl),e}function Bv(t){var e=eh(t);return e.gl.Ch.qh=_v.bind(null,e),e.gl.Ch.Uh=Ov.bind(null,e),e}var Kv=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Gl.b)(this,void 0,void 0,function(){return Object(Gl.d)(this,function(e){switch(e.label){case 0:return this.Kt=by(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return jm(this.persistence,new Am,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new Xm(ey.ra,this.Kt)},t.prototype.jl=function(t){return new hy},t.prototype.terminate=function(){return Object(Gl.b)(this,void 0,void 0,function(){return Object(Gl.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}})})},t}(),Gv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Gl.c)(e,t),e.prototype.initialize=function(e){return Object(Gl.b)(this,void 0,void 0,function(){return Object(Gl.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,zm(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,Bv(this.Xl.fa)];case 4:return n.sent(),[4,Hy(this.Xl.gl)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return jm(this.persistence,new Am,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new lm(this.persistence.Ii._r,t.fs)},e.prototype.Gl=function(t){var e=xm(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?Gg.Xs(this.cacheSizeBytes):Gg.ei;return new Om(this.synchronizeTabs,e,t.clientId,n,t.fs,yy(),vy(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new hy},e}(Kv),$v=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Gl.c)(e,t),e.prototype.initialize=function(e){return Object(Gl.b)(this,void 0,void 0,function(){var n,r=this;return Object(Gl.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof ly?(this.pl.fa={nu:Lv.bind(null,n),su:qv.bind(null,n),iu:Hv.bind(null,n),Qo:Fv.bind(null,n),eu:Rv.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po(function(t){return Object(Gl.b)(r,void 0,void 0,function(){return Object(Gl.d)(this,function(e){switch(e.label){case 0:return[4,Vv(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=yy();if(!ly.Wn(e))throw new ch(uh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=xm(t.gu.T,t.gu.persistenceKey);return new ly(e,t.fs,n,t.clientId,t.Yl)},e}(Gv),Wv=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Gl.b)(this,void 0,void 0,function(){var n=this;return Object(Gl.d)(this,function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return bv(n.fa,t,1)},this.gl.Ch.s_=Nv.bind(null,this.fa),[4,Jy(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new Xy},t.prototype.Zl=function(t){var e=by(t.gu.T),n=new my(t.gu);return function(t,e,n){return new Cy(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return bv(s.fa,t,0)},o=dy.Wn()?new dy:new fy,new Sy(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var a=new dv(t,e,n,r,i,o);return s&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(Gl.b)(this,void 0,void 0,function(){var e;return Object(Gl.d)(this,function(n){switch(n.label){case 0:return e=eh(t),Jl("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,Iy(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}})})}(this.gl)},t}(),Jv=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Yv=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new qp,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then(function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(Gl.b)(this,void 0,void 0,function(){return Object(Gl.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Kl=function(){return Object(Gl.b)(this,void 0,void 0,function(){return Object(Gl.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}})})},t.prototype.a_=function(){return Object(Gl.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Gl.d)(this,function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new sv(JSON.parse(r),t.length+n)]}})})},t.prototype.__=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.u_=function(){return Object(Gl.b)(this,void 0,void 0,function(){var t,e;return Object(Gl.d)(this,function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.l_=function(t){return Object(Gl.b)(this,void 0,void 0,function(){var e;return Object(Gl.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(Gl.b)(this,void 0,void 0,function(){var t,e;return Object(Gl.d)(this,function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new ch(uh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Ah(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),Zv=function(t){this._methodName=t};function Qv(t,e,n){if(!n)throw new ch(uh.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Xv(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ch(uh.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function tb(t,e,n,r){if(!0===e&&!0===r)throw new ch(uh.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function eb(t){if(!kh.Et(t))throw new ch(uh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function nb(t){if(kh.Et(t))throw new ch(uh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function rb(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Xl()}function ib(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new ch(uh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=rb(t);throw new ch(uh.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function ob(t,e){if(e<=0)throw new ch(uh.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var sb=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ch(uh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ch(uh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,tb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),ab=new Map,ub=function(){function t(t,e){this.w_="(lite)",this.E_=new sb({}),this.T_=!1,t instanceof mh?(this.I_=t,this.m_=new bh):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ch(uh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mh(t.options.projectId)}(t),this.m_=new wh(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new ch(uh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new ch(uh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new sb(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new bh;switch(t.type){case"gapi":var e=t.client;return th(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Oh(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new ch(uh.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=ab.get(this))&&(Jl("ComponentProvider","Removing Datastore"),ab.delete(this),t.terminate()),Promise.resolve();var t},t}(),cb=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new hb(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),lb=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),hb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Df(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Gl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new cb(this.firestore,null,new kh(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(lb);function fb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof hh&&(t=t._),Qv("collection","path",e),t instanceof ub)return nb(n=Th.ct.apply(Th,Object(Gl.g)([e],r))),new hb(t,null,n);if(!(t instanceof cb||t instanceof hb))throw new ch(uh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return nb(n=Th.ct.apply(Th,Object(Gl.g)([t.path],r)).child(Th.ct(e))),new hb(t.firestore,null,n)}function db(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof hh&&(t=t._),1===arguments.length&&(e=rh.t()),Qv("doc","path",e),t instanceof ub)return eb(n=Th.ct.apply(Th,Object(Gl.g)([e],r))),new cb(t,null,new kh(n));if(!(t instanceof cb||t instanceof hb))throw new ch(uh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return eb(n=t.D_.child(Th.ct.apply(Th,Object(Gl.g)([e],r)))),new cb(t.firestore,t instanceof hb?t.v_:null,new kh(n))}function pb(t,e){return t instanceof hh&&(t=t._),e instanceof hh&&(e=e._),(t instanceof cb||t instanceof hb)&&(e instanceof cb||e instanceof hb)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function gb(t,e){return t instanceof hh&&(t=t._),e instanceof hh&&(e=e._),t instanceof lb&&e instanceof lb&&t.firestore===e.firestore&&zf(t.C_,e.C_)&&t.v_===e.v_}var mb=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new ch(uh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ch(uh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return ih(this.x_,t.x_)||ih(this.N_,t.N_)},t}(),yb=/^__.*__$/,vb=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new Od(t,this.data,this.zt,e,this.fieldTransforms):new _d(t,this.data,e,this.fieldTransforms)},t}(),bb=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Od(t,this.data,this.zt,e,this.fieldTransforms)},t}();function wb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xl()}}var _b=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return qb(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find(function(e){return t.st(e)})||void 0!==this.fieldTransforms.find(function(e){return t.st(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(wb(this.k_)&&yb.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Ob=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||by(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new _b({k_:t,methodName:e,j_:n,path:Ah.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function Eb(t){var e=t.p_(),n=by(t.I_);return new Ob(t.I_,!!e.ignoreUndefinedProperties,n)}function Cb(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);Vb("Data must be an object, but it was:",s,r);var a,u,c=Rb(r,s);if(o.merge)a=new Dh(s.zt),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Mb(e,f[h],n);if(!s.contains(d))throw new ch(uh.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Hb(l,d)||l.push(d)}a=new Dh(l),u=s.fieldTransforms.filter(function(t){return a.It(t.field)})}else a=null,u=s.fieldTransforms;return new vb(new of(c),a,u)}var xb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gl.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Zv);function Sb(t,e,n){return new _b({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var Tb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gl.c)(e,t),e.prototype.z_=function(t){return new hd(t.path,new rd)},e.prototype.isEqual=function(t){return t instanceof e},e}(Zv),Ib=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Gl.c)(e,t),e.prototype.z_=function(t){var e=Sb(this,t,!0),n=this.H_.map(function(t){return Db(t,e)}),r=new id(n);return new hd(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Zv),Ab=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Gl.c)(e,t),e.prototype.z_=function(t){var e=Sb(this,t,!0),n=this.H_.map(function(t){return Db(t,e)}),r=new sd(n);return new hd(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Zv),kb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Gl.c)(e,t),e.prototype.z_=function(t){var e=new ud(t.Kt,Qf(t.Kt,this.J_));return new hd(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Zv);function jb(t,e,n,r){var i=t.G_(1,e,n);Vb("Data must be an object, but it was:",i,r);var o=[],s=new sf;Nh(r,function(t,r){var a=Fb(e,t,n);r instanceof hh&&(r=r._);var u=i.U_(a);if(r instanceof xb)o.push(a);else{var c=Db(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new Dh(o);return new bb(s.yt(),a,i.fieldTransforms)}function Nb(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[Mb(e,r,n)],u=[i];if(o.length%2!=0)throw new ch(uh.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Mb(e,o[c])),u.push(o[c+1]);for(var l=[],h=new sf,f=a.length-1;f>=0;--f)if(!Hb(l,a[f])){var d=a[f],p=u[f];p instanceof hh&&(p=p._);var g=s.U_(d);if(p instanceof xb)l.push(d);else{var m=Db(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new Dh(l);return new bb(h.yt(),y,s.fieldTransforms)}function Pb(t,e,n,r){return void 0===r&&(r=!1),Db(n,t.G_(r?4:3,e))}function Db(t,e){if(t instanceof hh&&(t=t._),Lb(t))return Vb("Unsupported field value:",e,t),Rb(t,e);if(t instanceof Zv)return function(t,e){if(!wb(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Db(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof hh&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Qf(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Ch.fromDate(t);return{timestampValue:hp(e.Kt,n)}}if(t instanceof Ch)return n=new Ch(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:hp(e.Kt,n)};if(t instanceof mb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof lh)return{bytesValue:fp(e.Kt,t.l)};if(t instanceof cb){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:gp(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+rb(t))}(t,e)}function Rb(t,e){var n={};return Ph(t)?e.path&&e.path.length>0&&e.zt.push(e.path):Nh(t,function(t,r){var i=Db(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Lb(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ch||t instanceof mb||t instanceof lh||t instanceof cb||t instanceof Zv)}function Vb(t,e,n){if(!Lb(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=rb(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function Mb(t,e,n){if(e instanceof hh&&(e=e._),e instanceof Yv)return e.d_;if("string"==typeof e)return Fb(t,e);throw qb("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Ub=new RegExp("[~\\*/\\[\\]]");function Fb(t,e,n){if(e.search(Ub)>=0)throw qb("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Yv.bind.apply(Yv,Object(Gl.g)([void 0],e.split("."))))).d_}catch(r){throw qb("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function qb(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new ch(uh.INVALID_ARGUMENT,(a+=". ")+t+u)}function Hb(t,e){return t.some(function(t){return t.isEqual(e)})}var zb=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Gl.b)(this,void 0,void 0,function(){var e,n=this;return Object(Gl.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new ch(uh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Gl.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(Gl.d)(this,function(u){switch(u.label){case 0:return n=eh(t),r=_p(n.Kt)+"/documents",i={documents:e.map(function(t){return yp(n.Kt,t)})},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){th(!!e.found);var n=vp(t,e.found.name),r=pp(e.found.updateTime),i=new of({mapValue:{fields:e.found.fields}});return new cf(n,r,i,{})}(t,e):"missing"in e?function(t,e){th(!!e.missing),th(!!e.readTime);var n=vp(t,e.missing),r=pp(e.readTime);return new lf(n,r)}(t,e):Xl()}(n.Kt,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());th(!!e),a.push(e)}),a)]}})})}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof lf||t instanceof cf?n.sf(t):Xl()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Ad(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Gl.b)(this,void 0,void 0,function(){var t,e=this;return Object(Gl.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=kh.ft(n);e.mutations.push(new kd(r,e.Gt(r)))}),[4,function(t,e){return Object(Gl.b)(this,void 0,void 0,function(){var n,r,i;return Object(Gl.d)(this,function(o){switch(o.label){case 0:return n=eh(t),r=_p(n.Kt)+"/documents",i={writes:e.map(function(t){return xp(n.Kt,t)})},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof cf)e=t.version;else{if(!(t instanceof lf))throw Xl();e=xh.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ch(uh.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?dd.updateTime(e):dd.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(xh.min()))throw new ch(uh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dd.updateTime(e)}return dd.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Bb=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new wy(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu(function(){return Object(Gl.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Gl.d)(this,function(r){return t=new zb(this.Dh),(e=this.uf(t))&&e.then(function(e){n.fs.ys(function(){return t.commit().then(function(){n.Ts.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Hh(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys(function(){return e.af(),Promise.resolve()})):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Nd(e)}return!1},t}(),Kb=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=yh.UNAUTHENTICATED,this.clientId=rh.t(),this._f=function(){},this.N=new qp,this.credentials.S(function(t){Jl("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()})}return t.prototype.getConfiguration=function(){return Object(Gl.b)(this,void 0,void 0,function(){return Object(Gl.d)(this,function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.fs.wf)throw new ch(uh.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new qp;return this.fs.Tf(function(){return Object(Gl.b)(t,void 0,void 0,function(){var t,n;return Object(Gl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Xp(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Gb(t,e){return Object(Gl.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Gl.d)(this,function(o){switch(o.label){case 0:return t.fs.Af(),Jl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff(function(n){r.isEqual(n)||(r=n,t.fs.bo(function(){return Object(Gl.b)(i,void 0,void 0,function(){return Object(Gl.d)(this,function(t){switch(t.label){case 0:return[4,Nm(e.Sh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.yo(function(){return t.terminate()}),t.mf=e,[2]}})})}function $b(t,e){return Object(Gl.b)(this,void 0,void 0,function(){var n,r;return Object(Gl.d)(this,function(i){switch(i.label){case 0:return t.fs.Af(),[4,Wb(t)];case 1:return n=i.sent(),Jl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t.fs.bo(function(){return function(t,e){return Object(Gl.b)(this,void 0,void 0,function(){var n,r;return Object(Gl.d)(this,function(i){switch(i.label){case 0:return(n=eh(t)).fs.Af(),Jl("RemoteStore","RemoteStore received new credentials"),r=Ry(n),n.Fh.add(3),[4,Iy(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,Ty(n)];case 3:return i.sent(),[2]}})})}(e.gl,n)})}),t.If=e,[2]}})})}function Wb(t){return Object(Gl.b)(this,void 0,void 0,function(){return Object(Gl.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(Jl("FirestoreClient","Using default OfflineComponentProvider"),[4,Gb(t,new Kv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function Jb(t){return Object(Gl.b)(this,void 0,void 0,function(){return Object(Gl.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(Jl("FirestoreClient","Using default OnlineComponentProvider"),[4,$b(t,new Wv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function Yb(t){return Wb(t).then(function(t){return t.persistence})}function Zb(t){return Wb(t).then(function(t){return t.Sh})}function Qb(t){return Jb(t).then(function(t){return t.gl})}function Xb(t){return Jb(t).then(function(t){return t.fa})}function tw(t){return Object(Gl.b)(this,void 0,void 0,function(){var e,n;return Object(Gl.d)(this,function(r){switch(r.label){case 0:return[4,Jb(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=pv.bind(null,e.fa),n.Jh=mv.bind(null,e.fa),n)]}})})}function ew(t,e,n){var r=this;void 0===n&&(n={});var i=new qp;return t.fs.ys(function(){return Object(Gl.b)(r,void 0,void 0,function(){var r;return Object(Gl.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Jv({next:function(o){e.ys(function(){return ev(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new ch(uh.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new ch(uh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new ov(Df(n.path),o,{includeMetadataChanges:!0,sl:!0});return tv(t,s)},[4,tw(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}function nw(t,e,n){var r=this;void 0===n&&(n={});var i=new qp;return t.fs.ys(function(){return Object(Gl.b)(r,void 0,void 0,function(){var r;return Object(Gl.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Jv({next:function(n){e.ys(function(){return ev(t,s)}),n.fromCache&&"server"===r.source?i.reject(new ch(uh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new ov(n,o,{includeMetadataChanges:!0,sl:!0});return tv(t,s)},[4,tw(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}var rw=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new wy(this,"async_queue_retry"),this.vf=function(){var e=vy();e&&Jl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=vy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=vy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(Gl.b)(this,void 0,void 0,function(){var t,e=this;return Object(Gl.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!$p(t=n.sent()))throw t;return Jl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,Yl("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Qp.Is(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Xl()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Gl.b)(this,void 0,void 0,function(){var t;return Object(Gl.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ws-e.ws});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),iw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new rw,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Gl.c)(e,t),e.prototype.b_=function(){return this.Lf||sw(this),this.Lf.terminate()},e}(ub);function ow(t){return t.Lf||sw(t),t.Lf.df(),t.Lf}function sw(t){var e=t.p_(),n=function(t,e,n){return new gh(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new Kb(t.m_,t.Mf,n)}function aw(t,e,n){var r=this,i=new qp;return t.fs.enqueue(function(){return Object(Gl.b)(r,void 0,void 0,function(){var r;return Object(Gl.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Gb(t,n)];case 1:return o.sent(),[4,$b(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===uh.FAILED_PRECONDITION||t.code===uh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function uw(t){if(t.R_||t.P_)throw new ch(uh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var cw=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),Kh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Vh(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(Mh(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw Xl()}},t.prototype.jf=function(t,e){var n=this,r={};return Nh(t.fields||{},function(t,i){r[t]=n.$f(i,e)}),r},t.prototype.Kf=function(t){return new mb(Vh(t.latitude),Vh(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=Fh(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(qh(t));default:return null}},t.prototype.Bf=function(t){var e=Lh(t);return new Ch(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=Th.ct(t);th(Fp(n));var r=new mh(n.get(1),n.get(3)),i=new kh(n.X(5));return r.isEqual(e)||Yl("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),lw=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new cb(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new hw(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(fw("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),hw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gl.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(lw);function fw(t,e){return"string"==typeof e?Fb(t,e):e instanceof hh?e._.d_:e.d_}function dw(t){if(Lf(t)&&0===t.Nt.length)throw new ch(uh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var pw=function(){};function gw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var mw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(Gl.c)(e,t),e.prototype.Yf=function(t){var e=Eb(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new ch(uh.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Ew(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Ow(r,t,l[c]));a={arrayValue:{values:u}}}else a=Ow(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Ew(s,o),a=Pb(n,"where",s,"in"===o||"not-in"===o);var h=yf.create(i,o,a);return function(t,e){if(e.xt()){var n=Mf(t);if(null!==n&&!n.isEqual(e.field))throw new ch(uh.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Vf(t);null!==r&&Cw(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new ch(uh.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new lb(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Nf(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(pw),yw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(Gl.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new ch(uh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ch(uh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new If(e,n);return function(t,e){if(null===Vf(t)){var n=Mf(t);null!==n&&Cw(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new lb(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new Nf(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(pw),vw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(Gl.c)(e,t),e.prototype.Yf=function(t){return new lb(t.firestore,t.v_,Hf(t.C_,this.nd,this.sd))},e}(pw),bw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Gl.c)(e,t),e.prototype.Yf=function(t){var e=_w(t,this.type,this.rd,this.od);return new lb(t.firestore,t.v_,function(t,e){return new Nf(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(pw),ww=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Gl.c)(e,t),e.prototype.Yf=function(t){var e=_w(t,this.type,this.rd,this.od);return new lb(t.firestore,t.v_,function(t,e){return new Nf(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(pw);function _w(t,e,n,r){if(n[0]instanceof hh&&(n[0]=n[0]._),n[0]instanceof lw)return function(t,e,n,r,i){if(!r)throw new ch(uh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Ff(t);s<a.length;s++){var u=a[s];if(u.field.ht())o.push(Qh(e,r.key));else{var c=r.field(u.field);if(Uh(c))throw new ch(uh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.ot();throw new ch(uh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Sf(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=Eb(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new ch(uh.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ht()){if("string"!=typeof c)throw new ch(uh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Uf(t)&&-1!==c.indexOf("/"))throw new ch(uh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Th.ct(c));if(!kh.Et(l))throw new ch(uh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new kh(l);a.push(Qh(e,h))}else{var f=Pb(n,r,c);a.push(f)}}return new Sf(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function Ow(t,e,n){if(n instanceof hh&&(n=n._),"string"==typeof n){if(""===n)throw new ch(uh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Uf(e)&&-1!==n.indexOf("/"))throw new ch(uh.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Th.ct(n));if(!kh.Et(r))throw new ch(uh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Qh(t,new kh(r))}if(n instanceof cb)return Qh(t,n.S_);throw new ch(uh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+rb(n)+".")}function Ew(t,e){if(!Array.isArray(t)||0===t.length)throw new ch(uh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ch(uh.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Cw(t,e,n){if(!n.isEqual(e))throw new ch(uh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function xw(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function Sw(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Tw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Gl.c)(e,t),e.prototype.Uf=function(t){return new lh(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new cb(this.firestore,null,e)},e}(cw),Iw=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Aw=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).zf=e,a.ad=e,a.metadata=o,a}return Object(Gl.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new kw(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(fw("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(lw),kw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gl.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Aw),jw=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new Iw(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(r){t.call(e,new kw(n.zf,n.Hf,r.key,r,new Iw(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new ch(uh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map(function(e){return{type:"added",doc:new kw(t.zf,t.Hf,e.doc.key,e.doc,new Iw(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t.ud.De;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new kw(t.zf,t.Hf,e.doc.key,e.doc,new Iw(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Nw(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.ld=e),this.hd},t}();function Nw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xl()}}function Pw(t,e){return t instanceof Aw&&e instanceof Aw?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof jw&&e instanceof jw&&t.zf===e.zf&&gb(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var Dw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Gl.c)(e,t),e.prototype.Uf=function(t){return new lh(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new cb(this.firestore,null,e)},e}(cw);function Rw(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=ib(t,cb);var o=ib(t.firestore,iw),s=Eb(o);return e instanceof hh&&(e=e._),Vw(o,[("string"==typeof e||e instanceof Yv?Nb(s,"updateDoc",t.S_,e,n,r):jb(s,"updateDoc",t.S_,e)).F_(t.S_,dd.exists(!0))])}function Lw(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof hh&&(t=t._);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||xw(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(xw(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof cb)c=ib(t.firestore,iw),l=Df(t.S_.path),u={next:function(e){i[a]&&i[a](Mw(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=ib(t,lb);c=ib(d.firestore,iw),l=d.C_;var p=new Dw(c);u={next:function(t){i[a]&&i[a](new jw(c,p,d,t))},error:i[a+1],complete:i[a+2]},dw(t.C_)}return function(t,e,n,r){var i=this,o=new Jv(r),s=new ov(e,o,n);return t.fs.ys(function(){return Object(Gl.b)(i,void 0,void 0,function(){var e;return Object(Gl.d)(this,function(n){switch(n.label){case 0:return e=tv,[4,tw(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.r_(),t.fs.ys(function(){return Object(Gl.b)(i,void 0,void 0,function(){var e;return Object(Gl.d)(this,function(n){switch(n.label){case 0:return e=ev,[4,tw(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(ow(c),l,h,u)}function Vw(t,e){return function(t,e){var n=this,r=new qp;return t.fs.ys(function(){return Object(Gl.b)(n,void 0,void 0,function(){var n;return Object(Gl.d)(this,function(i){switch(i.label){case 0:return n=yv,[4,Xb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(ow(t),e)}function Mw(t,e,n){var r=n.docs.get(e.S_),i=new Dw(t);return new Aw(t,i,e.S_,r,new Iw(n.hasPendingWrites,n.fromCache),e.v_)}var Uw=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=Eb(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=Fw(t,this.zf),i=Sw(r.v_,e,n),o=Cb(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.F_(r.S_,dd.Wt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,s=Fw(t,this.zf);return e instanceof hh&&(e=e._),o="string"==typeof e||e instanceof Yv?Nb(this.wd,"WriteBatch.update",s.S_,e,n,r):jb(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.F_(s.S_,dd.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=Fw(t,this.zf);return this.fd=this.fd.concat(new Ad(e.S_,dd.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new ch(uh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Fw(t,e){if(t instanceof hh&&(t=t._),t.firestore!==e)throw new ch(uh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var qw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(Gl.c)(e,t),e.prototype.get=function(e){var n=this,r=Fw(e,this.zf),i=new Dw(this.zf);return t.prototype.get.call(this,e).then(function(t){return new Aw(n.zf,i,r.S_,t.Jf,new Iw(!1,!1),r.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=Eb(t)}return t.prototype.get=function(t){var e=this,n=Fw(t,this.zf),r=new Tw(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return Xl();var i=t[0];if(i instanceof lf)return new lw(e.zf,r,n.S_,null,n.v_);if(i instanceof cf)return new lw(e.zf,r,i.key,i,n.v_);throw Xl()})},t.prototype.set=function(t,e,n){var r=Fw(t,this.zf),i=Sw(r.v_,e,n),o=Cb(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Fw(t,this.zf);return e instanceof hh&&(e=e._),o="string"==typeof e||e instanceof Yv?Nb(this.wd,"Transaction.update",s.S_,e,n,r):jb(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=Fw(t,this.zf);return this.Td.delete(e.S_),this},t}()),Hw=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){uw(t=ib(t,iw));var n=ow(t),r=t.p_(),i=new Wv;return aw(n,i,new Gv(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){uw(t=ib(t,iw));var e=ow(t),n=t.p_(),r=new Wv;return aw(e,r,new $v(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new ch(uh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new qp;return t.Mf.Tf(function(){return Object(Gl.b)(e,void 0,void 0,function(){var e;return Object(Gl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Gl.b)(this,void 0,void 0,function(){return Object(Gl.d)(this,function(e){switch(e.label){case 0:return Bp.Wn()?[4,Bp.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(xm(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),zw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof mh||(i.md=e),i}return Object(Gl.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=ib(t,ub)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&Zl("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(Gl.b)(e,void 0,void 0,function(){var e,n;return Object(Gl.d)(this,function(r){switch(r.label){case 0:return[4,Yb(t)];case 1:return e=r.sent(),[4,Qb(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=eh(t);return e.Fh.delete(0),Ty(e)}(n))]}})})})}(ow(ib(this._,iw)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(Gl.b)(e,void 0,void 0,function(){var e,n;return Object(Gl.d)(this,function(r){switch(r.label){case 0:return[4,Yb(t)];case 1:return e=r.sent(),[4,Qb(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return Object(Gl.b)(this,void 0,void 0,function(){var e;return Object(Gl.d)(this,function(n){switch(n.label){case 0:return(e=eh(t)).Fh.add(0),[4,Iy(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}})})}(n))]}})})})}(ow(ib(this._,iw)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&tb("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new qp;return t.fs.ys(function(){return Object(Gl.b)(e,void 0,void 0,function(){var e;return Object(Gl.d)(this,function(r){switch(r.label){case 0:return e=Ev,[4,Xb(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(ow(ib(this._,iw)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Jv(e);return t.fs.ys(function(){return Object(Gl.b)(n,void 0,void 0,function(){var e;return Object(Gl.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){eh(t).jh.add(e),e.next()},[4,tw(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.fs.ys(function(){return Object(Gl.b)(n,void 0,void 0,function(){var e;return Object(Gl.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){eh(t).jh.delete(e)},[4,tw(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(ow(t=ib(t,iw)),xw(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new ch(uh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new r_(this,fb(this._,t))}catch(t){throw Jw(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Ww(this,db(this._,t))}catch(t){throw Jw(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new t_(this,function(t,e){if(t=ib(t,ub),Qv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ch(uh.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new lb(t,null,function(t){return new Nf(Th.at(),t)}(e))}(this._,t))}catch(t){throw Jw(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new qp;return t.fs.ys(function(){return Object(Gl.b)(n,void 0,void 0,function(){var n;return Object(Gl.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Jb(t).then(function(t){return t.Dh})}(t)];case 1:return n=i.sent(),new Bb(t.fs,n,e,r).run(),[2]}})})}),r.promise}(ow(t),function(n){return e(new qw(t,n))})}(this._,function(n){return t(new Kw(e,n))})},e.prototype.batch=function(){var t=this;return ow(this._),new Gw(new Uw(this._,function(e){return Vw(t._,e)}))},e.prototype.loadBundle=function(t){throw new ch(uh.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new ch(uh.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(hh),Bw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Gl.c)(e,t),e.prototype.Uf=function(t){return new ph(new lh(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return Ww.Ad(e,this.firestore,null)},e}(cw),Kw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new Bw(e),r}return Object(Gl.c)(e,t),e.prototype.get=function(t){var e=this,n=i_(t);return this._.get(n).then(function(t){return new Qw(e.zf,new Aw(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=i_(t);return n?(Xv("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=i_(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(Gl.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=i_(t);return this._.delete(e),this},e}(hh),Gw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gl.c)(e,t),e.prototype.set=function(t,e,n){var r=i_(t);return n?(Xv("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=i_(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(Gl.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=i_(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(hh),$w=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).zf=e,i.Hf=n,i}return Object(Gl.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new kw(this.zf._,this.Hf,t.S_,t.Jf,t.metadata,null);return this._.fromFirestore(new Xw(this.zf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._.toFirestore(t,e):this._.toFirestore(t)},e.Rd=function(t,n){var r=e.Pd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Bw(t),n),i.set(n,o)),o},e}(hh);$w.Pd=new WeakMap;var Ww=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Bw(e),r}return Object(Gl.c)(e,t),e.yd=function(t,n,r){if(t.length%2!=0)throw new ch(uh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new cb(n._,r,new kh(t)))},e.Ad=function(t,n,r){return new e(n,new cb(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new r_(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new r_(this.firestore,fb(this._,t))}catch(t){throw Jw(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof hh&&(t=t._),t instanceof cb&&pb(this._,t)},e.prototype.set=function(t,e){e=Xv("DocumentReference.set",e);try{return function(t,e,n){t=ib(t,cb);var r=ib(t.firestore,iw),i=Sw(t.v_,e,n);return Vw(r,[Cb(Eb(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,dd.Wt())])}(this._,t,e)}catch(t){throw Jw(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Rw(this._,t):Rw.apply(void 0,Object(Gl.g)([this._,t,e],n))}catch(t){throw Jw(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Vw(ib((t=this._).firestore,iw),[new Ad(t.S_,dd.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Yw(e),i=Zw(e,function(e){return new Qw(t.firestore,new Aw(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return Lw(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ib(t,cb);var e=ib(t.firestore,iw),n=ow(e),r=new Dw(e);return function(t,e){var n=this,r=new qp;return t.fs.ys(function(){return Object(Gl.b)(n,void 0,void 0,function(){var n;return Object(Gl.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Gl.b)(this,void 0,void 0,function(){var r,i;return Object(Gl.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=eh(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ic.Jo(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof cf?n.resolve(i):i instanceof lf?n.resolve(null):n.reject(new ch(uh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Xp(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Zb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new Aw(e,r,t.S_,n,new Iw(n instanceof cf&&n.bt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=ib(t,cb);var e=ib(t.firestore,iw);return ew(ow(e),t.S_,{source:"server"}).then(function(n){return Mw(e,t,n)})}(this._):function(t){t=ib(t,cb);var e=ib(t.firestore,iw);return ew(ow(e),t.S_).then(function(n){return Mw(e,t,n)})}(this._)).then(function(t){return new Qw(e.firestore,new Aw(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter($w.Rd(this.firestore,t)))},e}(hh);function Jw(t,e,n){return t.message=t.message.replace(e,n),t}function Yw(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!xw(r))return r}return{}}function Zw(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=xw(t[0])?t[0]:xw(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Qw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Gl.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ww(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return Pw(this._,t._)},e}(hh),Xw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gl.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(Qw),t_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Bw(e),r}return Object(Gl.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,gw(this._,function(t,e,n){var r=e,i=fw("where",t);return new mw(i,r,n)}(t,n,r)))}catch(t){throw Jw(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,gw(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=fw("orderBy",t);return new yw(r,n)}(t,n)))}catch(t){throw Jw(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,gw(this._,function(t){return ob("limit",t),new vw("limit",t,"F")}(t)))}catch(t){throw Jw(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,gw(this._,function(t){return ob("limitToLast",t),new vw("limitToLast",t,"L")}(t)))}catch(t){throw Jw(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,gw(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bw("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Jw(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,gw(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bw("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Jw(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,gw(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ww("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Jw(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,gw(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ww("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Jw(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return gb(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ib(t,lb);var e=ib(t.firestore,iw),n=ow(e),r=new Dw(e);return function(t,e){var n=this,r=new qp;return t.fs.ys(function(){return Object(Gl.b)(n,void 0,void 0,function(){var n;return Object(Gl.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Gl.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(Gl.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Fm(t,e,!0)];case 1:return a=u.sent(),r=new lv(e,a.Pc),i=r.dl(a.documents),o=r.Ei(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Xp(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Zb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new jw(e,r,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=ib(t,lb);var e=ib(t.firestore,iw),n=ow(e),r=new Dw(e);return nw(n,t.C_,{source:"server"}).then(function(n){return new jw(e,r,t,n)})}(this._):function(t){t=ib(t,lb);var e=ib(t.firestore,iw),n=ow(e),r=new Dw(e);return dw(t.C_),nw(n,t.C_).then(function(n){return new jw(e,r,t,n)})}(this._)).then(function(t){return new n_(e.firestore,new jw(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Yw(e),i=Zw(e,function(e){return new n_(t.firestore,new jw(t.firestore._,t.Hf,t._,e.ud))});return Lw(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter($w.Rd(this.firestore,t)))},e}(hh),e_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Gl.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Xw(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(hh),n_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Gl.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new t_(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new Xw(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new e_(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(r){t.call(e,new Xw(n.zf,r))})},e.prototype.isEqual=function(t){return Pw(this._,t._)},e}(hh),r_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(Gl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new Ww(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Ww(this.firestore,void 0===t?db(this._):db(this._,t))}catch(t){throw Jw(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=ib(t.firestore,iw),r=db(t),i=Sw(t.v_,e);return Vw(n,[Cb(Eb(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,dd.exists(!1))]).then(function(){return r})}(this._,t).then(function(t){return new Ww(e.firestore,t)})},e.prototype.isEqual=function(t){return pb(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter($w.Rd(this.firestore,t)))},e}(t_);function i_(t){return t instanceof hh&&(t=t._),ib(t,cb)}var o_=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Yv.bind.apply(Yv,Object(Gl.g)([void 0],e))))||this}return Object(Gl.c)(e,t),e.documentId=function(){return new e(Ah.lt().ot())},e.prototype.isEqual=function(t){return t instanceof hh&&(t=t._),t instanceof Yv&&this._.d_.isEqual(t.d_)},e}(hh),s_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gl.c)(e,t),e.serverTimestamp=function(){var t=new Tb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new xb("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ib("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ab("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new kb("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(hh);!function(){function t(){this.gd={},this.Vd=new qp,this.pd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.gd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Vd.promise.catch(t)},t.prototype.then=function(t,e){return this.Vd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.gd.complete&&this.gd.complete(),this.Vd.resolve(t)},t.prototype.Wl=function(t){this.pd.taskState="Error",this.gd.next&&this.gd.next(this.pd),this.gd.error&&this.gd.error(t),this.Vd.reject(t)},t.prototype.Ql=function(t){this.pd=t,this.gd.next&&this.gd.next(t)}}();var a_,u_=n("/6Yf"),c_={Firestore:zw,GeoPoint:mb,Timestamp:Ch,Blob:ph,Transaction:Kw,WriteBatch:Gw,DocumentReference:Ww,DocumentSnapshot:Qw,Query:t_,QueryDocumentSnapshot:Xw,QuerySnapshot:n_,CollectionReference:r_,FieldPath:o_,FieldValue:s_,setLogLevel:function(t){$l.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function l_(t,e){return function(t,e=ds.b){return new yt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function h_(t,e){return l_(t,e).pipe(Object(bt.a)(t=>({payload:t,type:"query"})))}function f_(t,e){return h_(t,e).pipe(Wn(void 0),Vs(),Object(bt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function d_(t,e,n){return f_(t,n).pipe(Jn((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return p_(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return p_(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return p_(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Fs(void 0,void 0)),Object(bt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function p_(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function g_(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new u_.a("firestore",function(t){return function(t,e){return new zw(t,new iw(t,e),new Hw)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},c_)))})(a_=Hs.a),a_.registerVersion("@firebase/firestore","2.1.3");class m_{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=f_(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(bt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Wn(void 0),Vs(),qe(([t,e])=>e.length>0||!t),Object(bt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Jn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=g_(t);return d_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return h_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(bt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(_t.a)(this.query.get(t)).pipe(Object(bs.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new y_(this.ref.doc(t),this.afs)}}class y_{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=E_(n,e);return new m_(r,i,this.afs)}snapshotChanges(){return l_(this.ref,this.afs.schedulers.outsideAngular).pipe(Wn(void 0),Vs(),Object(bt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(bt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(_t.a)(this.ref.get(t)).pipe(Object(bs.b)(this.afs.schedulers.insideAngular))}}class v_{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?f_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(bt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),qe(t=>t.length>0),this.afs.keepUnstableUntilFirst):f_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Jn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=g_(t);return d_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return h_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(bt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(_t.a)(this.query.get(t)).pipe(Object(bs.b)(this.afs.schedulers.insideAngular))}}const b_=new r.q("angularfire2.enableFirestorePersistence"),w_=new r.q("angularfire2.firestore.persistenceSettings"),__=new r.q("angularfire2.firestore.settings"),O_=new r.q("angularfire2.firestore.use-emulator");function E_(t,e=(t=>t)){return{query:e(t),ref:t}}let C_=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new Ts.d(o),this.keepUnstableUntilFirst=Object(Ts.h)(this.schedulers);const c=Object(Ts.g)(t,o,e);!fs.a.auth&&u&&Object(Ts.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Ts.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!M(i)){const e=()=>{try{return Object(_t.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(a_){return"undefined"!=typeof console&&console.warn(a_),Object(Ve.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(Ve.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=E_(n,e),o=this.schedulers.ngZone.run(()=>r);return new m_(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new v_(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new y_(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Ts.c),r.Pb(Ts.b,8),r.Pb(b_,8),r.Pb(__,8),r.Pb(r.B),r.Pb(r.z),r.Pb(w_,8),r.Pb(O_,8),r.Pb(Is,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(Ts.c),Object(r.Pb)(Ts.b,8),Object(r.Pb)(b_,8),Object(r.Pb)(__,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(w_,8),Object(r.Pb)(O_,8),Object(r.Pb)(Is,8))},token:t,providedIn:"any"}),t})(),x_=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:b_,useValue:!0},{provide:w_,useValue:e}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[C_]}),t})(),S_=(()=>{class t{constructor(t,e){this.afs=t,this.auth=e,this.chats=[],this.usuario={},this.auth.authState.subscribe(t=>{t&&(this.usuario.nombre=t.displayName,this.usuario.uid=t.uid)})}cargarMensajes(){return this.itemsCollection=this.afs.collection("chats",t=>t.orderBy("fecha","desc").limit(5)),this.itemsCollection.valueChanges().pipe(Object(bt.a)(t=>{this.chats=[];for(let e of t)this.chats.unshift(e);return this.chats}))}agregarMensaje(t){let e={nombre:sessionStorage.getItem("uname"),mensaje:t,fecha:(new Date).getTime(),uid:sessionStorage.getItem("uid")};return this.itemsCollection.add(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(C_),r.Pb(Ds))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const T_=function(t,e){return{"text-right":t,"text-left":e}},I_=function(t,e){return{"badge-primary":t,"badge-success":e}};function A_(t,e){if(1&t&&(r.Lb(0,"p",6),r.Lb(1,"span",7),r.ec(2),r.Kb(),r.Lb(3,"span"),r.ec(4),r.Kb(),r.Kb()),2&t){const t=e.$implicit,n=r.Ub();r.Vb("ngClass",r.Xb(4,T_,t.uid==n.chatService.usuario.uid,t.uid!=n.chatService.usuario.uid)),r.yb(1),r.Vb("ngClass",r.Xb(7,I_,t.uid==n.chatService.usuario.uid,t.uid!=n.chatService.usuario.uid)),r.yb(1),r.gc("",t.nombre," "),r.yb(2),r.fc(t.mensaje)}}let k_=(()=>{class t{constructor(t){this.chatService=t,this.mensaje="",this.chatService.cargarMensajes().subscribe(()=>{setTimeout(()=>{this.elemento.scrollTop=this.elemento.scrollHeight},20)})}ngOnInit(){this.elemento=document.getElementById("app-mensajes")}enviarMensaje(){0!==this.mensaje.length&&this.chatService.agregarMensaje(this.mensaje).then(()=>this.mensaje="").catch(t=>console.log("ERROR. No se puedo enviar el mensaje",t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(S_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-chat"]],decls:7,vars:2,consts:[[1,"container"],["id","app-mensajes",1,"card","mx-auto","text-white","mb-3"],[1,"card-header","bg-info","text-center","font-weight-bold"],[1,"card-body","bg-dark"],["class","card-text",3,"ngClass",4,"ngFor","ngForOf"],["type","text","name","mensaje","placeholder","Enviar mensaje",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[1,"card-text",3,"ngClass"],[1,"badge","mr-2",3,"ngClass"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.ec(3,"CHAT"),r.Kb(),r.Lb(4,"div",3),r.dc(5,A_,5,10,"p",4),r.Lb(6,"input",5),r.Sb("ngModelChange",function(t){return e.mensaje=t})("keyup.enter",function(){return e.enviarMensaje()}),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(5),r.Vb("ngForOf",e.chatService.chats),r.yb(1),r.Vb("ngModel",e.mensaje))},directives:[N,It,Wt,je,k],styles:[""]}),t})();function j_(t,e){1&t&&(r.Lb(0,"div",2),r.Lb(1,"div",3),r.Lb(2,"div",4),r.ec(3,"ERROR"),r.Kb(),r.Lb(4,"div",5),r.Lb(5,"h5",6),r.ec(6,"Acceso no autorizado"),r.Kb(),r.Lb(7,"p",7),r.ec(8,"Debes iniciar sesi\xf3n para acceder al contenido de esta secci\xf3n"),r.Kb(),r.Kb(),r.Kb(),r.Kb())}const N_=function(t){return["/product",t]};function P_(t,e){if(1&t){const t=r.Mb();r.Lb(0,"tr"),r.Lb(1,"td"),r.ec(2),r.Kb(),r.Lb(3,"td"),r.ec(4),r.Kb(),r.Lb(5,"td"),r.ec(6),r.Kb(),r.Lb(7,"td"),r.Lb(8,"button",23),r.Jb(9,"i",24),r.Kb(),r.Lb(10,"button",25),r.Sb("click",function(){r.ac(t);const n=e.$implicit,i=e.index;return r.Ub(3).deleteProduct(n,i)}),r.Jb(11,"i",26),r.Kb(),r.Kb(),r.Kb()}if(2&t){const t=e.$implicit;r.yb(2),r.fc(t.name),r.yb(2),r.fc(t.amount),r.yb(2),r.fc(t.category),r.yb(2),r.Vb("routerLink",r.Wb(4,N_,t.id))}}function D_(t,e){if(1&t&&(r.Lb(0,"table",19),r.Lb(1,"thead",20),r.Lb(2,"tr"),r.Lb(3,"th",21),r.ec(4,"Nombre"),r.Kb(),r.Lb(5,"th",21),r.ec(6,"Uds"),r.Kb(),r.Lb(7,"th",21),r.ec(8,"Categor\xeda"),r.Kb(),r.Lb(9,"th",21),r.ec(10,"Acci\xf3n"),r.Kb(),r.Kb(),r.Kb(),r.Lb(11,"tbody"),r.dc(12,P_,12,6,"tr",22),r.Kb(),r.Kb()),2&t){const t=r.Ub(2);r.yb(12),r.Vb("ngForOf",t.products)}}function R_(t,e){1&t&&(r.Lb(0,"div",27),r.Lb(1,"h4",28),r.ec(2,"Cargando"),r.Kb(),r.Lb(3,"p"),r.Jb(4,"i",29),r.Kb(),r.Lb(5,"p",30),r.ec(6," Espere por favor "),r.Kb(),r.Kb())}function L_(t,e){1&t&&(r.Lb(0,"div",31),r.Lb(1,"h4",28),r.ec(2,"No hay registros"),r.Kb(),r.Lb(3,"p"),r.Jb(4,"i",32),r.Kb(),r.Kb())}function V_(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div"),r.Lb(1,"h1"),r.ec(2,"Lista de la compra"),r.Kb(),r.Lb(3,"div",8),r.ec(4),r.Kb(),r.Jb(5,"hr"),r.Lb(6,"div",9),r.Lb(7,"div",10),r.Lb(8,"button",11),r.Lb(9,"i",12),r.ec(10," Nuevo producto"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.dc(11,D_,13,1,"table",13),r.dc(12,R_,7,0,"div",14),r.dc(13,L_,5,0,"div",15),r.Lb(14,"div",16),r.Jb(15,"app-chat"),r.Kb(),r.Lb(16,"div",17),r.Lb(17,"a",18),r.Sb("click",function(){return r.ac(t),r.Ub().logout()}),r.ec(18,"Salir"),r.Kb(),r.Lb(19,"div",8),r.ec(20," Cerrar sesi\xf3n "),r.Kb(),r.Kb(),r.Kb()}if(2&t){const t=r.Ub();r.yb(4),r.fc(t.userName),r.yb(7),r.Vb("ngIf",!t.loading&&t.products.length>0),r.yb(1),r.Vb("ngIf",t.loading),r.yb(1),r.Vb("ngIf",!t.loading&&0===t.products.length)}}let M_=(()=>{class t{constructor(t,e){this.productService=t,this.router=e,this.products=[],this.loading=!1,this.userName=sessionStorage.getItem("uname")}ngOnInit(){this.loading=!0,this.productService.getProducts().subscribe(t=>{this.products=t,this.loading=!1})}deleteProduct(t,e){hs.a.fire({title:"\xbfEst\xe1s seguro?",text:`Se eliminar\xe1 el producto "${t.name}"`,icon:"question",showConfirmButton:!0,showCancelButton:!0}).then(n=>{n.value&&(this.products.splice(e,1),this.productService.deleteOneProduct(t.id).subscribe())})}logout(){this.productService.logout(),this.router.navigate(["login"])}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Ls),r.Ib(Ho))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-product-list"]],decls:2,vars:2,consts:[["class","",4,"ngIf"],[4,"ngIf"],[1,""],[1,"card","mx-auto","text-white","mb-3",2,"max-width","18rem"],[1,"card-header","bg-danger","text-center"],[1,"card-body","bg-dark"],[1,"card-title"],[1,"card-text"],[1,"text-muted"],[1,"row"],[1,"col","text-center"],["routerLink","/product/new",1,"btn","btn-primary"],["aria-hidden","true",1,"fa","fa-plus"],["class","table table-sm table-borderless table-striped mt-3 text-center",4,"ngIf"],["class","alert alert-info text-center mt-3",4,"ngIf"],["class","alert alert-warning text-center mt-3",4,"ngIf"],[1,"container","text-center","main-container"],[1,"container","text-center"],[1,"btn","btn-danger",3,"click"],[1,"table","table-sm","table-borderless","table-striped","mt-3","text-center"],[1,"thead-dark"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn","btn-info","mr-1",3,"routerLink"],["aria-hidden","true",1,"fa","fa-pen"],[1,"btn","btn-danger","mr-1",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],[1,"alert","alert-info","text-center","mt-3"],[1,"alert-heading"],[1,"fa","fa-sync","fa-spin","fa-2x"],[1,"mb-0"],[1,"alert","alert-warning","text-center","mt-3"],[1,"fa","fa-exclamation","fa-2x"]],template:function(t,e){1&t&&(r.dc(0,j_,9,0,"div",0),r.dc(1,V_,21,4,"div",1)),2&t&&(r.Vb("ngIf",null==e.userName),r.yb(1),r.Vb("ngIf",e.userName))},directives:[D,zo,k_,N],styles:[""]}),t})();class U_{constructor(){this.amount=1}}function F_(t,e){1&t&&(r.Lb(0,"div",2),r.Lb(1,"div",3),r.Lb(2,"div",4),r.ec(3,"ERROR"),r.Kb(),r.Lb(4,"div",5),r.Lb(5,"h5",6),r.ec(6,"Acceso no autorizado"),r.Kb(),r.Lb(7,"p",7),r.ec(8,"Debes iniciar sesi\xf3n para acceder al contenido de esta secci\xf3n"),r.Kb(),r.Kb(),r.Kb(),r.Kb())}function q_(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div"),r.Lb(1,"h1"),r.ec(2,"Producto"),r.Kb(),r.Jb(3,"hr"),r.Lb(4,"div",8),r.Lb(5,"div",9),r.Lb(6,"button",10),r.Lb(7,"i",11),r.ec(8," Volver"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(9,"div",12),r.Lb(10,"div",9),r.Lb(11,"form",13,14),r.Sb("ngSubmit",function(){r.ac(t);const e=r.Zb(12);return r.Ub().guardar(e)}),r.Lb(13,"div",15),r.Lb(14,"label",16),r.ec(15,"Nombre"),r.Kb(),r.Lb(16,"input",17),r.Sb("ngModelChange",function(e){return r.ac(t),r.Ub().product.name=e}),r.Kb(),r.Lb(17,"small",18),r.ec(18,"Este campo es obligatorio"),r.Kb(),r.Kb(),r.Lb(19,"div",15),r.Lb(20,"label",19),r.ec(21,"Cantidad"),r.Kb(),r.Lb(22,"input",20),r.Sb("ngModelChange",function(e){return r.ac(t),r.Ub().product.amount=e}),r.Kb(),r.Lb(23,"button",21),r.Sb("click",function(){return r.ac(t),r.Ub().sumarCantidad()}),r.Jb(24,"i",22),r.Kb(),r.Lb(25,"button",23),r.Sb("click",function(){return r.ac(t),r.Ub().restarCantidad()}),r.Jb(26,"i",24),r.Kb(),r.Kb(),r.Lb(27,"div",15),r.Lb(28,"label",25),r.ec(29,"Categor\xeda"),r.Kb(),r.Lb(30,"input",26),r.Sb("ngModelChange",function(e){return r.ac(t),r.Ub().product.category=e}),r.Kb(),r.Kb(),r.Jb(31,"hr"),r.Lb(32,"div",27),r.Lb(33,"button",28),r.Jb(34,"i",29),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()}if(2&t){const t=r.Ub();r.yb(16),r.Vb("ngModel",t.product.name),r.yb(6),r.Vb("ngModel",t.product.amount),r.yb(8),r.Vb("ngModel",t.product.category)}}let H_=(()=>{class t{constructor(t,e){this.productService=t,this.route=e,this.product=new U_,this.userName=sessionStorage.getItem("uname")}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");"new"!==t&&this.productService.getOneProduct(t).subscribe(e=>{this.product=e,this.product.id=t})}guardar(t){if(t.invalid)return void hs.a.fire({title:"Error",text:"No es posible guardar los cambios",allowOutsideClick:!1,icon:"error"});let e;hs.a.fire({title:"Espere",text:"Guardando informaci\xf3n",allowOutsideClick:!1,icon:"info"}),hs.a.showLoading(),e=this.product.id?this.productService.updateProduct(this.product):this.productService.addProduct(this.product),e.subscribe(t=>{hs.a.fire({title:this.product.name,text:"Datos almacenados correctamente",icon:"success"})})}sumarCantidad(){this.product.amount=this.product.amount+1}restarCantidad(){this.product.amount>1&&(this.product.amount=this.product.amount-1)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Ls),r.Ib(Oi))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-product"]],decls:2,vars:2,consts:[["class","mx-auto",4,"ngIf"],[4,"ngIf"],[1,"mx-auto"],[1,"card","mx-auto","text-white","mb-3",2,"max-width","18rem"],[1,"card-header","bg-danger","text-center"],[1,"card-body","bg-dark"],[1,"card-title"],[1,"card-text"],[1,"row","text-center"],[1,"col"],["routerLink","/products",1,"btn","btn-primary"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"row"],[3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["for","name"],["id","name","name","name","type","text","placeholder","Nombre del producto","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-text","text-muted"],["for","amount"],["id","amount","name","amount","type","number","min","1","placeholder","N\xfamero de unidades",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-success","w-50",3,"click"],[1,"fa","fa-plus"],["type","button",1,"btn","btn-danger","w-50",3,"click"],[1,"fa","fa-minus"],["for","category"],["id","category","name","category","type","text","placeholder","Categor\xeda del producto",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","text-center"],["type","submit",1,"btn","btn-primary","w-25"],[1,"fa","fa-save"]],template:function(t,e){1&t&&(r.dc(0,F_,9,0,"div",0),r.dc(1,q_,35,3,"div",1)),2&t&&(r.Vb("ngIf",null==e.userName),r.yb(1),r.Vb("ngIf",e.userName))},directives:[D,zo,Ne,Jt,Ie,It,De,Wt,je,Zt],styles:[""]}),t})(),z_=(()=>{class t{constructor(t,e){this.productService=t,this.router=e}ngOnInit(){}login(){this.productService.login()}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Ls),r.Ib(Ho))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-login"]],decls:12,vars:0,consts:[[1,"card","text-center"],[1,"card-header"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary",3,"click"],[1,"card-footer","text-muted"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.ec(2," Lista de la compra "),r.Kb(),r.Lb(3,"div",2),r.Lb(4,"h5",3),r.ec(5,"Acceso v\xeda Google"),r.Kb(),r.Lb(6,"p",4),r.ec(7,"Pulsando el bot\xf3n podr\xe1s acceder a tu lista de la compra."),r.Kb(),r.Lb(8,"a",5),r.Sb("click",function(){return e.login()}),r.ec(9,"Acceder"),r.Kb(),r.Kb(),r.Lb(10,"div",6),r.ec(11," Ra\xfal Morales "),r.Kb(),r.Kb())},styles:[""]}),t})();const B_=[{path:"products",component:M_},{path:"product/:id",component:H_},{path:"login",component:z_},{path:"**",component:z_}];let K_=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[es.forRoot(B_)],es]}),t})(),G_=(()=>{class t{constructor(t){this.title="firecrud",this.chats=t.collection("chats").valueChanges()}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(C_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"mt-3"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Jb(1,"router-outlet"),r.Kb())},directives:[Ko],styles:[""]}),t})(),$_=(()=>{class t{}return t.\u0275mod=r.Gb({type:t,bootstrap:[G_]}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Ls,S_],imports:[[mt,K_,Ts.a.initializeApp(i),x_,Rs,Le,On]]}),t})();Object(r.S)(),pt().bootstrapModule($_).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);